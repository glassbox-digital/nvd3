/* nvd3 version 1.9.26 (https://github.com/shilon5/nvd3) 2021-12-09 */

!function(){var a={};a.dev=!1,a.tooltip=a.tooltip||{},a.utils=a.utils||{},a.models=a.models||{},a.charts={},a.logs={},a.dom={},a.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),a.dev&&(a.dispatch.on("render_start",function(b){a.logs.startTime=+new Date}),a.dispatch.on("render_end",function(b){a.logs.endTime=+new Date,a.logs.totalTime=a.logs.endTime-a.logs.startTime,a.log("total",a.logs.totalTime)})),a.log=function(){if(a.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(a.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var b=Function.prototype.bind.call(console.log,console);b.apply(console,arguments)}return arguments[arguments.length-1]},a.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")},a.render=function(b){b=b||1,a.render.active=!0,a.dispatch.render_start();var c=function(){for(var d,e,f=0;f<b&&(e=a.render.queue[f]);f++)d=e.generate(),typeof e.callback==typeof Function&&e.callback(d);a.render.queue.splice(0,f),a.render.queue.length?setTimeout(c):(a.dispatch.render_end(),a.render.active=!1)};setTimeout(c)},a.render.active=!1,a.render.queue=[],a.addGraph=function(b){typeof arguments[0]==typeof Function&&(b={generate:arguments[0],callback:arguments[1]}),a.render.queue.push(b),a.render.active||a.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=a),"undefined"!=typeof window&&(window.nv=a),a.dom.write=function(a){return void 0!==window.fastdom?fastdom.write(a):a()},a.dom.read=function(a){return void 0!==window.fastdom?fastdom.read(a):a()},a.interactiveGuideline=function(){"use strict";function b(l){l.each(function(l){function m(){var a=d3.mouse(this),d=a[0],e=a[1],h=!0,i=!1;if(k&&(d=d3.event.offsetX,e=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(h=!1),d3.event.target.className.baseVal.match("nv-legend")&&(i=!0)),h&&(d-=c.left,e-=c.top),d<0||e<0||d>o||e>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||i){if(k&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(j.nvPointerEventsClass)))return;return g.elementMouseout({mouseX:d,mouseY:e}),b.renderGuideLine(null),void j.hidden(!0)}j.hidden(!1);var l="function"==typeof f.rangeBands,m=void 0;if(l){var n=d3.bisect(f.range(),d)-1;if(!(f.range()[n]+f.rangeBand()>=d))return g.elementMouseout({mouseX:d,mouseY:e}),b.renderGuideLine(null),void j.hidden(!0);m=f.domain()[d3.bisect(f.range(),d)-1]}else m=f.invert(d);g.elementMousemove({mouseX:d,mouseY:e,pointXValue:m}),"dblclick"===d3.event.type&&g.elementDblclick({mouseX:d,mouseY:e,pointXValue:m}),"click"===d3.event.type&&g.elementClick({mouseX:d,mouseY:e,pointXValue:m}),"mousedown"===d3.event.type&&g.elementMouseDown({mouseX:d,mouseY:e,pointXValue:m}),"mouseup"===d3.event.type&&g.elementMouseUp({mouseX:d,mouseY:e,pointXValue:m})}var n=d3.select(this),o=d||960,p=e||400,q=n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([l]);q.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),i&&(i.on("touchmove",m).on("mousemove",m,!0).on("mouseout",m,!0).on("mousedown",m,!0).on("mouseup",m,!0).on("dblclick",m).on("click",m),b.guideLine=null,b.renderGuideLine=function(c){h&&(b.guideLine&&b.guideLine.attr("x1")===c||a.dom.write(function(){var b=q.select(".nv-interactiveGuideLine").selectAll("line").data(null!=c?[a.utils.NaNtoZero(c)]:[],String);b.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",p).attr("y2",0),b.exit().remove()}))})})}var c={left:0,top:0},d=null,e=null,f=d3.scale.linear(),g=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),h=!0,i=null,j=a.models.tooltip(),k="ActiveXObject"in window;return j.duration(0).hideDelay(0).hidden(!1),b.dispatch=g,b.tooltip=j,b.margin=function(a){return arguments.length?(c.top=void 0!==a.top?a.top:c.top,c.left=void 0!==a.left?a.left:c.left,b):c},b.width=function(a){return arguments.length?(d=a,b):d},b.height=function(a){return arguments.length?(e=a,b):e},b.xScale=function(a){return arguments.length?(f=a,b):f},b.showGuideLine=function(a){return arguments.length?(h=a,b):h},b.svgContainer=function(a){return arguments.length?(i=a,b):i},b},a.interactiveBisect=function(a,b,c){"use strict";if(!(a instanceof Array))return null;var d;d="function"!=typeof c?function(a){return a.x}:c;var e=function(a,b){return d(a)-b},f=d3.bisector(e).left,g=d3.max([0,f(a,b)-1]),h=d(a[g]);if(void 0===h&&(h=g),h===b)return g;var i=d3.min([g+1,a.length-1]),j=d(a[i]);return void 0===j&&(j=i),Math.abs(j-b)>=Math.abs(h-b)?g:i},a.nearestValueIndex=function(a,b,c){"use strict";var d=1/0,e=null;return a.forEach(function(a,f){var g=Math.abs(b-a);null!=a&&g<=d&&g<c&&(d=g,e=f)}),e},a.models.tooltip=function(){"use strict";function b(){if(!m){var a=j||document.body;m=d3.select(a).append("div").attr("class","nvtooltip "+(i||"xy-tooltip")).attr("id",d),m.style("top",0).style("left",0),m.style("opacity",0),m.style("position","absolute"),m.selectAll("div, table, td, tr").classed(s,!0),m.classed(s,!0)}}function c(){if(o&&A(e))return a.dom.write(function(){b();var a=z(e);a&&(m.node().innerHTML=a),C()}),c}var d="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,f="w",g=25,h=0,i=null,j=null,k=!0,l=200,m=null,n={left:null,top:null},o=!0,p=!1,q=100,r=!0,s="nv-pointer-events-none",t=function(){return{left:null!==d3.event?d3.event.offsetX:0,top:null!==d3.event?d3.event.offsetY:0}},u=function(a,b){return a},v=function(a,b){if(Math.abs(a.refValue)>0){var c=(a.value-a.refValue)/a.refValue;return d3.format(".1f")(100*c)+"%"}return""},w=function(a){return a.value||a.data},x=function(a){return a.footer},y=function(a,b){return a},z=function(a){if(null===a)return"";if(0===(a.series||[]).filter(function(a){return null!==a.value}).length)return" ";var b=d3.select(document.createElement("table"));if(r){b.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(w(a))}var c=b.selectAll("tbody").data([a]).enter().append("tbody"),d=c.selectAll("tr").data(function(a){return(a.series||[]).filter(function(a){return a.value||a.refValue})}).enter().append("tr").classed("highlight",function(a){return a.highlight});d.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color}),d.append("td").classed("key",!0).classed("total",function(a){return!!a.total}).html(function(a,b){return y(a.key,b)}),d.append("td").classed("value",!0).html(function(a,b){return u(a.value,b)}),d.append("td").classed("ref-value",!0).classed("positive",function(a,b){return e.negateTrend?a.value<a.refValue:a.value>a.refValue}).classed("negative",function(a,b){return e.negateTrend?a.value>a.refValue:a.value<a.refValue}).html(function(a,b){return v(a,b)}),d.append("td").classed("has-alert",function(a){return a.data&&a.pointAlert&&a.pointAlert(a.data)}).html('<div class="alert-icon"></div>'),d.selectAll("td").each(function(a){if(a.highlight){var b=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),c=.6;d3.select(this).style("border-bottom-color",b(c)).style("border-top-color",b(c))}});var f=b.node().outerHTML,g=x(a);return void 0!==g&&(f+="<div class='footer'>"+g+"</div>"),f},A=function(a){if(a&&a.series){if(a.series instanceof Array)return!!a.series.length;if(a.series instanceof Object)return a.series=[a.series],!0}return!1},B=function(a){var b,c,d,e=m.node().offsetHeight,h=m.node().offsetWidth,i=m.node().parentNode.clientWidth,j=m.node().parentNode.clientHeight;switch(f){case"e":b=-h-g,c=-e/2,a.left+b<0&&(b=g),(d=a.top+c)<0&&(c-=d),(d=a.top+c+e)>j&&(c-=d-j);break;case"w":b=g,c=-e/2,a.left+b+h>i&&(b=-h-g),(d=a.top+c)<0&&(c-=d),(d=a.top+c+e)>j&&(c-=d-j);break;case"n":b=-h/2-5,c=g,a.top+c+e>j&&(c=-e-g),(d=a.left+b)<0&&(b-=d),(d=a.left+b+h)>i&&(b-=d-i);break;case"s":b=-h/2,c=-e-g,a.top+c<0&&(c=g),(d=a.left+b)<0&&(b-=d),(d=a.left+b+h)>i&&(b-=d-i);break;case"center":b=-h/2,c=-e/2;break;default:b=0,c=0}return{left:b,top:c}},C=function(){a.dom.read(function(){var a=t(),b=B(a),c=Math.max(0,a.left+b.left),d=a.top+b.top;if(k)m.interrupt().transition().delay(l).duration(0).style("opacity",0);else{var e="translate("+n.left+"px, "+n.top+"px)",f="translate("+c+"px, "+d+"px)",g=d3.interpolateString(e,f),h=m.style("opacity")<.1;m.interrupt().transition().duration(h?0:q).styleTween("transform",function(a){return g},"important").styleTween("-webkit-transform",function(a){return g}).style("-ms-transform",f).style("opacity",1)}n.left=c,n.top=d})};return c.nvPointerEventsClass=s,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{duration:{get:function(){return q},set:function(a){q=a}},gravity:{get:function(){return f},set:function(a){f=a}},distance:{get:function(){return g},set:function(a){g=a}},snapDistance:{get:function(){return h},set:function(a){h=a}},classes:{get:function(){return i},set:function(a){i=a}},chartContainer:{get:function(){return j},set:function(a){j=a}},enabled:{get:function(){return o},set:function(a){o=a}},negateTrend:{get:function(){return p},set:function(a){p=a}},hideDelay:{get:function(){return l},set:function(a){l=a}},contentGenerator:{get:function(){return z},set:function(a){z=a}},valueFormatter:{get:function(){return u},set:function(a){u=a}},headerFormatter:{get:function(){return w},set:function(a){w=a}},footerFormatter:{get:function(){return x},set:function(a){x=a}},keyFormatter:{get:function(){return y},set:function(a){y=a}},headerEnabled:{get:function(){return r},set:function(a){r=a}},position:{get:function(){return t},set:function(a){t=a}},fixedTop:{get:function(){return null},set:function(b){a.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(b){a.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return k},set:function(a){k!=a&&(k=!!a,c())}},data:{get:function(){return e},set:function(a){a.point&&(a.value=a.point.x,a.series=a.series||{},a.series.value=a.point.y,a.series.color=a.point.color||a.series.color),e=a}},node:{get:function(){return m.node()},set:function(a){}},id:{get:function(){return d},set:function(a){}}}),a.utils.initOptions(c),c},function(){function b(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}a.utils.debounce=b,a.utils.windowSize=function(){var a={width:640,height:480};return window.innerWidth&&window.innerHeight?(a.width=window.innerWidth,a.height=window.innerHeight,a):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight,a):document.body&&document.body.offsetWidth?(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight,a):a},a.utils.windowResize=function(c){return c=b(c,330),window.addEventListener?window.addEventListener("resize",c):a.log("ERROR: Failed to bind to window.resize with: ",c),{callback:c,clear:function(){window.removeEventListener("resize",c)}}},a.utils.getColor=function(b){if(void 0===b)return a.utils.defaultColor();if(Array.isArray(b)){var c=d3.scale.ordinal().range(b);return function(a,b){var d=void 0===b?a:b;return a.color||c(d)}}return b},a.utils.defaultColor=function(){return a.utils.getColor(d3.scale.category20().range())},a.utils.customTheme=function(a,b,c){b=b||function(a){return a.key},c=c||d3.scale.category20().range();var d=c.length;return function(e,f){var g=b(e);return"function"==typeof a[g]?a[g]():void 0!==a[g]?a[g]:(d||(d=c.length),d-=1,c[d])}},a.utils.pjax=function(b,c){var d=function(d){d3.html(d,function(d){var e=d3.select(c).node();e.parentNode.replaceChild(d3.select(d).select(c).node(),e),a.utils.pjax(b,c)})};d3.selectAll(b).on("click",function(){history.pushState(this.href,this.textContent,this.href),d(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&d(d3.event.state)})},a.utils.calcApproxTextWidth=function(a){if("function"==typeof a.style&&"function"==typeof a.text){var b=parseInt(a.style("font-size").replace("px",""),10);return a.text().length*b*.5}return 0},a.utils.NaNtoZero=function(a){return"number"!=typeof a||isNaN(a)||null===a||a===1/0||a===-1/0?0:a},d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)},a.utils.renderWatch=function(b,c){if(!(this instanceof a.utils.renderWatch))return new a.utils.renderWatch(b,c);var d=void 0!==c?c:250,e=[],f=this;this.models=function(a){return a=[].slice.call(arguments,0),a.forEach(function(a){a.__rendered=!1,function(a){a.dispatch.on("renderEnd",function(b){a.__rendered=!0,f.renderEnd("model")})}(a),e.indexOf(a)<0&&e.push(a)}),this},this.reset=function(a){void 0!==a&&(d=a),e=[]},this.transition=function(a,b,c){if(b=arguments.length>1?[].slice.call(arguments,1):[],c=b.length>1?b.pop():void 0!==d?d:250,a.__rendered=!1,e.indexOf(a)<0&&e.push(a),0===c)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;0===a.length?a.__rendered=!0:a.every(function(a){return!a.length})?a.__rendered=!0:a.__rendered=!1;var g=0;return a.transition().duration(c).each(function(){++g}).each("end",function(c,d){0==--g&&(a.__rendered=!0,f.renderEnd.apply(this,b))})},this.renderEnd=function(){e.every(function(a){return a.__rendered})&&(e.forEach(function(a){a.__rendered=!1}),b.renderEnd.apply(this,arguments))}},a.utils.deepExtend=function(b){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(c){for(var d in c){var e=b[d]instanceof Array,f="object"==typeof b[d],g="object"==typeof c[d];f&&!e&&g?a.utils.deepExtend(b[d],c[d]):b[d]=c[d]}})},a.utils.state=function(){if(!(this instanceof a.utils.state))return new a.utils.state;var b={},c=function(){},d=function(){return{}},e=null,f=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(a){c(a,!0)}),this.getter=function(a){return d=a,this},this.setter=function(a,b){return b||(b=function(){}),c=function(c,d){a(c),d&&b()},this},this.init=function(b){e=e||{},a.utils.deepExtend(e,b)};var g=function(){var a=d();if(JSON.stringify(a)===JSON.stringify(b))return!1;for(var c in a)void 0===b[c]&&(b[c]={}),b[c]=a[c],f=!0;return!0};this.update=function(){e&&(c(e,!1),e=null),g.call(this)&&this.dispatch.change(b)}},a.utils.optionsFunc=function(a){return a&&d3.map(a).forEach(function(a,b){"function"==typeof this[a]&&this[a](b)}.bind(this)),this},a.utils.calcTicksX=function(b,c){var d=1,e=0;for(e;e<c.length;e+=1){var f=c[e]&&c[e].values?c[e].values.length:0;d=f>d?f:d}return a.log("Requested number of ticks: ",b),a.log("Calculated max values to be: ",d),b=b>d?b=d-1:b,b=b<1?1:b,b=Math.floor(b),a.log("Calculating tick count as: ",b),b},a.utils.calcTicksY=function(b,c){return a.utils.calcTicksX(b,c)},a.utils.initOption=function(a,b){a._calls&&a._calls[b]?a[b]=a._calls[b]:(a[b]=function(c){return arguments.length?(a._overrides[b]=!0,a._options[b]=c,a):a._options[b]},a["_"+b]=function(c){return arguments.length?(a._overrides[b]||(a._options[b]=c),a):a._options[b]})},a.utils.initOptions=function(b){b._overrides=b._overrides||{};var c=Object.getOwnPropertyNames(b._options||{}),d=Object.getOwnPropertyNames(b._calls||{});c=c.concat(d);for(var e in c)a.utils.initOption(b,c[e])},a.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]),c.unshift(b),c.unshift(a),d3.rebind.apply(this,c)},a.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})},a.utils.symbolMap=d3.map(),a.utils.symbol=function(){function b(b,e){var f=c.call(this,b,e),g=d.call(this,b,e);return-1!==d3.svg.symbolTypes.indexOf(f)?d3.svg.symbol().type(f).size(g)():a.utils.symbolMap.get(f)(g)}var c,d=64;return b.type=function(a){return arguments.length?(c=d3.functor(a),b):c},b.size=function(a){return arguments.length?(d=d3.functor(a),b):d},b},a.utils.inheritOptions=function(b,c){var d=Object.getOwnPropertyNames(c._options||{}),e=Object.getOwnPropertyNames(c._calls||{}),f=c._inherited||[],g=c._d3options||[],h=d.concat(e).concat(f).concat(g);h.unshift(c),h.unshift(b),d3.rebind.apply(this,h),b._inherited=a.utils.arrayUnique(d.concat(e).concat(f).concat(d).concat(b._inherited||[])),b._d3options=a.utils.arrayUnique(g.concat(b._d3options||[]))},a.utils.initSVG=function(a){a.classed({"nvd3-svg":!0}),a.attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").attr("version","1.1")},a.utils.dropShadow=function(a,b,c,d){var e=a.selectAll("filter#drop-shadow").data([1]),f=e.enter().append("filter").attr("id","drop-shadow");f.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",d||1.2),f.append("feOffset").attr("dx",c||1).attr("dy",b||1).attr("result","offsetblur"),f.append("feFlood").attr("floodColor","rgba(250,250,250,0.3)"),f.append("feComposite").attr("in2","offsetblur").attr("operator","in");var g=f.append("feMerge");g.append("feMergeNode"),g.append("feMergeNode").attr("in","SourceGraphic")},a.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400},a.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960},a.utils.availableHeight=function(b,c,d){return Math.max(0,a.utils.sanitizeHeight(b,c)-d.top-d.bottom)},a.utils.availableWidth=function(b,c,d){return Math.max(0,a.utils.sanitizeWidth(b,c)-d.left-d.right)},a.utils.noData=function(b,c){var d=b.options(),e=d.margin(),f=d.noData(),g=null==f?["No Data Available"]:[f],h=a.utils.availableHeight(null,c,e),i=a.utils.availableWidth(null,c,e),j=e.left+i/2,k=e.top+h/2;c.selectAll("g").remove();var l=c.selectAll(".nv-noData").data(g);l.enter().append("text").attr("class","nvd3 nv-noData").style("text-anchor","middle"),l.attr("x",j).attr("y",k+15).text(function(a){return a});var m=l.enter().append("g").classed("nv-noData-icon",!0).attr("transform","translate("+(+j-10)+" "+(+k-25)+") scale(1.25)").attr("viewBox","0 0 20 20");m.append("path").attr("d","M9.6,3.29A6.74,6.74,0,1,0,16.34,10,6.74,6.74,0,0,0,9.6,3.29ZM5.5,8.63a1,1,0,1,1,1,1A1,1,0,0,1,5.5,8.63Zm6.52,4L7.54,13.87a.68.68,0,0,1-.85-.48.69.69,0,0,1,.48-.86l4.48-1.24A.7.7,0,1,1,12,12.64Zm.51-3a1,1,0,1,1,1-1A1,1,0,0,1,12.53,9.65Z").attr("transform","translate(-1 -1.43)").attr("fill","none"),m.append("path").attr("d","M12.53,7.61a1,1,0,1,0,1,1A1,1,0,0,0,12.53,7.61Z").attr("transform","translate(-1 -1.43)").attr("fill","#ddd"),m.append("path").attr("d","M7.54,8.63a1,1,0,1,0-1,1A1,1,0,0,0,7.54,8.63Z").attr("transform","translate(-1 -1.43)").attr("fill","#ddd"),m.append("path").attr("d","M7.54,8.63a1,1,0,1,0-1,1A1,1,0,0,0,7.54,8.63Z").attr("transform","translate(-1 -1.43)").attr("fill","#ddd"),m.append("path").attr("d","M20.69,19l-4.2-3.8a8.59,8.59,0,1,0-1.27,1.37l4.23,3.81a.92.92,0,0,0,1.31-.06A.94.94,0,0,0,20.69,19ZM9.6,16.77A6.74,6.74,0,1,1,16.34,10,6.74,6.74,0,0,1,9.6,16.77Z").attr("transform","translate(-1 -1.43)").attr("fill","#ddd"),m.append("path").attr("d","M11.65,11.29,7.17,12.53a.69.69,0,0,0-.48.86.68.68,0,0,0,.85.48L12,12.64a.7.7,0,1,0-.37-1.35Z").attr("transform","translate(-1 -1.43)").attr("fill","#ddd")},a.utils.wrapTicks=function(a,b){a.each(function(){for(var a,c=d3.select(this),d=c.text().split(/\s+/).reverse(),e=[],f=0,g=1.1,h=c.attr("y"),i=parseFloat(c.attr("dy")),j=c.text(null).append("tspan").attr("x",0).attr("y",h).attr("dy",i+"em");a=d.pop();)e.push(a),j.text(e.join(" ")),j.node().getComputedTextLength()>b&&(e.pop(),j.text(e.join(" ")),e=[a],j=c.append("tspan").attr("x",0).attr("y",h).attr("dy",++f*g+i+"em").text(a))})},a.utils.arrayEquals=function(b,c){if(b===c)return!0;if(!b||!c)return!1;if(b.length!=c.length)return!1;for(var d=0,e=b.length;d<e;d++)if(b[d]instanceof Array&&c[d]instanceof Array){if(!a.arrayEquals(b[d],c[d]))return!1}else if(b[d]!=c[d])return!1;return!0}}(),a.models.axis=function(){"use strict";function b(a,b){for(var c=[],d=0;d<a.length;d++)0!==d&&b(a[d])===b(a[d-1])||c.push(a[d]);return c}function c(a,c){if(a=b(a.sort(),function(a){return a}),a.length>c+1){for(var d=[],e=Math.max(1,Math.ceil(a.length/c)),f=0;f<a.length;f++)if(f%e==0||f===a.length-1){var g=a[f];d.push(g)}return d}return a}function d(i){return v.reset(),i.each(function(d){var i=d3.select(this);a.utils.initSVG(i);var s=i.selectAll("g.nv-wrap.nv-axis").data([d]),t=s.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),w=(t.append("g"),s.select("g"));if(null!==q)if("top"==e.orient()||"bottom"==e.orient()){var x=Math.ceil(Math.abs(f.range()[1]-f.range()[0])/100);e.tickValues(c(q,x))}else e.tickValues(q);else null!==p?e.ticks(p):"top"!=e.orient()&&"bottom"!=e.orient()||e.ticks(Math.abs(f.range()[1]-f.range()[0])/100);w.watchTransition(v,"axis").call(e),u=u||e.scale();var y=e.tickFormat();if(null==y&&(y=u.tickFormat()),"left"===e.orient()||"right"===e.orient()){var z=w.selectAll(".tick").data()||[],A=b(z,y);k&&(A.length>0&&A[0]===f.domain()[0]&&A.splice(0,1),A.length>0&&y(A[A.length-1])===y(f.domain()[1])&&A.pop()),e.tickValues(A),w.call(e)}var B=w.selectAll("text.nv-axislabel").data([j||null]);B.exit().remove();var C,D,E;switch(e.orient()){case"top":B.enter().append("text").attr("class","nv-axislabel"),E=0,1===f.range().length?E=o?2*f.range()[0]+f.rangeBand():0:2===f.range().length?E=o?f.range()[0]+f.range()[1]+f.rangeBand():f.range()[1]:f.range().length>2&&(E=f.range()[f.range().length-1]+(f.range()[1]-f.range()[0])),B.attr("text-anchor","middle").attr("y",0).attr("x",E/2),k&&(D=s.selectAll("g.nv-axisMaxMin").data(f.domain()),D.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),D.exit().remove(),D.attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(f(b))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(a,b){var c=y(a);return(""+c).match("NaN")?"":c}),D.watchTransition(v,"min-max top").attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(f.range()[c])+",0)"}));break;case"bottom":C=r+36;var F=30,G=0,H=w.selectAll("g").select("text"),I="";if(l%360){H.each(function(a,b){var c=this.getBoundingClientRect(),d=c.width;G=c.height,d>F&&(F=d)}),I="rotate("+l+" 0,"+(G/2+e.tickPadding())+")";var J=Math.abs(Math.sin(l*Math.PI/180));C=(J?J*F:F)+30,H.attr("transform",I).style("text-anchor",l%360>0?"start":"end")}else n?H.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"}):H.attr("transform","translate(0,0)");B.enter().append("text").attr("class","nv-axislabel"),E=0,1===f.range().length?E=o?2*f.range()[0]+f.rangeBand():0:2===f.range().length?E=o?f.range()[0]+f.range()[1]+f.rangeBand():f.range()[1]:f.range().length>2&&(E=f.range()[f.range().length-1]+(f.range()[1]-f.range()[0])),B.attr("text-anchor","middle").attr("y",C).attr("x",E/2),k&&(D=s.selectAll("g.nv-axisMaxMin").data([f.domain()[0],f.domain()[f.domain().length-1]]),D.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),D.exit().remove(),D.attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(f(b)+(o?f.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",I).style("text-anchor",l?l%360>0?"start":"end":"middle").text(function(a,b){var c=y(a);return(""+c).match("NaN")?"":c}),D.watchTransition(v,"min-max bottom").attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(f(b)+(o?f.rangeBand()/2:0))+",0)"}));break;case"right":B.enter().append("text").attr("class","nv-axislabel"),B.style("text-anchor",m?"middle":"begin").attr("transform",m?"rotate(90)":"").attr("y",m?12-Math.max(g.right,h):-10).attr("x",m?d3.max(f.range())/2:e.tickPadding()),k&&(D=s.selectAll("g.nv-axisMaxMin").data(f.domain()),D.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),D.exit().remove(),D.attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(f(b))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(a,b){var c=y(a);return(""+c).match("NaN")?"":c}),D.watchTransition(v,"min-max right").attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(f.range()[c])+")"}).select("text").style("opacity",1));break;case"left":B.enter().append("text").attr("class","nv-axislabel"),B.style("text-anchor",m?"middle":"end").attr("transform",m?"rotate(-90)":"").attr("y",m?25-Math.max(g.left,h)-(r||0):-10).attr("x",m?-d3.max(f.range())/2:-e.tickPadding()),k&&(D=s.selectAll("g.nv-axisMaxMin").data(f.domain()),D.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),D.exit().remove(),D.attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(u(b))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(a,b){var c=y(a);return(""+c).match("NaN")?"":c}),D.watchTransition(v,"min-max right").attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(f.range()[c])+")"}).select("text").style("opacity",1))}if(B.text(function(a){return a}),!k||"left"!==e.orient()&&"right"!==e.orient()||(w.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1),(f(a)<f.range()[1]+10||f(a)>f.range()[0]-10)&&((a>1e-10||a<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),f.domain()[0]==f.domain()[1]&&0==f.domain()[0]&&s.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1})),k&&("top"===e.orient()||"bottom"===e.orient())){var K=[];s.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?K.push(f(a)-this.getBoundingClientRect().width-4):K.push(f(a)+this.getBoundingClientRect().width+4)}catch(c){b?K.push(f(a)-4):K.push(f(a)+4)}}),w.selectAll("g").each(function(a,b){(f(a)<K[0]||f(a)>K[1])&&(a>1e-10||a<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}w.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1e5*a)/1e6)&&void 0!==a}).classed("zero",!0),u=f.copy()}),v.renderEnd("axis immediate"),d}var e=d3.svg.axis(),f=d3.scale.linear(),g={top:0,right:0,bottom:0,left:0},h=75,i=60,j=null,k=!0,l=0,m=!0,n=!1,o=!1,p=null,q=null,r=0,s=250,t=d3.dispatch("renderEnd");e.scale(f).orient("bottom").tickFormat(function(a){return a});var u,v=a.utils.renderWatch(t,s);return d.axis=e,d.dispatch=t,d.options=a.utils.optionsFunc.bind(d),d._options=Object.create({},{axisLabelDistance:{get:function(){return r},set:function(a){r=a}},staggerLabels:{get:function(){return n},set:function(a){n=a}},rotateLabels:{get:function(){return l},set:function(a){l=a}},rotateYLabel:{get:function(){return m},set:function(a){m=a}},showMaxMin:{get:function(){return k},set:function(a){k=a}},axisLabel:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return i},set:function(a){i=a}},ticks:{get:function(){return p},set:function(a){p=a}},xValues:{get:function(){return q},set:function(a){q=a}},width:{get:function(){return h},set:function(a){h=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},duration:{get:function(){return s},set:function(a){s=a,v.reset(s)}},scale:{get:function(){return f},set:function(b){f=b,e.scale(f),o="function"==typeof f.rangeBands,a.utils.inheritOptionsD3(d,f,["domain","range","rangeBand","rangeBands"])}}}),a.utils.initOptions(d),a.utils.inheritOptionsD3(d,e,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),a.utils.inheritOptionsD3(d,f,["domain","range","rangeBand","rangeBands"]),d},a.models.boxPlot=function(){"use strict";function b(l){return v.reset(),l.each(function(b){var l=j-i.left-i.right,p=k-i.top-i.bottom;r=d3.select(this),a.utils.initSVG(r),m.domain(c||b.map(function(a,b){return o(a,b)})).rangeBands(e||[0,l],.1);var w=[];if(!d){w=[d3.min(b.map(function(a){var b=[];return b.push(a.values.Q1),a.values.hasOwnProperty("whisker_low")&&null!==a.values.whisker_low&&b.push(a.values.whisker_low),a.values.hasOwnProperty("outliers")&&null!==a.values.outliers&&(b=b.concat(a.values.outliers)),d3.min(b)})),d3.max(b.map(function(a){var b=[];return b.push(a.values.Q3),a.values.hasOwnProperty("whisker_high")&&null!==a.values.whisker_high&&b.push(a.values.whisker_high),a.values.hasOwnProperty("outliers")&&null!==a.values.outliers&&(b=b.concat(a.values.outliers)),d3.max(b)}))]}n.domain(d||w),n.range(f||[p,0]),g=g||m,h=h||n.copy().range([n(0),n(0)]);var x=r.selectAll("g.nv-wrap").data([b]);x.enter().append("g").attr("class","nvd3 nv-wrap");x.attr("transform","translate("+i.left+","+i.top+")");var y=x.selectAll(".nv-boxplot").data(function(a){return a}),z=y.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);y.attr("class","nv-boxplot").attr("transform",function(a,b,c){return"translate("+(m(o(a,b))+.05*m.rangeBand())+", 0)"}).classed("hover",function(a){return a.hover}),y.watchTransition(v,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(a,c){return c*t/b.length}).attr("transform",function(a,b){return"translate("+(m(o(a,b))+.05*m.rangeBand())+", 0)"}),y.exit().remove(),z.each(function(a,b){var c=d3.select(this);["low","high"].forEach(function(d){a.values.hasOwnProperty("whisker_"+d)&&null!==a.values["whisker_"+d]&&(c.append("line").style("stroke",a.color?a.color:q(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+d),c.append("line").style("stroke",a.color?a.color:q(a,b)).attr("class","nv-boxplot-tick nv-boxplot-"+d))})});var A=y.selectAll(".nv-boxplot-outlier").data(function(a){return a.values.hasOwnProperty("outliers")&&null!==a.values.outliers?a.values.outliers:[]});A.enter().append("circle").style("fill",function(a,b,c){return q(a,c)}).style("stroke",function(a,b,c){return q(a,c)}).on("mouseover",function(a,b,c){d3.select(this).classed("hover",!0),s.elementMouseover({series:{key:a,color:q(a,c)},e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",!1),s.elementMouseout({series:{key:a,color:q(a,c)},e:d3.event})}).on("mousemove",function(a,b){s.elementMousemove({e:d3.event})}),A.attr("class","nv-boxplot-outlier"),A.watchTransition(v,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*m.rangeBand()).attr("cy",function(a,b,c){return n(a)}).attr("r","3"),A.exit().remove();var B=function(){return null===u?.9*m.rangeBand():Math.min(75,.9*m.rangeBand())},C=function(){return.45*m.rangeBand()-B()/2},D=function(){return.45*m.rangeBand()+B()/2};["low","high"].forEach(function(a){var b="low"===a?"Q1":"Q3";y.select("line.nv-boxplot-whisker.nv-boxplot-"+a).watchTransition(v,"nv-boxplot: boxplots").attr("x1",.45*m.rangeBand()).attr("y1",function(b,c){return n(b.values["whisker_"+a])}).attr("x2",.45*m.rangeBand()).attr("y2",function(a,c){return n(a.values[b])}),y.select("line.nv-boxplot-tick.nv-boxplot-"+a).watchTransition(v,"nv-boxplot: boxplots").attr("x1",C).attr("y1",function(b,c){return n(b.values["whisker_"+a])
}).attr("x2",D).attr("y2",function(b,c){return n(b.values["whisker_"+a])})}),["low","high"].forEach(function(a){z.selectAll(".nv-boxplot-"+a).on("mouseover",function(b,c,d){d3.select(this).classed("hover",!0),s.elementMouseover({series:{key:b.values["whisker_"+a],color:q(b,d)},e:d3.event})}).on("mouseout",function(b,c,d){d3.select(this).classed("hover",!1),s.elementMouseout({series:{key:b.values["whisker_"+a],color:q(b,d)},e:d3.event})}).on("mousemove",function(a,b){s.elementMousemove({e:d3.event})})}),z.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",!0),s.elementMouseover({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||q(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||q(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||q(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),s.elementMouseout({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||q(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||q(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||q(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(a,b){s.elementMousemove({e:d3.event})}),y.select("rect.nv-boxplot-box").watchTransition(v,"nv-boxplot: boxes").attr("y",function(a,b){return n(a.values.Q3)}).attr("width",B).attr("x",C).attr("height",function(a,b){return Math.abs(n(a.values.Q3)-n(a.values.Q1))||1}).style("fill",function(a,b){return a.color||q(a,b)}).style("stroke",function(a,b){return a.color||q(a,b)}),z.append("line").attr("class","nv-boxplot-median"),y.select("line.nv-boxplot-median").watchTransition(v,"nv-boxplot: boxplots line").attr("x1",C).attr("y1",function(a,b){return n(a.values.Q2)}).attr("x2",D).attr("y2",function(a,b){return n(a.values.Q2)}),g=m.copy(),h=n.copy()}),v.renderEnd("nv-boxplot immediate"),b}var c,d,e,f,g,h,i={top:0,right:0,bottom:0,left:0},j=960,k=500,l=Math.floor(1e4*Math.random()),m=d3.scale.ordinal(),n=d3.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=a.utils.defaultColor(),r=null,s=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),t=250,u=null,v=a.utils.renderWatch(s,t);return b.dispatch=s,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},maxBoxWidth:{get:function(){return u},set:function(a){u=a}},x:{get:function(){return o},set:function(a){o=a}},y:{get:function(){return p},set:function(a){p=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return l},set:function(a){l=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},color:{get:function(){return q},set:function(b){q=a.utils.getColor(b)}},duration:{get:function(){return t},set:function(a){t=a,v.reset(t)}}}),a.utils.initOptions(b),b},a.models.boxPlotChart=function(){"use strict";function b(k){return t.reset(),t.models(e),l&&t.models(f),m&&t.models(g),k.each(function(k){var p=d3.select(this);a.utils.initSVG(p);var t=(i||parseInt(p.style("width"))||960)-h.left-h.right,u=(j||parseInt(p.style("height"))||400)-h.top-h.bottom;if(b.update=function(){r.beforeUpdate(),p.transition().duration(s).call(b)},b.container=this,!(k&&k.length&&k.filter(function(a){return a.values.hasOwnProperty("Q1")&&a.values.hasOwnProperty("Q2")&&a.values.hasOwnProperty("Q3")}).length)){var v=p.selectAll(".nv-noData").data([q]);return v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",h.left+t/2).attr("y",h.top+u/2).text(function(a){return a}),b}p.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale().clamp(!0);var w=p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([k]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),y=x.append("defs"),z=w.select("g");if(x.append("g").attr("class","nv-x nv-axis"),x.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),x.append("g").attr("class","nv-barsWrap"),z.attr("transform","translate("+h.left+","+h.top+")"),n&&z.select(".nv-y.nv-axis").attr("transform","translate("+t+",0)"),e.width(t).height(u),z.select(".nv-barsWrap").datum(k.filter(function(a){return!a.disabled})).transition().call(e),y.append("clipPath").attr("id","nv-x-label-clip-"+e.id()).append("rect"),z.select("#nv-x-label-clip-"+e.id()+" rect").attr("width",c.rangeBand()*(o?2:1)).attr("height",16).attr("x",-c.rangeBand()/(o?1:2)),l){f.scale(c).ticks(a.utils.calcTicksX(t/100,k)).tickSize(-u,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),z.select(".nv-x.nv-axis").call(f);var A=z.select(".nv-x.nv-axis").selectAll("g");o&&A.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}m&&(g.scale(d).ticks(Math.floor(u/36)).tickSize(-t,0),z.select(".nv-y.nv-axis").call(g)),z.select(".nv-zeroLine line").attr("x1",0).attr("x2",t).attr("y1",d(0)).attr("y2",d(0))}),t.renderEnd("nv-boxplot chart immediate"),b}var c,d,e=a.models.boxPlot(),f=a.models.axis(),g=a.models.axis(),h={top:15,right:10,bottom:50,left:60},i=null,j=null,k=a.utils.getColor(),l=!0,m=!0,n=!1,o=!1,p=a.models.tooltip(),q="No Data Available.",r=d3.dispatch("beforeUpdate","renderEnd"),s=250;f.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),g.orient(n?"right":"left").tickFormat(d3.format(",.1f")),p.duration(0);var t=a.utils.renderWatch(r,s);return e.dispatch.on("elementMouseover.tooltip",function(a){p.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){p.data(a).hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){p()}),b.dispatch=r,b.boxplot=e,b.xAxis=f,b.yAxis=g,b.tooltip=p,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},staggerLabels:{get:function(){return o},set:function(a){o=a}},showXAxis:{get:function(){return l},set:function(a){l=a}},showYAxis:{get:function(){return m},set:function(a){m=a}},tooltipContent:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},duration:{get:function(){return s},set:function(a){s=a,t.reset(s),e.duration(s),f.duration(s),g.duration(s)}},color:{get:function(){return k},set:function(b){k=a.utils.getColor(b),e.color(k)}},rightAlignYAxis:{get:function(){return n},set:function(a){n=a,g.orient(a?"right":"left")}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.bullet=function(){"use strict";function b(d){return d.each(function(b,d){var m=j-c.left-c.right,r=k-c.top-c.bottom;l=d3.select(this),a.utils.initSVG(l);var s=f.call(this,b,d).slice(),t=g.call(this,b,d),u=h.call(this,b,d).slice(),v=d3.scale.linear().domain(d3.extent(d3.merge([i,[d3.max(s,o)],[d3.sum(u,o)]]))).range(e?[m,0]:[0,m]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(v.range());this.__chart__=v;var w=l.selectAll("g.nv-wrap.nv-bullet").data([b]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet");w.attr("transform","translate("+c.left+","+c.top+")");var y=(x.append("g"),w.select("g"));y.selectAll("rect.nv-range").data(s).enter().append("rect").attr("class","nv-range");var z=function(a){return Math.abs(v(o(a))-v(0))},A=function(a){return v(a<0?o(a):0)};y.selectAll("rect.nv-range").attr("height",r).attr("width",z).attr("x",A),y.selectAll("rect.nv-measure").data(u).enter().append("rect").attr("class","nv-measure");var B=Math.max(10,u.length>0?r/u.length:20);y.selectAll("rect.nv-measure").style("fill",p).attr("height",B).attr("y",function(a,b){return b*B}).attr("width",function(a){return o(a)<0?v(0)-v(o(a)):v(o(a))-v(0)}).attr("x",function(a,b){return v(b>0?d3.sum(u.slice(0,b),function(a){return Math.max(0,o(a))})+Math.min(0,o(a)):0)}).on("mouseover",function(a,b){q.elementMouseover({value:o(a),label:n(a),color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){q.elementMousemove({value:o(a),label:n(a),color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){q.elementMouseout({value:o(a),label:n(a),color:d3.select(this).style("fill")})}),y.selectAll("line.nv-marker").data(t).enter().append("line").attr("class","nv-marker"),y.selectAll("line.nv-marker").attr("x1",function(a){return v(o(a))}).attr("x2",function(a){return v(o(a))}).attr("y1",0).attr("y2",r),w.selectAll(".nv-range").on("mouseover",function(a,b){q.elementMouseover({value:o(a),label:n(a),color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){q.elementMousemove({value:o(a),label:n(a),color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){q.elementMouseout({value:o(a),label:n(a),color:d3.select(this).style("fill")})})}),b}var c={top:0,right:0,bottom:0,left:0},d="left",e=!1,f=function(a){return a.ranges},g=function(a){return a.markers?a.markers:[]},h=function(a){return a.measures},i=[0],j=380,k=null,l=null,m=null,n=function(a){return a[0]},o=function(a){return a[1]},p=a.utils.getColor(["#1f77b4"]),q=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");return b.dispatch=q,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{ranges:{get:function(){return f},set:function(a){f=a}},markers:{get:function(){return g},set:function(a){g=a}},measures:{get:function(){return h},set:function(a){h=a}},forceX:{get:function(){return i},set:function(a){i=a}},width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},tickFormat:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return c},set:function(a){c.top=void 0!==a.top?a.top:c.top,c.right=void 0!==a.right?a.right:c.right,c.bottom=void 0!==a.bottom?a.bottom:c.bottom,c.left=void 0!==a.left?a.left:c.left}},orient:{get:function(){return d},set:function(a){d=a,e="right"==d||"bottom"==d}},color:{get:function(){return p},set:function(b){p=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.bulletChart=function(){"use strict";function b(e){return e.each(function(p,q){var r=d3.select(this);a.utils.initSVG(r);var s=a.utils.availableWidth(k,r,g),t=a.utils.availableHeight(l,r,g);if(b.update=function(){b(e)},b.container=this,d.chartContainer(b.container.parentNode),!p||!p.length)return a.utils.noData(b,r),b;r.selectAll(".nv-noData").remove();var u=h.call(this,p[0],q).slice(),v=i.call(this,p[0],q).slice(),w=j.call(this,p[0],q).slice(),x=r.selectAll("g.nv-wrap.nv-bulletChart").data(p),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),z=y.append("g"),A=x.select("g");z.append("g").attr("class","nv-bulletWrap"),z.append("g").attr("class","nv-titles"),x.attr("transform","translate("+g.left+","+g.top+")");var B=d3.scale.linear().domain(d3.extent(d3.merge([c.forceX(),d3.extent(u,c.y()),d3.extent(v,c.y()),[d3.sum(w,c.y())]]))).range(f?[s,0]:[0,s]),C=this.__chart__||d3.scale.linear().domain([0,1/0]).range(B.range());this.__chart__=B;var D=z.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(l-g.top-g.bottom)/2+")");D.append("text").attr("class","nv-title").text(function(a){return a.title}),D.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle}),c.width(s).height(t);var E=A.select(".nv-bulletWrap");d3.transition(E).call(c);var F=m||B.tickFormat(s/100);d.valueFormatter(n);var G=A.selectAll("g.nv-tick").data(B.ticks(o||s/100),function(a){return this.textContent||F(a)}),H=G.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+C(a)+",0)"}).style("opacity",1e-6);H.append("line").attr("y1",t).attr("y2",t+6),H.append("text").attr("text-anchor","middle").attr("y",t+7).text(F);var I=G.attr("transform",function(a){return"translate("+B(a)+",0)"}).style("opacity",1);I.select("line").attr("y1",t).attr("y2",t+10),I.select("text").attr("y",t+10),G.exit().attr("transform",function(a){return"translate("+B(a)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),b}var c=a.models.bullet(),d=a.models.tooltip(),e="left",f=!1,g={top:5,right:40,bottom:20,left:120},h=function(a){return a.ranges},i=function(a){return a.markers?a.markers:[]},j=function(a){return a.measures},k=null,l=null,m=null,n=d3.format(",.3f"),o=null,p=null,q=d3.dispatch();return d.duration(0).headerEnabled(!1),c.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:Math.abs(a.value),color:a.color},d.data(a).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(){d.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(){d()}),b.bullet=c,b.dispatch=q,b.tooltip=d,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{ranges:{get:function(){return h},set:function(a){h=a}},markers:{get:function(){return i},set:function(a){i=a}},measures:{get:function(){return j},set:function(a){j=a}},width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},tickFormat:{get:function(){return m},set:function(a){m=a}},valueFormat:{get:function(){return n},set:function(a){n=a}},ticks:{get:function(){return o},set:function(a){o=a}},noData:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},orient:{get:function(){return e},set:function(a){e=a,f="right"==e||"bottom"==e}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.candlestickBar=function(){"use strict";function b(x){return x.each(function(b){c=d3.select(this);var x=a.utils.availableWidth(i,c,h),y=a.utils.availableHeight(j,c,h);a.utils.initSVG(c);var A=x/b[0].values.length*.45;l.domain(d||d3.extent(b[0].values.map(n).concat(t))),v?l.range(f||[.5*x/b[0].values.length,x*(b[0].values.length-.5)/b[0].values.length]):l.range(f||[5+A/2,x-A/2-5]),m.domain(e||[d3.min(b[0].values.map(s).concat(u)),d3.max(b[0].values.map(r).concat(u))]).range(g||[y,0]),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1]));var B=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([b[0].values]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),D=C.append("defs"),E=C.append("g"),F=B.select("g");E.append("g").attr("class","nv-ticks"),B.attr("transform","translate("+h.left+","+h.top+")"),c.on("click",function(a,b){z.chartClick({data:a,index:b,pos:d3.event,id:k})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+k).append("rect"),B.select("#nv-chart-clip-path-"+k+" rect").attr("width",x).attr("height",y),F.attr("clip-path",w?"url(#nv-chart-clip-path-"+k+")":"");var G=B.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});G.exit().remove();var H=G.enter().append("g");G.attr("class",function(a,b,c){return(p(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});H.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+l(n(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return m(r(a,b))}).attr("x2",0).attr("y2",function(a,b){return m(s(a,b))}),H.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(l(n(a,b))-A/2)+","+(m(o(a,b))-(p(a,b)>q(a,b)?m(q(a,b))-m(p(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(a,b){var c=p(a,b),d=q(a,b);return c>d?m(d)-m(c):m(c)-m(d)});G.select(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+l(n(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return m(r(a,b))}).attr("x2",0).attr("y2",function(a,b){return m(s(a,b))}),G.select(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+(l(n(a,b))-A/2)+","+(m(o(a,b))-(p(a,b)>q(a,b)?m(q(a,b))-m(p(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(a,b){var c=p(a,b),d=q(a,b);return c>d?m(d)-m(c):m(c)-m(d)})}),b}var c,d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=null,j=null,k=Math.floor(1e4*Math.random()),l=d3.scale.linear(),m=d3.scale.linear(),n=function(a){return a.x},o=function(a){return a.y},p=function(a){return a.open},q=function(a){return a.close},r=function(a){return a.high},s=function(a){return a.low},t=[],u=[],v=!1,w=!0,x=a.utils.defaultColor(),y=!1,z=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return b.highlightPoint=function(a,d){b.clearHighlights(),c.select(".nv-candlestickBar .nv-tick-0-"+a).classed("hover",d)},b.clearHighlights=function(){c.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},b.dispatch=z,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return t},set:function(a){t=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return k},set:function(a){k=a}},interactive:{get:function(){return y},set:function(a){y=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},open:{get:function(){return p()},set:function(a){p=a}},close:{get:function(){return q()},set:function(a){q=a}},high:{get:function(){return r},set:function(a){r=a}},low:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!=a.top?a.top:h.top,h.right=void 0!=a.right?a.right:h.right,h.bottom=void 0!=a.bottom?a.bottom:h.bottom,h.left=void 0!=a.left?a.left:h.left}},color:{get:function(){return x},set:function(b){x=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.cumulativeLineChart=function(){"use strict";function b(l){return H.reset(),H.models(f),r&&H.models(g),s&&H.models(h),l.each(function(l){function A(a,c){d3.select(b.container).style("cursor","ew-resize")}function E(a,b){G.x=d3.event.x,G.i=Math.round(F.invert(G.x)),K()}function H(a,c){d3.select(b.container).style("cursor","auto"),y.index=G.i,C.stateChange(y)}function K(){ba.data([G]);var a=b.duration();b.duration(0),b.update(),b.duration(a)}var L=d3.select(this);a.utils.initSVG(L),L.classed("nv-chart-"+x,!0);var M=this,N=a.utils.availableWidth(o,L,m),O=a.utils.availableHeight(p,L,m);if(b.update=function(){0===D?L.call(b):L.transition().duration(D).call(b)},b.container=this,y.setter(J(l),b.update).getter(I(l)).update(),y.disabled=l.map(function(a){return!!a.disabled}),!z){var P;z={};for(P in y)y[P]instanceof Array?z[P]=y[P].slice(0):z[P]=y[P]}var Q=d3.behavior.drag().on("dragstart",A).on("drag",E).on("dragend",H);if(!(l&&l.length&&l.filter(function(a){return a.values.length}).length))return a.utils.noData(b,L),b;if(L.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale(),w)f.yDomain(null);else{var R=l.filter(function(a){return!a.disabled}).map(function(a,b){var c=d3.extent(a.values,f.y());return c[0]<-.95&&(c[0]=-.95),[(c[0]-c[1])/(1+c[1]),(c[1]-c[0])/(1+c[0])]}),S=[d3.min(R,function(a){return a[0]}),d3.max(R,function(a){return a[1]})];f.yDomain(S)}F.domain([0,l[0].values.length-1]).range([0,N]).clamp(!0);var l=c(G.i,l),T=v?"none":"all",U=L.selectAll("g.nv-wrap.nv-cumulativeLine").data([l]),V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),W=U.select("g");if(V.append("g").attr("class","nv-interactive"),V.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-background"),V.append("g").attr("class","nv-linesWrap").style("pointer-events",T),V.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),q&&(i.width(N),W.select(".nv-legendWrap").datum(l).call(i),m.top!=i.height()&&(m.top=i.height(),O=a.utils.availableHeight(p,L,m)),W.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")),u){var X=[{key:"Re-scale y-axis",disabled:!w}];j.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),W.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-m.top+")").call(j)}U.attr("transform","translate("+m.left+","+m.top+")"),t&&W.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)");var Y=l.filter(function(a){return a.tempDisabled});U.select(".tempDisabled").remove(),Y.length&&U.append("text").attr("class","tempDisabled").attr("x",N/2).attr("y","-.71em").style("text-anchor","end").text(Y.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period."),v&&(k.width(N).height(O).margin({left:m.left,top:m.top}).svgContainer(L).xScale(d),U.select(".nv-interactive").call(k)),V.select(".nv-background").append("rect"),W.select(".nv-background rect").attr("width",N).attr("height",O),f.y(function(a){return a.display.y}).width(N).height(O).color(l.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!l[b].disabled&&!l[b].tempDisabled}));var Z=W.select(".nv-linesWrap").datum(l.filter(function(a){return!a.disabled&&!a.tempDisabled}));Z.call(f),l.forEach(function(a,b){a.seriesIndex=b});var $=l.filter(function(a){return!a.disabled&&!!B(a)}),_=W.select(".nv-avgLinesWrap").selectAll("line").data($,function(a){return a.key}),aa=function(a){var b=e(B(a));return b<0?0:b>O?O:b};_.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,b){return f.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",N).attr("y1",aa).attr("y2",aa),_.style("stroke-opacity",function(a){var b=e(B(a));return b<0||b>O?0:1}).attr("x1",0).attr("x2",N).attr("y1",aa).attr("y2",aa),_.exit().remove();var ba=Z.selectAll(".nv-indexLine").data([G]);ba.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(Q),ba.attr("transform",function(a){return"translate("+F(a.i)+",0)"}).attr("height",O),r&&(g.scale(d)._ticks(a.utils.calcTicksX(N/70,l)).tickSize(-O,0),W.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),W.select(".nv-x.nv-axis").call(g)),s&&(h.scale(e)._ticks(a.utils.calcTicksY(O/36,l)).tickSize(-N,0),W.select(".nv-y.nv-axis").call(h)),W.select(".nv-background rect").on("click",function(){G.x=d3.mouse(this)[0],G.i=Math.round(F.invert(G.x)),y.index=G.i,C.stateChange(y),K()}),f.dispatch.on("elementClick",function(a){G.i=a.pointIndex,G.x=F(G.i),y.index=G.i,C.stateChange(y),K()}),j.dispatch.on("legendClick",function(a,c){a.disabled=!a.disabled,w=!a.disabled,y.rescaleY=w,C.stateChange(y),b.update()}),i.dispatch.on("stateChange",function(a){for(var c in a)y[c]=a[c];C.stateChange(y),b.update()}),k.dispatch.on("elementMousemove",function(c){f.clearHighlights();var d,e,i,j=[];if(l.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(g,h){e=a.interactiveBisect(g.values,c.pointXValue,b.x()),f.highlightPoint(h,e,!0);var k=g.values[e];void 0!==k&&(void 0===d&&(d=k),void 0===i&&(i=b.xScale()(b.x()(k,e))),j.push({key:g.key,value:b.y()(k,e),color:n(g,g.seriesIndex)}))}),j.length>2){var m=b.yScale().invert(c.mouseY),o=Math.abs(b.yScale().domain()[0]-b.yScale().domain()[1]),p=.03*o,q=a.nearestValueIndex(j.map(function(a){return a.value}),m,p);null!==q&&(j[q].highlight=!0)}var r=g.tickFormat()(b.x()(d,e),e);k.tooltip.chartContainer(M.parentNode).valueFormatter(function(a,b){return h.tickFormat()(a)}).data({value:r,series:j})(),k.renderGuideLine(i)}),k.dispatch.on("elementMouseout",function(a){f.clearHighlights()}),C.on("changeState",function(a){void 0!==a.disabled&&(l.forEach(function(b,c){b.disabled=a.disabled[c]}),y.disabled=a.disabled),void 0!==a.index&&(G.i=a.index,G.x=F(G.i),y.index=a.index,ba.data([G])),void 0!==a.rescaleY&&(w=a.rescaleY),b.update()})}),H.renderEnd("cumulativeLineChart immediate"),b}function c(a,b){return K||(K=f.y()),b.map(function(b,c){if(!b.values)return b;var d=b.values[a];if(null==d)return b;var e=K(d,a);return e<-.95&&!E?(b.tempDisabled=!0,b):(b.tempDisabled=!1,b.values=b.values.map(function(a,b){return a.display={y:(K(a,b)-e)/(1+e)},a}),b)})}var d,e,f=a.models.line(),g=a.models.axis(),h=a.models.axis(),i=a.models.legend(),j=a.models.legend(),k=a.interactiveGuideline(),l=a.models.tooltip(),m={top:30,right:30,bottom:50,left:60},n=a.utils.defaultColor(),o=null,p=null,q=!0,r=!0,s=!0,t=!1,u=!0,v=!1,w=!0,x=f.id(),y=a.utils.state(),z=null,A=null,B=function(a){return a.average},C=d3.dispatch("stateChange","changeState","renderEnd"),D=250,E=!1;y.index=0,y.rescaleY=w,g.orient("bottom").tickPadding(7),h.orient(t?"right":"left"),l.valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),j.updateState(!1);var F=d3.scale.linear(),G={i:0,x:0},H=a.utils.renderWatch(C,D),I=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:G.i,rescaleY:w}}},J=function(a){return function(b){void 0!==b.index&&(G.i=b.index),void 0!==b.rescaleY&&(w=b.rescaleY),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};f.dispatch.on("elementMouseover.tooltip",function(a){var c={x:b.x()(a.point),y:b.y()(a.point),color:a.point.color};a.point=c,l.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){l.hidden(!0)});var K=null;return b.dispatch=C,b.lines=f,b.legend=i,b.controls=j,b.xAxis=g,b.yAxis=h,b.interactiveLayer=k,b.state=y,b.tooltip=l,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},rescaleY:{get:function(){return w},set:function(a){w=a}},showControls:{get:function(){return u},set:function(a){u=a}},showLegend:{get:function(){return q},set:function(a){q=a}},average:{get:function(){return B},set:function(a){B=a}},defaultState:{get:function(){return z},set:function(a){z=a}},noData:{get:function(){return A},set:function(a){A=a}},showXAxis:{get:function(){return r},set:function(a){r=a}},showYAxis:{get:function(){return s},set:function(a){s=a}},noErrorCheck:{get:function(){return E},set:function(a){E=a}},margin:{get:function(){return m},set:function(a){m.top=void 0!==a.top?a.top:m.top,m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},color:{get:function(){return n},set:function(b){n=a.utils.getColor(b),i.color(n)}},useInteractiveGuideline:{get:function(){return v},set:function(a){v=a,!0===a&&(b.interactive(!1),b.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a,h.orient(a?"right":"left")}},duration:{get:function(){return D},set:function(a){D=a,f.duration(D),g.duration(D),h.duration(D),H.reset(D)}}}),a.utils.inheritOptions(b,f),a.utils.initOptions(b),b},a.models.discreteBar=function(){"use strict";function b(m){return B.reset(),m.each(function(b){var m=k-j.left-j.right,A=l-j.top-j.bottom;c=d3.select(this),a.utils.initSVG(c),b.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var C=d&&e?[]:b.map(function(a){return a.values.map(function(a,b){return{x:p(a,b),y:q(a,b),y0:a.y0}})});n.domain(d||d3.merge(C).map(function(a){return a.x})).rangeBands(f||[0,m],.1),o.domain(e||d3.extent(d3.merge(C).map(function(a){return a.y}).concat(r))),v?o.range(g||[A-(o.domain()[0]<0?12:0),o.domain()[1]>0?12:0]):o.range(g||[A,0]),h=h||n,i=i||o.copy().range([o(0),o(0)]);var D=c.selectAll("g.nv-wrap.nv-discretebar").data([b]),E=D.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),F=E.append("g");D.select("g");F.append("g").attr("class","nv-groups"),D.attr("transform","translate("+j.left+","+j.top+")");var G=D.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});G.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),G.exit().watchTransition(B,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),G.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}),G.watchTransition(B,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var H=G.selectAll("g.nv-bar").data(function(a){return a.values});H.exit().remove();var I=H.enter().append("g").attr("transform",function(a,b,c){return"translate("+(n(p(a,b))+.05*n.rangeBand())+", "+o(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),y.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),y.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){y.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){var c=this;a.selected=!a.selected,d3.select(this).classed("selected",a.selected),y.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c}),d3.event.stopPropagation()}).on("dblclick",function(a,b){y.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});I.append("rect").attr("height",0).attr("width",.9*n.rangeBand()/b.length),w&&I.filter(function(a,b,c){return 0===c}).append("path").attr("class","nv-check").attr("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"),v?(I.append("text").attr("text-anchor","middle").classed("nv-bar-value",!0),H.select("text").text(function(a,b){return x(q(a,b))}).watchTransition(B,"discreteBar: bars text").attr("x",t?t/2:.9*n.rangeBand()/2).attr("y",function(a,b){return q(a,b)<0?o(q(a,b))-o(0)+12:-4})):H.selectAll("text").remove(),H.attr("class",function(a,b){return q(a,b)<0?"nv-bar negative":"nv-bar positive"}).classed("selected",function(a,b){return a.selected}).style("fill",function(a,b){return a.color||s(a,b)}).style("stroke",function(a,b){return a.color||s(a,b)}).select("rect").attr("class",z).watchTransition(B,"discreteBar: bars rect").attr("width",t||.9*n.rangeBand()/b.length),u&&H.style("fill",function(a,b,c){return d3.rgb(u(a,b)).toString()}).style("stroke",function(a,b,c){return d3.rgb(u(a,b)).toString()}),H.watchTransition(B,"discreteBar: bars").attr("transform",function(a,b){return"translate("+(n(p(a,b))+.05*n.rangeBand())+", "+(q(a,b)<0?o(0):o(0)-o(q(a,b))<1?o(0)-1:o(q(a,b)))+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(o(q(a,b))-o(0)),1)}),h=n.copy(),
i=o.copy()}),B.renderEnd("discreteBar immediate"),b}var c,d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,m=Math.floor(1e4*Math.random()),n=d3.scale.ordinal(),o=d3.scale.linear(),p=function(a){return a.x},q=function(a){return a.y},r=[0],s=a.utils.defaultColor(),t=null,u=null,v=!1,w=!1,x=d3.format(",.2f"),y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),z="discreteBar",A=250,B=a.utils.renderWatch(y,A);return b.dispatch=y,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},forceY:{get:function(){return r},set:function(a){r=a}},showValues:{get:function(){return v},set:function(a){v=a}},x:{get:function(){return p},set:function(a){p=a}},y:{get:function(){return q},set:function(a){q=a}},xScale:{get:function(){return n},set:function(a){n=a}},yScale:{get:function(){return o},set:function(a){o=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},valueFormat:{get:function(){return x},set:function(a){x=a}},id:{get:function(){return m},set:function(a){m=a}},rectClass:{get:function(){return z},set:function(a){z=a}},showChecks:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},color:{get:function(){return s},set:function(b){s=a.utils.getColor(b)}},barColor:{get:function(){return u},set:function(b){u=b?a.utils.getColor(b):null}},barWidth:{get:function(){return t},set:function(a){t=a}},duration:{get:function(){return A},set:function(a){A=a,B.reset(A)}}}),a.utils.initOptions(b),b},a.models.discreteBarChart=function(){"use strict";function b(m){return x.reset(),x.models(e),o&&x.models(f),p&&x.models(g),m.each(function(m){var u=d3.select(this);a.utils.initSVG(u);var x=a.utils.availableWidth(k,u,j),y=a.utils.availableHeight(l,u,j);if(b.update=function(){v.beforeUpdate(),u.transition().duration(w).call(b)},b.container=this,i.chartContainer(b.container.parentNode),!(m&&m.length&&m.filter(function(a){return a.values.length}).length))return a.utils.noData(b,u),b;u.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale().clamp(!0);var z=u.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([m]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),B=A.append("defs"),C=z.select("g");if(A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),A.append("g").attr("class","nv-barsWrap"),A.append("g").attr("class","nv-legendWrap"),C.attr("transform","translate("+j.left+","+j.top+")"),n&&(h.width(x),C.select(".nv-legendWrap").datum(m).call(h),j.top!=h.height()&&(j.top=h.height(),y=a.utils.availableHeight(l,u,j)),z.select(".nv-legendWrap").attr("transform","translate(0,"+-j.top+")")),q&&C.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),q&&C.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),e.width(x).height(y),C.select(".nv-barsWrap").datum(m.filter(function(a){return!a.disabled})).transition().call(e),B.append("clipPath").attr("id","nv-x-label-clip-"+e.id()).append("rect"),C.select("#nv-x-label-clip-"+e.id()+" rect").attr("width",c.rangeBand()*(r?2:1)).attr("height",16).attr("x",-c.rangeBand()/(r?1:2)),o){f.scale(c)._ticks(a.utils.calcTicksX(x/100,m)).tickSize(-y,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+(d.range()[0]+(e.showValues()&&d.domain()[0]<0?16:0))+")"),C.select(".nv-x.nv-axis").call(f);var D=C.select(".nv-x.nv-axis").selectAll("g");r&&D.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"}),t&&D.selectAll(".tick text").attr("transform","rotate("+t+" 0,0)").style("text-anchor",t>0?"start":"end"),s&&C.selectAll(".tick text").call(a.utils.wrapTicks,b.xAxis.rangeBand())}p&&(g.scale(d)._ticks(a.utils.calcTicksY(y/36,m)).tickSize(-x,0),C.select(".nv-y.nv-axis").call(g)),C.select(".nv-zeroLine line").attr("x1",0).attr("x2",q?-x:x).attr("y1",d(0)).attr("y2",d(0))}),x.renderEnd("discreteBar chart immediate"),b}var c,d,e=a.models.discreteBar(),f=a.models.axis(),g=a.models.axis(),h=a.models.legend(),i=a.models.tooltip(),j={top:15,right:10,bottom:50,left:60},k=null,l=null,m=a.utils.getColor(),n=!1,o=!0,p=!0,q=!1,r=!1,s=!1,t=0,u=null,v=d3.dispatch("beforeUpdate","renderEnd","selectChange"),w=250;f.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),g.orient(q?"right":"left").tickFormat(d3.format(",.1f")),i.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).keyFormatter(function(a,b){return f.tickFormat()(a,b)});var x=a.utils.renderWatch(v,w);return e.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color},i.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){i.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){i()}),e.dispatch.on("elementClick.select",function(a){v.selectChange(a)}),b.dispatch=v,b.discretebar=e,b.legend=h,b.xAxis=f,b.yAxis=g,b.tooltip=i,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},showLegend:{get:function(){return n},set:function(a){n=a}},staggerLabels:{get:function(){return r},set:function(a){r=a}},rotateLabels:{get:function(){return t},set:function(a){t=a}},wrapLabels:{get:function(){return s},set:function(a){s=!!a}},showXAxis:{get:function(){return o},set:function(a){o=a}},showYAxis:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return u},set:function(a){u=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return w},set:function(a){w=a,x.reset(w),e.duration(w),f.duration(w),g.duration(w)}},color:{get:function(){return m},set:function(b){m=a.utils.getColor(b),e.color(m),h.color(m)}},rightAlignYAxis:{get:function(){return q},set:function(a){q=a,g.orient(a?"right":"left")}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.distribution=function(){"use strict";function b(e){return m.reset(),e.each(function(b){var e=("x"===g?(d.left,d.right):(d.top,d.bottom),"x"==g?"y":"x"),k=d3.select(this);a.utils.initSVG(k),c=c||j;var l=k.selectAll("g.nv-distribution").data([b]),n=l.enter().append("g").attr("class","nvd3 nv-distribution"),o=(n.append("g"),l.select("g"));l.attr("transform","translate("+d.left+","+d.top+")");var p=o.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});p.enter().append("g"),p.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return i(a,b)});var q=p.selectAll("line.nv-dist"+g).data(function(a){return a.values});q.enter().append("line").attr(g+"1",function(a,b){return c(h(a,b))}).attr(g+"2",function(a,b){return c(h(a,b))}),m.transition(p.exit().selectAll("line.nv-dist"+g),"dist exit").attr(g+"1",function(a,b){return j(h(a,b))}).attr(g+"2",function(a,b){return j(h(a,b))}).style("stroke-opacity",0).remove(),q.attr("class",function(a,b){return"nv-dist"+g+" nv-dist"+g+"-"+b}).attr(e+"1",0).attr(e+"2",f),m.transition(q,"dist").attr(g+"1",function(a,b){return j(h(a,b))}).attr(g+"2",function(a,b){return j(h(a,b))}),c=j.copy()}),m.renderEnd("distribution immediate"),b}var c,d={top:0,right:0,bottom:0,left:0},e=400,f=8,g="x",h=function(a){return a[g]},i=a.utils.defaultColor(),j=d3.scale.linear(),k=250,l=d3.dispatch("renderEnd"),m=a.utils.renderWatch(l,k);return b.options=a.utils.optionsFunc.bind(b),b.dispatch=l,b.margin=function(a){return arguments.length?(d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left,b):d},b.width=function(a){return arguments.length?(e=a,b):e},b.axis=function(a){return arguments.length?(g=a,b):g},b.size=function(a){return arguments.length?(f=a,b):f},b.getData=function(a){return arguments.length?(h=d3.functor(a),b):h},b.scale=function(a){return arguments.length?(j=a,b):j},b.color=function(c){return arguments.length?(i=a.utils.getColor(c),b):i},b.duration=function(a){return arguments.length?(k=a,m.reset(k),b):k},b},a.models.funnel=function(){"use strict";function b(n){return L.reset(),n.each(function(b){function n(a,b,c){return["M",0,0,"H",a,"L",a-b,c,"H",0,"Z"].join(" ")}function J(a,b){return a=Math.round(a,1),b=Math.round(b,1),["M",a,b,"V",b+3,"q",1,-6,8,-6,"V",b-8,"L",a+15,b,"L",a+8,b+8,"V",b+3,"q",-7,0,-8,3,"Z"].join(" ")}function M(a,b){return a=Math.round(a,1),b=Math.round(b,1),["M",a,b,"H",a-3,"V",b+12,"H",a-8,"L",a,b+21,"L",a+8,b+12,"H",a+3,"V",b,"Z"].join(" ")}function N(a,b,c){return["M",a,0,"V",c,"H",Math.round(a-b,1),"Z"].join(" ")}var O=l-k.left-k.right,P=m-k.top-k.bottom;o=d3.select(this),a.utils.initSVG(o),B&&(b=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(s)(b)),b.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),B&&b[0].values.map(function(a,c){var d=0,e=0;b.map(function(a){var b=a.values[c];b.size=Math.abs(b.y),b.y<0?(b.y1=e-b.size,e-=b.size):(b.y1=d,d+=b.size)})});var Q=d&&e?[]:b.map(function(a){return a.values.map(function(a,b){return{x:r(a,b),y:s(a,b),y0:a.y0,y1:a.y1}})});p.domain(d||d3.merge(Q).map(function(a){return a.x})).rangeBands(f||[0,P],H),q.domain(e||d3.extent(d3.merge(Q).map(function(a){return B?a.y>0?a.y1+a.y:a.y1:a.y}).concat(w))),C&&!B?q.range(g||[q.domain()[0]<0?G:0,O-(q.domain()[1]>0?G:0)]):q.range(g||[E?30:0,O-50]),h=h||p,j=j||d3.scale.linear().domain(q.domain()).range([q(0),q(0)]);var R=d3.select(this).selectAll("g.nv-wrap.nv-funnel").data([b]),S=R.enter().append("g").attr("class","nvd3 nv-wrap nv-funnel"),T=(S.append("defs"),S.append("g"));R.select("g");T.append("g").attr("class","nv-groups"),R.attr("transform","translate("+k.left+","+k.top+")");var U=R.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});U.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),U.exit().watchTransition(L,"funnel: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),U.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return x(a,b)}).style("stroke",function(a,b){return x(a,b)}),U.watchTransition(L,"funnel: groups").style("stroke-opacity",1).style("fill-opacity",.75);var V=U.selectAll("g.nv-bar").data(function(a){return a.values});V.exit().remove();var W=V.enter().append("g").attr("transform",function(a,c,d){return"translate("+j(B?a.y0:0)+","+(B?0:d*p.rangeBand()/b.length+p(r(a,c)))+")"});if(W.append("path").attr("class","nv-bar-rect"),W.append("path").attr("class","nv-bar-arrow"),F){var X=W.append("g").attr("class","nv-dropoff");X.append("path").attr("class","nv-reducer"),X.append("path").attr("class","nv-reducer-arrow"),C&&(X.append("text").attr("class","nv-reducer-value"),X.append("text").attr("class","nv-reducer-ratio")),X.on("click",function(a,b){K.elementClick({data:a,index:b,reducer:!0,color:d3.select(this.parentNode).style("fill")}),d3.event.stopPropagation()})}if(E){W.append("path").attr("class","nv-check").attr("d",function(a){return"select"===a.selected?"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z":"reduce"===a.selected?"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M17,13H7V11H17V13Z":"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}).on("click",function(a,b){a.selected="select"===a.selected?"reduce":"reduce"===a.selected?"":"select",d3.select(this.parentNode).classed("selected","select"===a.selected).classed("reduced","reduce"===a.selected).select(".nv-check").attr("d",function(a){return"select"===a.selected?"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z":"reduce"===a.selected?"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M17,13H7V11H17V13Z":"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}),K.elementClick({data:a,index:b,selected:a.selected,color:d3.select(this.parentNode).style("fill")}),d3.event.stopPropagation()})}if(V.on("mouseover",function(a,b){var c=d3.select(d3.event.target.parentNode).classed("nv-dropoff");d3.select(this).classed("hover",!0),K.elementMouseover({data:a,index:b,reducer:c,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){var c=d3.select(d3.event.target.parentNode).classed("nv-dropoff");d3.select(this).classed("hover",!1),K.elementMouseout({data:a,index:b,reducer:c,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){var c=d3.select(d3.event.target.parentNode).classed("nv-dropoff");K.elementMousemove({data:a,index:b,reducer:c,color:d3.select(this).style("fill")})}).on("dblclick",function(a,b){var c=d3.select(d3.event.target.parentNode).classed("nv-dropoff");K.elementDblClick({data:a,index:b,reducer:c,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("click",function(a,b){K.elementClick({data:a,index:b,reducer:!1,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),v(b[0],0)&&(W.append("polyline"),V.select("polyline").attr("fill","none").attr("points",function(a,c){var d=v(a,c),e=.8*p.rangeBand()/(2*(B?1:b.length));return d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return q(a)-q(0)}),[[d[0],-e],[d[0],e],[d[0],0],[d[1],0],[d[1],-e],[d[1],e]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(a,c){var d=p.rangeBand()/(2*(B?1:b.length));return"translate("+(s(a,c)<0?0:q(s(a,c))-q(0))+", "+d+")"})),C?(W.append("text").classed("nv-bar-value",!0),V.select("text.nv-bar-value").attr("text-anchor","middle").attr("y",10).attr("dy",".32em").attr("dx",20).text(function(a,b){var c=I(s(a,b)),d=v(a,b);return void 0===d?c:d.length?c+"+"+I(Math.abs(d[1]))+"-"+I(Math.abs(d[0])):c+"±"+I(Math.abs(d))}),W.append("text").classed("nv-bar-value2",!0),V.select("text.nv-bar-value2").attr("text-anchor","start").attr("y",10).attr("dy",".32em").attr("dx","4em").text(function(a,b){return I(t(a,b))}),W.append("text").classed("nv-continue-ratio",!0),V.select("text.nv-continue-ratio").attr("text-anchor","start").attr("y",z).attr("dy","1.32em").attr("dx","33").style("fill","auto").text(function(a,b){var c=s(a,b),d=u(a,b);return c>0?d3.format(".1%")(1-d/c):""}),V.select("text.nv-reducer-value").attr("text-anchor","start").attr("y",15).attr("dy",".32em").text(function(a,b){s(a,b);return u(a,b)>0?I(u(a,b)):""}),V.select("text.nv-reducer-ratio").attr("text-anchor","start").attr("y",z-15).attr("dy",".32em").text(function(a,b){var c=s(a,b),d=u(a,b);return c>0&&d>0?d3.format(".1%")(d/c):""}),V.watchTransition(L,"funnel: bars").select("text").attr("x",function(a,b){return q(s(a,b))-(E?30:0)-4}),V.watchTransition(L,"funnel: bars").selectAll("g.nv-dropoff text").attr("x",function(a,b){return Math.max(70,q(s(a,b))-(E?30:0))+16})):(V.selectAll("text.nv-bar-value").remove(),V.selectAll("text.nv-bar-value2").remove(),V.selectAll("text.nv-reducer-value").remove(),V.selectAll("text.nv-reducer-ratio").remove()),D){if(y&&"function"==typeof y){var Y=W.append("a").attr("class","nv-href").attr("xlink:href",function(a){return y(a)});Y.append("text").classed("nv-bar-label",!0),Y.on("mouseover",function(a,b){d3.event.stopPropagation(),d3.event.preventDefault(),K.elementMouseout({data:a})})}else W.append("text").classed("nv-bar-label",!0);V.select("text.nv-bar-label").attr("text-anchor",function(a,b){return s(a,b)>=0?"start":"end"}).attr("y",z?z-10:p.rangeBand()/(2*b.length)).attr("dx",".32em").attr("dy",".1em").text(function(a,b){return r(a,b)}),B&&V.filter(function(a){return a.series>0}).select("text.nv-bar-label").remove()}else V.selectAll("text.nv-bar-label").remove();if(V.attr("class",function(a,b){var c=s(a,b);return 0===c?"nv-bar zero":c<0?"nv-bar negative":"nv-bar positive"}),V.classed("selected",function(a,b){return"select"===a.selected}).classed("reduced",function(a,b){return"reduce"===a.selected}),A){var Z=V.data().filter(function(a){return!!a.selected});Z&&Z.length>0?(V.selectAll(".nv-bar-rect").style("opacity",function(a,b){return a.selected?1:.1}),V.selectAll(".nv-bar-arrow").style("opacity",function(a,b){return"select"===a.selected?1:.1}),V.selectAll(".nv-dropoff").style("opacity",function(a,b){return"reduce"===a.selected?1:.1}),V.selectAll("text").style("fill-opacity",function(a){return"reduce"===a.selected||"select"===a.selected?null:.1}).style("stroke-opacity",function(a){return"reduce"===a.selected||"select"===a.selected?null:.1})):(V.selectAll(".nv-bar-rect").style("opacity","auto"),V.selectAll(".nv-bar-arrow").style("opacity","auto"),V.selectAll(".nv-dropoff").style("opacity","auto"),V.selectAll("text").style("fill-opacity","").style("stroke-opacity","")),c||(c=b.map(function(){return!0})),V.style("fill",function(a,b,d){return d3.rgb(A(a,b)).darker(c.map(function(a,b){return b}).filter(function(a,b){return!c[b]})[d]).toString()})}var $=0;if(V.data().forEach(function(a,b){$+=b>0?u(V.data()[b-1]):0,a.prev=$}),B){var _=V.watchTransition(L,"funnel: bars").attr("transform",function(a,b){var c=b*(z+21)+p.range()[0];return"translate("+q(a.y1)+","+c+")"});_.select(".nv-bar-rect").attr("d",function(a,b){var c=Math.abs(q(s(a,b)+a.y0)-q(a.y0))||0,d=Math.abs(q(u(a,b)+a.y0)-q(a.y0))||0,e=z||p.rangeBand(),f=Math.max(70,c);return n(f,c>0?f/c*d:f,e)}),E&&_.select("path.nv-check").attr("transform",function(a,b){Math.abs(q(s(a,b)+a.y0)-q(a.y0)),Math.abs(q(u(a,b)+a.y0)-q(a.y0));return"translate(-30,"+((z||p.rangeBand())-24)/2+" )"}).attr("d",function(a){return"select"===a.selected?"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z":"reduce"===a.selected?"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M17,13H7V11H17V13Z":"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}),_.select("path.nv-bar-arrow").attr("d",function(a,b){return M(20,z||p.rangeBand())}),_.select("path.nv-reducer").attr("d",function(a,b){var c=Math.abs(q(s(a,b)+a.y0)-q(a.y0))||0,d=Math.abs(q(u(a,b)+a.y0)-q(a.y0))||0,e=z||p.rangeBand(),f=Math.max(70,c);return N(f,c>0?f/c*d:f,e)}).attr("opacity",function(a,b){return u(a,b)>0?1:0}),_.select("path.nv-reducer-arrow").attr("d",function(a,b){var c=Math.abs(q(s(a,b)+a.y0)-q(a.y0))||0,d=z||p.rangeBand();return c=Math.max(70,c),J(c,d/2)}).style("visibility",function(a,b){return u(a,b)>0?"visible":"hidden"})}else{var _=V.watchTransition(L,"funnel: bars").attr("transform",function(a,c){return"translate("+q(s(a,c)<0?s(a,c):0)+","+(a.series*p.rangeBand()/b.length+p(r(a,c)))+")"});_.select(".nv-bar-rect").attr("d",function(a){var c=z||p.rangeBand()/b.length,d=Math.max(Math.abs(q(u(a,i))-q(0)),1)||0,e=Math.max(Math.abs(q(s(a,i))-q(0)),1)||0,f=Math.max(70,e);return n(f,e>0?f/e*d:f,c)}),E&&_.select("path.nv-check").attr("transform",function(a,c){return"translate("+(Math.max(Math.abs(q(s(a,c))-q(0)),1)-20)+","+((z||p.rangeBand()/b.length)-20)/2+" )"}).attr("d",function(a){return"select"===a.selected?"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z":"reduce"===a.selected?"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M17,13H7V11H17V13Z":"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}),_.select("path.nv-bar-arrow").attr("d",function(a,b){return M(20,z||p.rangeBand())}),_.select("path.nv-reducer").attr("d",function(a,b){var c=Math.abs(q(s(a,b)+a.y0)-q(a.y0))||0,d=Math.abs(q(u(a,b)+a.y0)-q(a.y0))||0,e=z||p.rangeBand(),f=Math.max(70,c);return N(f,c>0?f/c*d:f,e)})}h=p.copy(),j=q.copy()}),L.renderEnd("funnel immediate"),b}var c,d,e,f,g,h,j,k={top:0,right:0,bottom:0,left:0},l=960,m=500,n=Math.floor(1e4*Math.random()),o=null,p=d3.scale.ordinal(),q=d3.scale.linear(),r=function(a){return a.x},s=function(a){return a.y},t=function(a){},u=function(a){return 0},v=function(a){return a.yErr},w=[0],x=a.utils.defaultColor(),y=null,z=50,A=null,B=!1,C=!1,D=!0,E=!1,F=!0,G=60,H=.1,I=d3.format(",.2f"),J=250,K=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),L=a.utils.renderWatch(K,J);return b.dispatch=K,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return r},set:function(a){r=a}},y:{get:function(){return s},set:function(a){s=a}},y2:{get:function(){return t},set:function(a){t=a}},yc:{get:function(){return u},set:function(a){u=a}},yErr:{get:function(){return v},set:function(a){v=a}},xScale:{get:function(){return p},set:function(a){p=a}},yScale:{get:function(){return q},set:function(a){q=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceY:{get:function(){return w},set:function(a){w=a}},stacked:{get:function(){return B},set:function(a){B=a}},showValues:{get:function(){return C},set:function(a){C=a}},showBarLabels:{get:function(){return D},set:function(a){D=a}},showChecks:{get:function(){return E},set:function(a){E=!1}},disabled:{get:function(){return c},set:function(a){c=a}},id:{get:function(){return n},set:function(a){n=a}},valueFormat:{get:function(){return I},set:function(a){I=a}},valuePadding:{get:function(){return G},set:function(a){G=a}},groupSpacing:{get:function(){return H},set:function(a){H=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return J},set:function(a){J=a,L.reset(J)}},color:{get:function(){return x},set:function(b){x=a.utils.getColor(b)}},href:{get:function(){return y},set:function(a){y=d3.functor(a)}},barColor:{get:function(){return A},set:function(b){A=b?a.utils.getColor(b):null}},barWidth:{get:function(){return z},set:function(a){z=a}}}),a.utils.initOptions(b),b},a.models.funnelChart=function(){"use strict";function b(w){return C.reset(),C.models(e),r&&C.models(f),s&&C.models(g),w.each(function(w){var C=d3.select(this);a.utils.initSVG(C);var D=a.utils.availableWidth(l,C,k),E=a.utils.availableHeight(m,C,k);if(b.update=function(){C.transition().duration(z).call(b)},b.container=this,j.chartContainer(b.container.parentNode),t=e.stacked(),u.setter(B(w),b.update).getter(A(w)).update(),u.disabled=w.map(function(a){return!!a.disabled}),!v){var F;v={};for(F in u)u[F]instanceof Array?v[F]=u[F].slice(0):v[F]=u[F]}if(!(w&&w.length&&w.filter(function(a){return a.values&&a.values.length}).length))return a.utils.noData(b,C),b;C.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale(),a.utils.dropShadow(C,1,1,1.2);var G=C.selectAll("g.nv-wrap.nv-funnelChart").data([w]),H=G.enter().append("g").attr("class","nvd3 nv-wrap nv-funnelChart").append("g"),I=G.select("g");if(H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),H.append("g").attr("class","nv-barsWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),q&&(h.width(D-y()),I.select(".nv-legendWrap").datum(w).call(h),k.top!=h.height()&&(k.top=h.height(),E=a.utils.availableHeight(m,C,k)),I.select(".nv-legendWrap").attr("transform","translate("+y()+","+-k.top+")")),o){var J=[{key:p.grouped||"Grouped",disabled:e.stacked()},{key:p.stacked||"Stacked",disabled:!e.stacked()}];i.width(y()).color(["#444","#444","#444"]),I.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-k.top+")").call(i)}(G.attr("transform","translate("+k.left+","+k.top+")"),e.disabled(w.map(function(a){return a.disabled})).width(D).height(E).color(w.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!w[b].disabled})),I.select(".nv-barsWrap").datum(w.filter(function(a){return!a.disabled})).transition().call(e),r)&&(f.scale(c)._ticks(a.utils.calcTicksY(E/24,w)).tickSize(-D,0),I.select(".nv-x.nv-axis").call(f),I.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));s&&(g.scale(d)._ticks(a.utils.calcTicksX(D/100,w)).tickSize(-E,0),I.select(".nv-y.nv-axis").attr("transform","translate(0,"+E+")"),I.select(".nv-y.nv-axis").call(g)),I.select(".nv-zeroLine line").attr("x1",d(0)).attr("x2",d(0)).attr("y1",0).attr("y2",-E),h.dispatch.on("stateChange",function(a){for(var c in a)u[c]=a[c];x.stateChange(u),b.update()}),i.dispatch.on("legendClick",function(a,c){if(a.disabled){switch(J=J.map(function(a){return a.disabled=!0,a}),a.disabled=!1,a.key){case"Grouped":case p.grouped:e.stacked(!1);break;case"Stacked":case p.stacked:e.stacked(!0)}u.stacked=e.stacked(),x.stateChange(u),t=e.stacked(),b.update()}}),x.on("changeState",function(a){void 0!==a.disabled&&(w.forEach(function(b,c){b.disabled=a.disabled[c]}),u.disabled=a.disabled),void 0!==a.stacked&&(e.stacked(a.stacked),u.stacked=a.stacked,t=a.stacked),b.update()})}),C.renderEnd("multibar horizontal chart immediate"),b}var c,d,e=a.models.funnel(),f=a.models.axis(),g=a.models.axis(),h=a.models.legend().height(30),i=a.models.legend().height(30),j=a.models.tooltip(),k={top:30,right:20,bottom:50,left:60},l=null,m=null,n=a.utils.defaultColor(),o=!1,p={},q=!0,r=!1,s=!1,t=!1,u=a.utils.state(),v=null,w=null,x=d3.dispatch("stateChange","changeState","renderEnd","selectChange","activate"),y=function(){return o?180:0},z=250;u.stacked=!1,e.stacked(t),f.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a){return a}),g.orient("bottom").tickFormat(d3.format(",.1f")),j.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),i.updateState(!1);var A=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:t}}},B=function(a){return function(b){void 0!==b.stacked&&(t=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},C=a.utils.renderWatch(x,z);return e.dispatch.on("elementClick.select",function(a){a.hasOwnProperty("selected")&&x.selectChange(a)}),b.dispatch=x,b.multibar=e,b.legend=h,b.controls=i,b.xAxis=f,b.yAxis=g,b.state=u,b.tooltip=j,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showControls:{get:function(){return o},set:function(a){o=a}},controlLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return r},set:function(a){r=a}},showYAxis:{get:function(){return s},set:function(a){s=a}},defaultState:{get:function(){return v},set:function(a){v=a}},noData:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return z},set:function(a){z=a,C.reset(z),e.duration(z),f.duration(z),g.duration(z)}},color:{get:function(){return n},set:function(b){n=a.utils.getColor(b),h.color(n)}},barColor:{get:function(){return e.barColor},set:function(a){e.barColor(a),h.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.furiousLegend=function(){"use strict";function b(q){function r(a,b){return"furious"!=p?"#000":n?a.disengaged?g(a,b):"#fff":n?void 0:a.disabled?g(a,b):"#fff"}function s(a,b){return n&&"furious"==p?a.disengaged?"#fff":g(a,b):a.disabled?"#fff":g(a,b)}return q.each(function(b){var q=d-c.left-c.right,t=d3.select(this);a.utils.initSVG(t);var u=t.selectAll("g.nv-legend").data([b]),v=(u.enter().append("g").attr("class","nvd3 nv-legend").append("g"),u.select("g"));u.attr("transform","translate("+c.left+","+c.top+")");var w,x=v.selectAll(".nv-series").data(function(a){return"furious"!=p?a:a.filter(function(a){return!!n||!a.disengaged})}),y=x.enter().append("g").attr("class","nv-series");if("classic"==p)y.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),w=x.select("circle");else if("furious"==p){y.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),w=x.select("rect"),y.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var z=x.select(".nv-check-box");z.each(function(a,b){d3.select(this).selectAll("path").attr("stroke",r(a,b))})}y.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var A=x.select("text.nv-legend-text");x.on("mouseover",function(a,b){o.legendMouseover(a,b)}).on("mouseout",function(a,b){o.legendMouseout(a,b)}).on("click",function(a,b){o.legendClick(a,b);var c=x.data();if(l){if("classic"==p)m?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==p)if(n)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!n){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}o.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(("furious"!=p||!n)&&(o.legendDblclick(a,b),l)){var c=x.data();c.forEach(function(a){a.disabled=!0,"furious"==p&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==p&&(a.userDisabled=a.disabled),o.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}),x.classed("nv-disabled",function(a){return a.userDisabled}),x.exit().remove(),A.attr("fill",r).text(f);var B;switch(p){case"furious":B=23;break;case"classic":B=20}if(i){var C=[];x.each(function(b,c){var d;if(f(b).length>h){var e=f(b).substring(0,h);d=d3.select(this).select("text").text(e+"..."),d3.select(this).append("svg:title").text(f(b))}else d=d3.select(this).select("text");var g;try{if((g=d.node().getComputedTextLength())<=0)throw Error()}catch(i){g=a.utils.calcApproxTextWidth(d)}C.push(g+j)});for(var D=0,E=0,F=[];E<q&&D<C.length;)F[D]=C[D],E+=C[D++];for(0===D&&(D=1);E>q&&D>1;){F=[],D--;for(var G=0;G<C.length;G++)C[G]>(F[G%D]||0)&&(F[G%D]=C[G]);E=F.reduce(function(a,b,c,d){return a+b})}for(var H=[],I=0,J=0;I<D;I++)H[I]=J,J+=F[I];x.attr("transform",function(a,b){return"translate("+H[b%D]+","+(5+Math.floor(b/D)*B)+")"}),
k?v.attr("transform","translate("+(d-c.right-E)+","+c.top+")"):v.attr("transform","translate(0,"+c.top+")"),e=c.top+c.bottom+Math.ceil(C.length/D)*B}else{var K,L=5,M=5,N=0;x.attr("transform",function(a,b){var e=d3.select(this).select("text").node().getComputedTextLength()+j;return K=M,d<c.left+c.right+K+e&&(M=K=5,L+=B),M+=e,M>N&&(N=M),"translate("+K+","+L+")"}),v.attr("transform","translate("+(d-c.right-N)+","+c.top+")"),e=c.top+c.bottom+L+15}"furious"==p&&w.attr("width",function(a,b){return A[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),w.style("fill",s).style("stroke",function(a,b){return a.color||g(a,b)})}),b}var c={top:5,right:0,bottom:5,left:0},d=400,e=20,f=function(a){return a.key},g=a.utils.getColor(),h=20,i=!0,j=28,k=!0,l=!0,m=!1,n=!1,o=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),p="classic";return b.dispatch=o,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return i},set:function(a){i=a}},rightAlign:{get:function(){return k},set:function(a){k=a}},maxKeyLength:{get:function(){return h},set:function(a){h=a}},padding:{get:function(){return j},set:function(a){j=a}},updateState:{get:function(){return l},set:function(a){l=a}},radioButtonMode:{get:function(){return m},set:function(a){m=a}},expanded:{get:function(){return n},set:function(a){n=a}},vers:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return c},set:function(a){c.top=void 0!==a.top?a.top:c.top,c.right=void 0!==a.right?a.right:c.right,c.bottom=void 0!==a.bottom?a.bottom:c.bottom,c.left=void 0!==a.left?a.left:c.left}},color:{get:function(){return g},set:function(b){g=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.gauge=function(){"use strict";function b(w){return z.reset(),w.each(function(b){function w(){if(n){var a=P.datum().filter(function(a){return!h(a.data)});if(a=a&&a.length>0?a[0].data:null){var c=i(g(a),b.filter(function(a){return h(a)}));P.select(".key text").text(c||f(a)),P.select(".value text").text(m(g(a))),c&&(P.select(".icon path").attr("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"),P.select(".icon").attr("class","icon "+c))}else P.select(".key text").text(""),P.select(".value text").text(m(0))}}function x(a,b){a.endAngle=isNaN(a.endAngle)?0:a.endAngle,a.startAngle=0;var c=d3.interpolate(this._current,a);return this._current=c(0),function(a){return R(c(a))}}var z=d-c.left-c.right,A=e-c.top-c.bottom,B=Math.min(z,A)/2;k=d3.select(this);var C=B-10,D=C-5;a.utils.initSVG(k);var E=k.selectAll(".nv-wrap.nv-gauge").data([b]),F=E.enter().append("g").attr("class","nvd3 nv-wrap nv-gauge nv-chart-"+j),G=F.append("g"),H=E.select("g"),I=G.append("g").attr("class","nv-gauge"),J=G.append("g").attr("class","nv-gaugeInfo");J.append("g").classed("key",!0).append("text"),J.append("g").classed("value",!0).append("text"),J.append("g").classed("icon",!0).append("path"),E.attr("transform","translate("+c.left+","+c.top+")"),H.select(".nv-gauge").attr("transform","translate("+z/2+","+A/2+")"),H.select(".nv-gaugeInfo").attr("transform","translate("+z/2+","+A/2+")"),k.on("click",function(a,b){y.chartClick({data:a,index:b,pos:d3.event,id:j})});var K=b.filter(function(a){return h(a)}).sort(function(a,b){return d3.ascending(g(a),g(b))});K.forEach(function(a,b){a.prevValue=b>0?g(K[b-1]):0});var L=d3.svg.arc().outerRadius(C),M=d3.svg.arc().outerRadius(C+5);!1!==r&&(L.startAngle(r),M.startAngle(r)),!1!==t&&(L.endAngle(t),M.endAngle(t)),n&&(L.innerRadius(D),M.innerRadius(D)),L.cornerRadius&&u&&(L.cornerRadius(u),M.cornerRadius(u));var N=d3.layout.pie().sort(null).value(function(a,b){return h(a)?g(a)-a.prevValue:g(a)});N.padAngle&&s&&N.padAngle(s),n&&o&&(I.append("text").attr("class","nv-gauge-title"),E.select(".nv-gauge-title").style("text-anchor","middle").text(function(a){return o}).style("font-size",Math.min(z,A)*v*2/(o.length+2)+"px").attr("dy","0.35em").attr("transform",function(a,b){return"translate(0, "+q+")"}));var O=E.select(".nv-gauge").selectAll(".nv-slice").data(N),P=E.select(".nv-gaugeInfo").datum(N);O.exit().remove();var Q=O.enter().append("g");Q.attr("class","nv-slice"),Q.on("mouseover",function(a,b){h(a.data)&&(d3.select(this).classed("hover",!0),p&&d3.select(this).select("path").transition().duration(70).attr("d",M),n&&(P.select(".key text").text(f(a.data)),P.select(".value text").text(m(g(a.data)))),y.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill"),element:this}))}),Q.on("mouseout",function(a,b){h(a.data)&&(d3.select(this).classed("hover",!1),p&&d3.select(this).select("path").transition().duration(50).attr("d",L),w(),y.elementMouseout({data:a.data,index:b,element:this}))}),Q.on("mousemove",function(a,b){h(a.data)&&y.elementMousemove({data:a.data,index:b,element:this})}),O.attr("fill",function(a,b){return l(a.data,b)}),O.attr("stroke",function(a,b){return l(a.data,b)});Q.append("path").attr("class","nv-slice-path").each(function(a){this._current=a});w();var R=d3.svg.arc().innerRadius(D-2).outerRadius(D-28);!1!==r&&R.startAngle(r),!1!==t&&R.endAngle(t),O.select("path.nv-slice-path").filter(function(a){return h(a.data)}).transition().attr("d",L),O.select("path.nv-slice-path").filter(function(a){return!h(a.data)}).transition().duration(500).attr("d",R).attrTween("d",x)}),z.renderEnd("gauge immediate"),b}var c={top:0,right:0,bottom:0,left:0},d=500,e=500,f=function(a){return a.x},g=function(a){return a.y},h=function(a){return a.threshold},i=function(a){},j=Math.floor(1e4*Math.random()),k=null,l=a.utils.defaultColor(),m=(d3.scale.linear().range(["black","darkred","orange","green","darkgreen"]).domain([0,30,60,80,100]),d3.format(",.2f")),n=!0,o=!1,p=!0,q=0,r=!1,s=!1,t=!1,u=0,v=.5,w={start:0,end:0},x=[],y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),z=a.utils.renderWatch(y);return b.dispatch=y,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{arcsRadius:{get:function(){return x},set:function(a){x=a}},value:{get:function(){return w},set:function(a){w=a}},width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},title:{get:function(){return o},set:function(a){o=a}},titleOffset:{get:function(){return q},set:function(a){q=a}},valueFormat:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return j},set:function(a){j=a}},endAngle:{get:function(){return t},set:function(a){t=a}},startAngle:{get:function(){return r},set:function(a){r=a}},padAngle:{get:function(){return s},set:function(a){s=a}},cornerRadius:{get:function(){return u},set:function(a){u=a}},donutRatio:{get:function(){return v},set:function(a){v=a}},growOnHover:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return c},set:function(a){c.top=void 0!==a.top?a.top:c.top,c.right=void 0!==a.right?a.right:c.right,c.bottom=void 0!==a.bottom?a.bottom:c.bottom,c.left=void 0!==a.left?a.left:c.left}},y:{get:function(){return g},set:function(a){g=d3.functor(a)}},threshold:{get:function(){return h},set:function(a){h=d3.functor(a)}},icon:{get:function(){return i},set:function(a){i=d3.functor(a)}},color:{get:function(){return l},set:function(b){l=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.gaugeChart=function(){"use strict";function b(e){return r.reset(),r.models(c),e.each(function(e){var j=d3.select(this);a.utils.initSVG(j);var l=a.utils.availableWidth(g,j,f),o=a.utils.availableHeight(h,j,f);if(b.update=function(){j.transition().call(b)},b.container=this,m.setter(t(e),b.update).getter(s(e)).update(),m.disabled=e.map(function(a){return!!a.disabled}),!n){var p;n={};for(p in m)m[p]instanceof Array?n[p]=m[p].slice(0):n[p]=m[p]}if(!e||!e.length)return a.utils.noData(b,j),b;j.selectAll(".nv-noData").remove();var r=j.selectAll("g.nv-wrap.nv-gaugeChart").data([e]),u=r.enter().append("g").attr("class","nvd3 nv-wrap nv-gaugeChart").append("g"),v=r.select("g");if(u.append("g").attr("class","nv-gaugeWrap"),u.append("g").attr("class","nv-legendWrap"),i)if("top"===k)d.width(l).key(c.x()),r.select(".nv-legendWrap").datum(e).call(d),f.top!=d.height()&&(f.top=d.height(),o=a.utils.availableHeight(h,j,f)),r.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")");else if("right"===k){var w=a.models.legend().width();l/2<w&&(w=l/2),d.height(o).key(c.x()),d.width(w),l-=d.width(),r.select(".nv-legendWrap").datum(e).call(d).attr("transform","translate("+l+",0)")}r.attr("transform","translate("+f.left+","+f.top+")"),c.width(l).height(o);var x=v.select(".nv-gaugeWrap").datum(e);d3.transition(x).call(c),d.dispatch.on("stateChange",function(a){for(var c in a)m[c]=a[c];q.stateChange(m),b.update()}),q.on("changeState",function(a){void 0!==a.disabled&&(e.forEach(function(b,c){b.disabled=a.disabled[c]}),m.disabled=a.disabled),b.update()})}),r.renderEnd("gaugeChart immediate"),b}var c=a.models.gauge(),d=a.models.legend(),e=a.models.tooltip(),f={top:30,right:20,bottom:20,left:20},g=null,h=null,i=!1,j=!1,k="top",l=a.utils.defaultColor(),m=a.utils.state(),n=null,o=null,p=250,q=d3.dispatch("stateChange","changeState","renderEnd","selectChange");e.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return c.valueFormat()(a,b)});var r=a.utils.renderWatch(q),s=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},t=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return c.dispatch.on("elementMouseover.tooltip",function(a){j&&(a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color},e.data(a).hidden(!1))}),c.dispatch.on("elementMouseout.tooltip",function(a){j&&e.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(a){j&&e()}),c.dispatch.on("elementClick.select",function(a){q.selectChange(a)}),b.legend=d,b.dispatch=q,b.gauge=c,b.tooltip=e,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{noData:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return i},set:function(a){i=a}},legendPosition:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return n},set:function(a){n=a}},color:{get:function(){return l},set:function(a){l=a,d.color(l),c.color(l)}},duration:{get:function(){return p},set:function(a){p=a,r.reset(p)}},showTooltips:{get:function(){return j},set:function(a){j=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.historicalBar=function(){"use strict";function b(x){return x.each(function(b){w.reset(),k=d3.select(this);var x=a.utils.availableWidth(h,k,g),y=a.utils.availableHeight(i,k,g);a.utils.initSVG(k),l.domain(c||d3.extent(b[0].values.map(n).concat(p))),r?l.range(e||[.5*x/b[0].values.length,x*(b[0].values.length-.5)/b[0].values.length]):l.range(e||[0,x]),m.domain(d||d3.extent(b[0].values.map(o).concat(q))).range(f||[y,0]),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1]));var z=k.selectAll("g.nv-wrap.nv-historicalBar-"+j).data([b[0].values]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+j),B=A.append("defs"),C=A.append("g"),D=z.select("g");C.append("g").attr("class","nv-bars"),z.attr("transform","translate("+g.left+","+g.top+")"),k.on("click",function(a,b){u.chartClick({data:a,index:b,pos:d3.event,id:j})}),B.append("clipPath").attr("id","nv-chart-clip-path-"+j).append("rect"),z.select("#nv-chart-clip-path-"+j+" rect").attr("width",x).attr("height",y),D.attr("clip-path",s?"url(#nv-chart-clip-path-"+j+")":"");var E=z.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return n(a,b)});E.exit().remove(),E.enter().append("rect").attr("x",0).attr("y",function(b,c){return a.utils.NaNtoZero(m(Math.max(0,o(b,c))))}).attr("height",function(b,c){return a.utils.NaNtoZero(Math.abs(m(o(b,c))-m(0)))}).attr("transform",function(a,c){return"translate("+(l(n(a,c))-x/b[0].values.length*.45)+",0)"}).on("mouseover",function(a,b){v&&(d3.select(this).classed("hover",!0),u.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mouseout",function(a,b){v&&(d3.select(this).classed("hover",!1),u.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mousemove",function(a,b){v&&u.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){v&&(u.elementClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}).on("dblclick",function(a,b){v&&(u.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),E.attr("fill",function(a,b){return t(a,b)}).attr("class",function(a,b,c){return(o(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(w,"bars").attr("transform",function(a,c){return"translate("+(l(n(a,c))-x/b[0].values.length*.45)+",0)"}).attr("width",x/b[0].values.length*.9),E.watchTransition(w,"bars").attr("y",function(b,c){var d=o(b,c)<0?m(0):m(0)-m(o(b,c))<1?m(0)-1:m(o(b,c));return a.utils.NaNtoZero(d)}).attr("height",function(b,c){return a.utils.NaNtoZero(Math.max(Math.abs(m(o(b,c))-m(0)),1))})}),w.renderEnd("historicalBar immediate"),b}var c,d,e,f,g={top:0,right:0,bottom:0,left:0},h=null,i=null,j=Math.floor(1e4*Math.random()),k=null,l=d3.scale.linear(),m=d3.scale.linear(),n=function(a){return a.x},o=function(a){return a.y},p=[],q=[0],r=!1,s=!0,t=a.utils.defaultColor(),u=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),v=!0,w=a.utils.renderWatch(u,0);return b.highlightPoint=function(a,b){k.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)},b.clearHighlights=function(){k.select(".nv-bars .nv-bar.hover").classed("hover",!1)},b.dispatch=u,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},forceX:{get:function(){return p},set:function(a){p=a}},forceY:{get:function(){return q},set:function(a){q=a}},padData:{get:function(){return r},set:function(a){r=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},clipEdge:{get:function(){return s},set:function(a){s=a}},id:{get:function(){return j},set:function(a){j=a}},interactive:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},color:{get:function(){return t},set:function(b){t=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.historicalBarChart=function(b,c){"use strict";function d(b){return b.each(function(b){function c(){n.empty()?F.brush({extent:null,brush:n}):F.brush({extent:n.extent(),brush:n})}function m(){}J.reset(),J.models(g),J.models(h),v&&J.models(i),w&&J.models(j);var A=d3.select(this),B=this;a.utils.initSVG(A);var E=a.utils.availableWidth(r,A,p),H=a.utils.availableHeight(s,A,p);if(d.update=function(){0===G?A.call(d):A.transition().duration(G).call(d)},d.container=this,C.disabled=b.map(function(a){return!!a.disabled}),!D){var I;D={};for(I in C)C[I]instanceof Array?D[I]=C[I].slice(0):D[I]=C[I]}if(!(b&&b.length&&b.filter(function(a){return a.values.length}).length))return a.utils.noData(d,A),d;A.selectAll(".nv-noData").remove(),e=g.xScale();var K=d3.extent(d3.merge(b.map(function(a,b){return a.values.map(function(a,b){return d.x()(a,b)})}))),L=d3.extent(d3.merge(b.map(function(a,b){return a.values.map(function(a,b){return Math.max(d.y()(a,b)||0,d.y2()(a,b)||0)}).concat(d.forceY())})));g.xDomain(K).yDomain(L),h.xDomain(K).yDomain(L),f=g.yScale();var M=A.selectAll("g.nv-wrap.nv-historicalBarChart").data([b]),N=M.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),O=M.select("g"),P=N.append("g").attr("class","nv-focus");P.append("g").attr("class","nv-background").append("rect"),P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-bars2Wrap"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-interactive");N.append("g").attr("class","nv-context");(t&&(k.width(E).updateState(!u),O.select(".nv-legendWrap").datum(b).call(k),p.top!=k.height()&&(p.top=k.height(),H=a.utils.availableHeight(s,A,p)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")),M.attr("transform","translate("+p.left+","+p.top+")"),x&&O.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),y&&(l.width(E).height(H).margin({left:p.left,top:p.top}).svgContainer(A).xScale(e),M.select(".nv-interactive").call(l)),O.select(".nv-focus .nv-background rect").attr("width",E).attr("height",H),g.width(E).height(H).color(b.map(function(a,b){return a.color||q(a,b)}).filter(function(a,c){return!b[c].disabled})),O.select(".nv-barsWrap").datum(b.filter(function(a){return!a.disabled})).transition().call(g),o)&&(h.width(E).height(H).color(b.map(function(a,b){return a.color||q(a,b)}).filter(function(a,c){return!b[c].disabled})),O.select(".nv-bars2Wrap").datum(b.filter(function(a){return!a.disabled})).transition().call(h));if(v&&(i.scale(e)._ticks(a.utils.calcTicksX(E/100,b)).tickSize(-H,0),O.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),O.select(".nv-x.nv-axis").transition().call(i)),w&&(j.scale(f)._ticks(a.utils.calcTicksY(H/36,b)).tickSize(-E,0),O.select(".nv-y.nv-axis").transition().call(j)),z){n.x(e).clear().on("brushend",function(){c()});O.select(".nv-context").call(n).selectAll("rect").attr("height",H);m()}l.dispatch.on("elementMousemove",function(c){g.clearHighlights();var e,f,h,k=[];b.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(b,i){f=a.interactiveBisect(b.values,c.pointXValue,d.x()),g.highlightPoint(f,!0);var j=b.values[f];void 0!==j&&(void 0===e&&(e=j),void 0===h&&(h=d.xScale()(d.x()(j,f))),k.push({key:b.key,value:d.y()(j,f),color:q(b,b.seriesIndex),data:b.values[f]}))});var m=i.tickFormat()(d.x()(e,f));l.tooltip.chartContainer(B.parentNode).valueFormatter(function(a,b){return j.tickFormat()(a)}).data({negateTrend:d.negateTrend(),value:m,index:f,series:k})(),l.renderGuideLine(h)}),l.dispatch.on("elementMouseout",function(a){F.tooltipHide(),g.clearHighlights()}),k.dispatch.on("stateChange",function(a){for(var b in a)C[b]=a[b];F.stateChange(C),d.update()}).on("legendClick",function(a,b){a.selected=!a.selected,F.selectChange(a)}),F.on("changeState",function(a){void 0!==a.disabled&&(b.forEach(function(b,c){b.disabled=a.disabled[c]}),C.disabled=a.disabled),d.update()})}),J.renderEnd("historicalBarChart immediate"),d}var e,f,g=b||a.models.historicalBar(),h=c||a.models.historicalBar(),i=a.models.axis(),j=a.models.axis(),k=a.models.legend(),l=a.interactiveGuideline(),m=a.models.tooltip(),n=d3.svg.brush(),o=!1,p={top:30,right:90,bottom:50,left:90},q=a.utils.defaultColor(),r=null,s=null,t=!1,u=!0,v=!0,w=!0,x=!1,y=!1,z=!1,A=!1,B=null,C={},D=null,E=null,F=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState","renderEnd","selectChange","drill"),G=0,H=function(a){return d3.time.format("%b %d %H:%M")(new Date(a))},I=function(a){};i.orient("bottom").tickPadding(7),j.orient(x?"right":"left"),m.duration(0).headerEnabled(!0).valueFormatter(function(a,b){return j.tickFormat()(a,b)}).headerFormatter(function(a,b){return H(d.x()(a.data),a,b)});var J=a.utils.renderWatch(F,0);return g.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.key,value:d.y()(a.data),refValue:o?d.y2()(a.data):null,color:a.color},a.negateTrend=d.negateTrend(),m.data(a).footerFormatter(I).chartContainer(d.container.parentNode).hidden(!1)}),g.dispatch.on("elementMouseout.tooltip",function(a){m.hidden(!0)}),g.dispatch.on("elementMousemove.tooltip",function(a){m()}),h.dispatch.on("elementMouseover.tooltip",function(a){a.series={y2:!0,key:a.data.key,value:d.y2()(a.data),color:a.color},m.data(a).footerFormatter(function(){}).chartContainer(d.container.parentNode).hidden(!1)}),h.dispatch.on("elementMouseout.tooltip",function(a){m.hidden(!0)}),h.dispatch.on("elementMousemove.tooltip",function(a){m()}),g.dispatch.on("elementClick.drill",function(a){F.drill({drill:[a.data[0],a.data[0]+a.step],result:a.series})}),d.dispatch=F,d.bars=g,d.legend=k,d.xAxis=i,d.yAxis=j,d.interactiveLayer=l,d.tooltip=m,d.options=a.utils.optionsFunc.bind(d),d._options=Object.create({},{width:{get:function(){return r},set:function(a){r=a}},height:{get:function(){return s},set:function(a){s=a}},negateTrend:{get:function(){return A},set:function(a){A=a}},showLegend:{get:function(){return t},set:function(a){t=a}},showChecks:{get:function(){return u},set:function(a){u=a}},showXAxis:{get:function(){return v},set:function(a){v=a}},showYAxis:{get:function(){return w},set:function(a){w=a}},focusEnable:{get:function(){return z},set:function(a){z=a}},brushExtent:{get:function(){return B},set:function(a){B=a}},defaultState:{get:function(){return D},set:function(a){D=a}},noData:{get:function(){return E},set:function(a){E=a}},margin:{get:function(){return p},set:function(a){p.top=void 0!==a.top?a.top:p.top,p.right=void 0!==a.right?a.right:p.right,p.bottom=void 0!==a.bottom?a.bottom:p.bottom,p.left=void 0!==a.left?a.left:p.left}},color:{get:function(){return q},set:function(b){q=a.utils.getColor(b),k.color(q),g.color(q)}},duration:{get:function(){return G},set:function(a){G=a,J.reset(G),g.duration(G),j.duration(G),i.duration(G)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(a){i.tickFormat(a)}},yTickFormat:{get:function(){return j.tickFormat()},set:function(a){j.tickFormat(a)}},headerFormat:{get:function(){return H},set:function(a){H=d3.functor(a)}},footerFormat:{get:function(){return m.footerFormatter()},set:function(a){I=d3.functor(a),m.footerFormatter(a)}},valueFormat:{get:function(){return l.tooltip.valueFormatter()},set:function(a){l.tooltip.valueFormatter(a),m.valueFormatter(a)}},keyFormat:{get:function(){return k.keyFormat()},set:function(a){k.keyFormat(a)}},rightAlignYAxis:{get:function(){return x},set:function(a){x=a,j.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(a){y=a,g.interactive(!y),h.interactive(!y)}},x:{get:function(){return g.x()},set:function(a){g.x(a),h.x(a)}},y:{get:function(){return g.y()},set:function(a){g.y(a)}},y2:{get:function(){return h.y()},set:function(a){o=!!a,h.y(a)}}}),a.utils.inheritOptions(d,g),a.utils.initOptions(d),d},a.models.ohlcBarChart=function(){var b=a.models.historicalBarChart(a.models.ohlcBar());return b.useInteractiveGuideline(!0),b.interactiveLayer.tooltip.contentGenerator(function(a){var c=a.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+a.value+"</h3><table><tr><td>open:</td><td>"+b.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+b.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+b.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+b.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),b},a.models.candlestickBarChart=function(){var b=a.models.historicalBarChart(a.models.candlestickBar());return b.useInteractiveGuideline(!0),b.interactiveLayer.tooltip.contentGenerator(function(a){var c=a.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+a.value+"</h3><table><tr><td>open:</td><td>"+b.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+b.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+b.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+b.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),b},a.models.multiHistoricalBarChart=function(){var b=a.models.historicalBarChart(a.models.multiBar().xScale(d3.scale.linear()).stacked(!1),a.models.multiBar().xScale(d3.scale.linear()).stacked(!1).refBars(!0).barColor(function(){return"#c4ced4"}));return b.useInteractiveGuideline(!1),b},a.models.legend=function(){"use strict";function b(s){function t(a,b){return"furious"!=r?"#000":p?a.disengaged?"#000":"#fff":p?void 0:(a.color||(a.color=h(a,b)),a.disabled?a.color:"#fff")}function u(a,b){return p&&"furious"==r&&a.disengaged?"#eee":a.color||h(a,b)}function v(a,b){return p&&"furious"==r?1:a.disabled?0:1}return s.each(function(b){var h=d-c.left-c.right,s=d3.select(this);a.utils.initSVG(s);var w=s.selectAll("g.nv-legend").data([b]),x=w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),y=w.select("g");w.attr("transform","translate("+c.left+","+c.top+")");var z,A,B=y.selectAll(".nv-series").data(function(a){return"furious"!=r?a:a.filter(function(a){return!!p||!a.disengaged})}),C=B.enter().append("g").attr("class","nv-series");switch(r){case"furious":A=23;break;case"classic":A=20}if("classic"==r)C.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),n||C.append("path").attr("class","nv-check").attr("transform","translate(-12, -12)scale(0.9)").attr("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"),z=B.select("circle");else if("furious"==r){C.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),z=B.select(".nv-legend-symbol"),C.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var D=B.select(".nv-check-box");D.each(function(a,b){d3.select(this).selectAll("path").attr("stroke",t(a,b))})}var E=k&&"function"==typeof k;if(E){C.append("a").attr("class","nv-href").attr("xlink:href",function(a){return k(a)}).append("text").attr("class","nv-legend-text")}else C.append("text").attr("class","nv-legend-text");var F=B.select("text.nv-legend-text");F.attr("text-anchor","start").attr("dy",".32em").attr("dx","8"),(E?z:B).on("mouseover",function(a,b){q.legendMouseover(a,b)}).on("mouseout",function(a,b){q.legendMouseout(a,b)}).on("click",function(a,b){q.legendClick(a,b);var c=B.data();if(n){if("classic"==r)o?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==r)if(p)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!p){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}q.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(("furious"!=r||!p)&&(q.legendDblclick(a,b),n)){var c=B.data();c.forEach(function(a){a.disabled=!0,"furious"==r&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==r&&(a.userDisabled=a.disabled),q.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}),B.classed("nv-disabled",function(a){return a.userDisabled}).classed("selected",function(a){return a.selected}),B.exit().remove(),F.attr("fill",t).text(function(a,b){return g(f(a))});var G=0;if(j){var H=[];B.each(function(b,c){var d,e=f(b),h=g(e);if(h&&h.length>i){var j=h.substring(0,i);d=d3.select(this).select("text").text(j+"...")}else d=d3.select(this).select("text");d3.select(this).append("svg:title").text(e);var k;try{if((k=d.node().getComputedTextLength())<=0)throw Error()}catch(m){k=a.utils.calcApproxTextWidth(d)}H.push(k+l)});var I=0,J=[];for(G=0;G<h&&I<H.length;)J[I]=H[I],G+=H[I++];for(0===I&&(I=1);G>h&&I>1;){J=[],I--;for(var K=0;K<H.length;K++)H[K]>(J[K%I]||0)&&(J[K%I]=H[K]);G=J.reduce(function(a,b,c,d){return a+b})}for(var L=[],M=0,N=0;M<I;M++)L[M]=N,N+=J[M];B.attr("transform",function(a,b){return"translate("+L[b%I]+","+(5+Math.floor(b/I)*A)+")"}),m?y.attr("transform","translate("+(d-c.right-G)+","+c.top+")"):y.attr("transform","translate(0,"+c.top+")"),e=c.top+c.bottom+Math.ceil(H.length/I)*A}else{var O,P=5,Q=5,R=0;B.attr("transform",function(a,b){var e=d3.select(this).select("text").node().getComputedTextLength()+l;return O=Q,d<c.left+c.right+O+e&&(Q=O=5,P+=A),Q+=e,Q>R&&(R=Q),G<O+R&&(G=O+R),"translate("+O+","+P+")"}),y.attr("transform","translate("+(d-c.right-R)+","+c.top+")"),e=c.top+c.bottom+P+15}if("furious"==r){z.attr("width",function(a,b){return F[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),x.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);y.select(".nv-legend-bg").transition().duration(300).attr("x",-A).attr("width",G+A-12).attr("height",e+10).attr("y",-c.top-10).attr("opacity",p?1:0)}z.style("fill",u).style("fill-opacity",v).style("stroke",u)}),b}var c={top:5,right:0,bottom:5,left:0},d=400,e=20,f=function(a){return a.name||a.key},g=function(a){return a},h=a.utils.getColor(),i=20,j=!0,k=null,l=32,m=!0,n=!0,o=!1,p=!1,q=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),r="classic";return b.dispatch=q,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},key:{get:function(){return f},set:function(a){f=a}},href:{get:function(){return k},set:function(a){k=d3.functor(a)}},align:{get:function(){return j},set:function(a){j=a}},maxKeyLength:{get:function(){return i},set:function(a){i=a}},rightAlign:{get:function(){return m},set:function(a){m=a}},padding:{get:function(){return l},set:function(a){l=a}},updateState:{get:function(){return n},set:function(a){n=a}},radioButtonMode:{get:function(){return o},set:function(a){o=a}},expanded:{get:function(){return p},set:function(a){p=a}},vers:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return c},set:function(a){c.top=void 0!==a.top?a.top:c.top,c.right=void 0!==a.right?a.right:c.right,c.bottom=void 0!==a.bottom?a.bottom:c.bottom,c.left=void 0!==a.left?a.left:c.left}},color:{get:function(){return h},set:function(b){h=a.utils.getColor(b)}},keyFormat:{get:function(){return g},set:function(a){g=a}}}),a.utils.initOptions(b),b},a.models.line=function(){"use strict";function b(x){return B.reset(),B.models(e),x.each(function(b){i=d3.select(this);var x=a.utils.availableWidth(g,i,f),y=a.utils.availableHeight(h,i,f);a.utils.initSVG(i);var C=b.reduce(function(a,b){return s(b)?d3.extent(d3.merge([a,b.values.reduce(function(a,b){return d3.extent(d3.merge([a,[m(b),n(b),o(b)]]))},[])])):a},[]);0===C.length&&(C=[0,1]),e.forceY(d3.merge([C,q||[0,1],[u]])),c=e.xScale(),d=e.yScale(),z=z||c,A=A||d;var D=i.selectAll("g.nv-wrap.nv-line").data([b]),E=D.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),F=E.append("defs"),G=E.append("g"),H=D.select("g")
;G.append("g").attr("class","nv-groups"),G.append("g").attr("class","nv-scatterWrap"),D.attr("transform","translate("+f.left+","+f.top+")"),e.width(x).height(y);var I=D.select(".nv-scatterWrap");I.call(e),F.append("clipPath").attr("id","nv-edge-clip-"+e.id()).append("rect"),D.select("#nv-edge-clip-"+e.id()+" rect").attr("width",x).attr("height",y>0?y+50:0).attr("y",y>0?-50:0),H.attr("clip-path",t?"url(#nv-edge-clip-"+e.id()+")":""),I.attr("clip-path",t?"url(#nv-edge-clip-"+e.id()+")":"");var J=D.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});J.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(a){return a.strokeWidth||j}).style("fill-opacity",1e-6),J.exit().remove(),J.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return k(a,b)}).style("stroke",function(a,b){return k(a,b)}),J.watchTransition(B,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||.5});var K=J.selectAll("path.nv-area").data(function(a){return r(a)?[a]:[]});K.enter().append("path").attr("class","nv-area").attr("d",function(b){return d3.svg.area().interpolate(w).defined(p).x(function(b,c){return a.utils.NaNtoZero(z(l(b,c)))}).y0(function(b,c){return a.utils.NaNtoZero(A(m(b,c)))}).y1(function(a,b){return A(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[b.values])}),J.exit().selectAll("path.nv-area").remove(),K.watchTransition(B,"line: areaPaths").attr("d",function(b){return d3.svg.area().interpolate(w).defined(p).x(function(b,d){return a.utils.NaNtoZero(c(l(b,d)))}).y0(function(b,c){return a.utils.NaNtoZero(d(m(b,c)))}).y1(function(a,b){return d(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[b.values])});var L=J.selectAll("path.nv-band").data(function(a){return s(a)?[a]:[]});L.enter().append("path").attr("class","nv-band").attr("d",function(b){return d3.svg.area().interpolate(w).defined(p).x(function(b,c){return a.utils.NaNtoZero(z(l(b,c)))}).y0(function(b,c){return a.utils.NaNtoZero(A(n(b,c)))}).y1(function(b,c){return a.utils.NaNtoZero(A(o(b,c)))}).apply(this,[b.values])}),J.exit().selectAll("path.nv-band").remove(),L.watchTransition(B,"line: bandPaths").attr("d",function(b){return d3.svg.area().interpolate(w).defined(p).x(function(b,d){return a.utils.NaNtoZero(c(l(b,d)))}).y0(function(b,c){return a.utils.NaNtoZero(d(n(b,c)))}).y1(function(b,c){return a.utils.NaNtoZero(d(o(b,c)))}).apply(this,[b.values])});var M=J.selectAll("path.nv-line").data(function(a){return[a.values]});M.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(w).defined(p).x(function(b,c){return a.utils.NaNtoZero(z(l(b,c)))}).y(function(b,c){return a.utils.NaNtoZero(A(m(b,c)))})),M.watchTransition(B,"line: linePaths").attr("d",d3.svg.line().interpolate(w).defined(p).x(function(b,d){return a.utils.NaNtoZero(c(l(b,d)))}).y(function(b,c){return a.utils.NaNtoZero(d(m(b,c)))}));var N=J.selectAll("line.nv-threshold").data(u?[u]:[]);N.enter().append("line").attr("class","nv-threshold"),N.attr("x1",c.range()[0]).attr("y1",a.utils.NaNtoZero(d(u))).attr("x2",c.range()[1]).attr("y2",a.utils.NaNtoZero(d(u))),N.exit().remove();var O=J.selectAll("g.nv-activeMarker").data(v?[v]:[]),P=O.enter().append("g").attr("class","nv-activeMarker");P.append("line"),P.append("text"),O.selectAll("line").attr("x1",a.utils.NaNtoZero(c(v))).attr("y1",d.range()[0]).attr("x2",a.utils.NaNtoZero(c(v))).attr("y2",d.range()[1]),O.selectAll("text").text("Created").attr("transform","rotate(270)").attr("y",a.utils.NaNtoZero(c(v))-5).attr("x",-y/2),O.exit().remove(),z=c.copy(),A=d.copy()}),B.renderEnd("line immediate"),b}var c,d,e=a.models.scatter(),f={top:0,right:0,bottom:0,left:0},g=960,h=500,i=null,j=1.5,k=a.utils.defaultColor(),l=function(a){return a.x},m=function(a){return a.y},n=function(a){return a.low},o=function(a){return a.high},p=function(a,b){return!isNaN(m(a,b))&&null!==m(a,b)},q=[0,1],r=function(a){return a.area},s=function(a){return a.band},t=!1,u=null,v=null,w="linear",x=0,y=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");e.pointSize(16).pointDomain([16,256]);var z,A,B=a.utils.renderWatch(y,x);return b.dispatch=y,b.scatter=e,e.dispatch.on("elementClick",function(){y.elementClick.apply(this,arguments)}),e.dispatch.on("elementMouseover",function(){y.elementMouseover.apply(this,arguments)}),e.dispatch.on("elementMouseout",function(){y.elementMouseout.apply(this,arguments)}),b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},defined:{get:function(){return p},set:function(a){p=a}},forceY:{get:function(){return q},set:function(a){q=a}},interpolate:{get:function(){return w},set:function(a){w=a}},threshold:{get:function(){return u},set:function(a){u=a}},activeSince:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},duration:{get:function(){return x},set:function(a){x=a,B.reset(x),e.duration(x)}},isArea:{get:function(){return r},set:function(a){r=d3.functor(a)}},isBand:{get:function(){return s},set:function(a){s=d3.functor(a)}},x:{get:function(){return l},set:function(a){l=a,e.x(a)}},y:{get:function(){return m},set:function(a){m=a,e.y(a)}},low:{get:function(){return n},set:function(a){n=a,e.low(a)}},high:{get:function(){return o},set:function(a){o=a,e.high(a)}},color:{get:function(){return k},set:function(b){k=a.utils.getColor(b),e.color(k)}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.lineChart=function(){"use strict";function b(l){return F.reset(),F.models(e),F.models(f),t&&F.models(h),u&&F.models(i),l.each(function(l){function y(){t&&P.select(".nv-focus .nv-x.nv-axis").transition().duration(D).call(h)}function B(){u&&P.select(".nv-focus .nv-y.nv-axis").transition().duration(D).call(i)}function E(){m.empty()?C.brush({extent:null,brush:m}):C.brush({extent:m.extent(),brush:m})}function F(){}var I=d3.select(this);a.utils.initSVG(I);var J=a.utils.availableWidth(p,I,n),K=a.utils.availableHeight(q,I,n);if(b.update=function(){0===D?I.call(b):I.transition().duration(D).call(b)},b.container=this,z.setter(H(l),b.update).getter(G(l)).update(),z.disabled=l.map(function(a){return!!a.disabled}),!A){var L;A={};for(L in z)z[L]instanceof Array?A[L]=z[L].slice(0):A[L]=z[L]}if(!(l&&l.length&&l.filter(function(a){return a.values&&a.values.length}).length))return a.utils.noData(b,I),b;if(I.selectAll(".nv-noData").remove(),g){var M=d3.extent(d3.merge([l[0].values.map(e.y()),l[0].values.map(f.y())]));e.forceY(M),f.forceY(M)}c=e.xScale(),d=e.yScale();var N=I.selectAll("g.nv-wrap.nv-lineChart").data([l]),O=N.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),P=N.select("g");O.append("g").attr("class","nv-legendWrap");var Q=O.append("g").attr("class","nv-focus");Q.append("g").attr("class","nv-background").append("rect"),Q.append("g").attr("class","nv-x nv-axis"),Q.append("g").attr("class","nv-y nv-axis"),Q.append("g").attr("class","nv-lines2Wrap"),Q.append("g").attr("class","nv-linesWrap"),Q.append("g").attr("class","nv-interactive");O.append("g").attr("class","nv-context");r&&(j.width(J).updateState(!s),P.select(".nv-legendWrap").datum(l).call(j),n.top!=j.height()&&(n.top=j.height(),K=a.utils.availableHeight(q,I,n)),N.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")")),N.attr("transform","translate("+n.left+","+n.top+")"),v&&P.select(".nv-y.nv-axis").attr("transform","translate("+J+",0)"),w&&(k.width(J).height(K).margin({left:n.left,top:n.top}).svgContainer(I).xScale(c),N.select(".nv-interactive").call(k)),P.select(".nv-focus .nv-background rect").attr("width",J).attr("height",K),e.width(J).height(K).color(l.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!l[b].disabled})),g&&f.interpolate("cardinal").clipEdge(!0).width(J).height(K).color(l.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!l[b].disabled}));var R,S=P.select(".nv-linesWrap").datum(l.filter(function(a){return!a.disabled}));if(g&&(R=P.select(".nv-lines2Wrap").datum(l.filter(function(a){return!a.disabled}))),t&&h.scale(c)._ticks(a.utils.calcTicksX(J/100,l)).tickSize(-K,0),u&&i.scale(d)._ticks(a.utils.calcTicksY(K/36,l)).tickSize(-J,0),P.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+K+")"),g&&R.call(f),S.call(e),y(),B(),x){m.x(c).clear().on("brushend",function(){E()});P.select(".nv-context").call(m).selectAll("rect").attr("height",K);F()}j.dispatch.on("stateChange",function(a){for(var c in a)z[c]=a[c];C.stateChange(z),b.update()}).on("legendClick",function(a,b){a.selected=!a.selected,C.selectChange(a)}),k.dispatch.on("elementMousemove",function(d){e.clearHighlights();var f,g,h,i=[];if(l.filter(function(a,b){return a.seriesIndex=b,!a.disabled&&!a.disableTooltip}).forEach(function(j,k){var l=c.domain(),m=j.values.filter(function(a,b){return e.x()(a,b)>=l[0]&&e.x()(a,b)<=l[1]});g=a.interactiveBisect(m,d.pointXValue,e.x());var n=m[g],p=b.y()(n,g),q=b.y2()(n,g);null!==p&&e.highlightPoint(j.seriesIndex,g,!0),void 0!==n&&(void 0===f&&(f=n),void 0===h&&(h=b.xScale()(b.x()(n,g))),i.push({key:j.key,value:p,refValue:q,pointAlert:b.pointAlert&&b.pointAlert(),color:function(a,b){return a.color||o(a,b)}(j,j.seriesIndex),data:n}))}),i.length>2){var j=b.yScale().invert(d.mouseY),m=Math.abs(b.yScale().domain()[0]-b.yScale().domain()[1]),n=.03*m,p=a.nearestValueIndex(i.map(function(a){return a.value}),j,n);null!==p&&(i[p].highlight=!0)}k.tooltip.chartContainer(b.container.parentNode).data({negateTrend:b.negateTrend(),value:b.x()(f,g),index:g,series:i})(),k.renderGuideLine(h)}),k.dispatch.on("elementClick",function(c){var d,f=[];l.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(e){var g=a.interactiveBisect(e.values,c.pointXValue,b.x()),h=e.values[g];if(void 0!==h){void 0===d&&(d=b.xScale()(b.x()(h,g)));var i=b.yScale()(b.y()(h,g));f.push({point:h,pointIndex:g,pos:[d,i],seriesIndex:e.seriesIndex,series:e})}}),e.dispatch.elementClick(f)}),k.dispatch.on("elementMouseout",function(a){e.clearHighlights()}),C.on("changeState",function(a){void 0!==a.disabled&&l.length===a.disabled.length&&(l.forEach(function(b,c){b.disabled=a.disabled[c]}),z.disabled=a.disabled),b.update()})}),F.renderEnd("lineChart immediate"),b}var c,d,e=a.models.line(),f=a.models.line(),g=!1,h=a.models.axis(),i=a.models.axis(),j=a.models.legend(),k=a.interactiveGuideline(),l=a.models.tooltip(),m=d3.svg.brush(),n={top:30,right:20,bottom:50,left:60},o=a.utils.defaultColor(),p=null,q=null,r=!0,s=!1,t=!0,u=!0,v=!1,w=!1,x=!1,y=null,z=a.utils.state(),A=null,B=null,C=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState","renderEnd","selectChange"),D=250,E=function(a){return d3.time.format("%b %d %H:%M")(new Date(e.x(a)))};h.orient("bottom"),i.orient(v?"right":"left"),e.clipEdge(!0).duration(0),f.isArea(!0),l.valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return E(a,b)}),k.tooltip.valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return E(a,b)});var F=a.utils.renderWatch(C,D),G=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},H=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return e.dispatch.on("elementMouseover.tooltip",function(a){a.series.disableTooltip||l.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){l.hidden(!0)}),b.dispatch=C,b.lines=e,b.lines2=f,b.legend=j,b.xAxis=h,b.yAxis=i,b.interactiveLayer=k,b.tooltip=l,b.state=z,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return q},set:function(a){q=a}},showChecks:{get:function(){return s},set:function(a){s=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return t},set:function(a){t=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},focusEnable:{get:function(){return x},set:function(a){x=a}},brushExtent:{get:function(){return y},set:function(a){y=a}},defaultState:{get:function(){return A},set:function(a){A=a}},noData:{get:function(){return B},set:function(a){B=a}},margin:{get:function(){return n},set:function(a){n.top=void 0!==a.top?a.top:n.top,n.right=void 0!==a.right?a.right:n.right,n.bottom=void 0!==a.bottom?a.bottom:n.bottom,n.left=void 0!==a.left?a.left:n.left}},duration:{get:function(){return D},set:function(a){D=a,F.reset(D),e.duration(D),h.duration(D),i.duration(D)}},color:{get:function(){return o},set:function(b){o=a.utils.getColor(b),j.color(o),e.color(o),f.color(o)}},interpolate:{get:function(){return e.interpolate()},set:function(a){e.interpolate(a)}},xTickFormat:{get:function(){return h.tickFormat()},set:function(a){h.tickFormat(a)}},yTickFormat:{get:function(){return i.tickFormat()},set:function(a){i.tickFormat(a)}},headerFormat:{get:function(){return E},set:function(a){E=d3.functor(a)}},valueFormat:{get:function(){return k.tooltip.valueFormatter()},set:function(a){k.tooltip.valueFormatter(a)}},keyFormat:{get:function(){return j.keyFormat()},set:function(a){j.keyFormat(a)}},x:{get:function(){return e.x()},set:function(a){e.x(a),f.x(a)}},y:{get:function(){return e.y()},set:function(a){e.y(a)}},y2:{get:function(){return f.y()},set:function(a){g=!!a,f.y(a)}},threshold:{get:function(){return e.threshold()},set:function(a){e.threshold(a)}},pointAlert:{get:function(){return e.scatter.pointAlert()},set:function(a){e.scatter.pointAlert(a)}},activeSince:{get:function(){return e.activeSince()},set:function(a){e.activeSince(a)}},rightAlignYAxis:{get:function(){return v},set:function(a){v=a,i.orient(v?"right":"left")}},useInteractiveGuideline:{get:function(){return w},set:function(a){(w=a)&&(e.interactive(!1),e.useVoronoi(!1))}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.linePlusBarChart=function(){"use strict";function b(v){return v.each(function(v){function J(a){var b=+("e"==a),c=b?1:-1,d=Z/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function R(){u.empty()||u.extent(I),ma.data([u.empty()?e.domain():I]).each(function(a,b){var c=e(a[0])-e.range()[0],d=e.range()[1]-e(a[1]);d3.select(this).select(".left").attr("width",c<0?0:c),d3.select(this).select(".right").attr("x",e(a[1])).attr("width",d<0?0:d)})}function S(){I=u.empty()?null:u.extent(),c=u.empty()?e.domain():u.extent(),K.brush({extent:c,brush:u}),R(),l.width(X).height(Y).color(v.map(function(a,b){return a.color||C(a,b)}).filter(function(a,b){return!v[b].disabled&&v[b].bar})),j.width(X).height(Y).color(v.map(function(a,b){return a.color||C(a,b)}).filter(function(a,b){return!v[b].disabled&&!v[b].bar}));var b=fa.select(".nv-focus .nv-barsWrap").datum(_.length?_.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,b){return l.x()(a,b)>=c[0]&&l.x()(a,b)<=c[1]})}}):[{values:[]}]),h=fa.select(".nv-focus .nv-linesWrap").datum(V(aa)?[{values:[]}]:aa.filter(function(a){return!a.disabled}).map(function(a,b){return{area:a.area,fillOpacity:a.fillOpacity,key:a.key,values:a.values.filter(function(a,b){return j.x()(a,b)>=c[0]&&j.x()(a,b)<=c[1]})}}));d=_.length&&!Q?l.xScale():j.xScale(),n.scale(d)._ticks(a.utils.calcTicksX(X/100,v)).tickSize(-Y,0),n.domain([Math.ceil(c[0]),Math.floor(c[1])]),fa.select(".nv-x.nv-axis").transition().duration(L).call(n),b.transition().duration(L).call(l),h.transition().duration(L).call(j),fa.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),p.scale(f)._ticks(a.utils.calcTicksY(Y/36,v)).tickSize(-X,0),q.scale(g)._ticks(a.utils.calcTicksY(Y/36,v)).tickSize(_.length?0:-X,0);var i=_.length?1:0,k=aa.length&&!V(aa)?1:0,m=Q?k:i,o=Q?i:k;fa.select(".nv-focus .nv-y1.nv-axis").style("opacity",m),fa.select(".nv-focus .nv-y2.nv-axis").style("opacity",o).attr("transform","translate("+d.range()[1]+",0)"),fa.select(".nv-focus .nv-y1.nv-axis").transition().duration(L).call(p),fa.select(".nv-focus .nv-y2.nv-axis").transition().duration(L).call(q)}var W=d3.select(this);a.utils.initSVG(W);var X=a.utils.availableWidth(y,W,w),Y=a.utils.availableHeight(z,W,w)-(E?H:0),Z=H-x.top-x.bottom;if(b.update=function(){W.transition().duration(L).call(b)},b.container=this,M.setter(U(v),b.update).getter(T(v)).update(),M.disabled=v.map(function(a){return!!a.disabled}),!N){var $;N={};for($ in M)M[$]instanceof Array?N[$]=M[$].slice(0):N[$]=M[$]}if(!(v&&v.length&&v.filter(function(a){return a.values.length}).length))return a.utils.noData(b,W),b;W.selectAll(".nv-noData").remove();var _=v.filter(function(a){return!a.disabled&&a.bar}),aa=v.filter(function(a){return!a.bar});d=l.xScale(),e=o.scale(),f=Q?j.yScale():l.yScale(),g=Q?l.yScale():j.yScale(),h=Q?k.yScale():m.yScale(),i=Q?m.yScale():k.yScale();var ba=v.filter(function(a){return!a.disabled&&(Q?!a.bar:a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:A(a,b),y:B(a,b)}})}),ca=v.filter(function(a){return!a.disabled&&(Q?a.bar:!a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:A(a,b),y:B(a,b)}})});d.range([0,X]),e.domain(d3.extent(d3.merge(ba.concat(ca)),function(a){return a.x})).range([0,X]);var da=W.selectAll("g.nv-wrap.nv-linePlusBar").data([v]),ea=da.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),fa=da.select("g");ea.append("g").attr("class","nv-legendWrap");var ga=ea.append("g").attr("class","nv-focus");ga.append("g").attr("class","nv-x nv-axis"),ga.append("g").attr("class","nv-y1 nv-axis"),ga.append("g").attr("class","nv-y2 nv-axis"),ga.append("g").attr("class","nv-barsWrap"),ga.append("g").attr("class","nv-linesWrap");var ha=ea.append("g").attr("class","nv-context");if(ha.append("g").attr("class","nv-x nv-axis"),ha.append("g").attr("class","nv-y1 nv-axis"),ha.append("g").attr("class","nv-y2 nv-axis"),ha.append("g").attr("class","nv-barsWrap"),ha.append("g").attr("class","nv-linesWrap"),ha.append("g").attr("class","nv-brushBackground"),ha.append("g").attr("class","nv-x nv-brush"),D){var ia=t.align()?X/2:X,ja=t.align()?ia:0;t.width(ia),fa.select(".nv-legendWrap").datum(v.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=Q?a.originalKey+(a.bar?P:O):a.originalKey+(a.bar?O:P),a})).call(t),w.top!=t.height()&&(w.top=t.height(),Y=a.utils.availableHeight(z,W,w)-H),fa.select(".nv-legendWrap").attr("transform","translate("+ja+","+-w.top+")")}da.attr("transform","translate("+w.left+","+w.top+")"),fa.select(".nv-context").style("display",E?"initial":"none"),m.width(X).height(Z).color(v.map(function(a,b){return a.color||C(a,b)}).filter(function(a,b){return!v[b].disabled&&v[b].bar})),k.width(X).height(Z).color(v.map(function(a,b){return a.color||C(a,b)}).filter(function(a,b){return!v[b].disabled&&!v[b].bar}));var ka=fa.select(".nv-context .nv-barsWrap").datum(_.length?_:[{values:[]}]),la=fa.select(".nv-context .nv-linesWrap").datum(V(aa)?[{values:[]}]:aa.filter(function(a){return!a.disabled}));fa.select(".nv-context").attr("transform","translate(0,"+(Y+w.bottom+x.top)+")"),ka.transition().call(m),la.transition().call(k),G&&(o._ticks(a.utils.calcTicksX(X/100,v)).tickSize(-Z,0),fa.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")"),fa.select(".nv-context .nv-x.nv-axis").transition().call(o)),F&&(r.scale(h)._ticks(Z/36).tickSize(-X,0),s.scale(i)._ticks(Z/36).tickSize(_.length?0:-X,0),fa.select(".nv-context .nv-y3.nv-axis").style("opacity",_.length?1:0).attr("transform","translate(0,"+e.range()[0]+")"),fa.select(".nv-context .nv-y2.nv-axis").style("opacity",aa.length?1:0).attr("transform","translate("+e.range()[1]+",0)"),fa.select(".nv-context .nv-y1.nv-axis").transition().call(r),fa.select(".nv-context .nv-y2.nv-axis").transition().call(s)),u.x(e).on("brush",S),I&&u.extent(I);var ma=fa.select(".nv-brushBackground").selectAll("g").data([I||u.extent()]),na=ma.enter().append("g");na.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Z),na.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Z);var oa=fa.select(".nv-x.nv-brush").call(u);oa.selectAll("rect").attr("height",Z),oa.selectAll(".resize").append("path").attr("d",J),t.dispatch.on("stateChange",function(a){for(var c in a)M[c]=a[c];K.stateChange(M),b.update()}),K.on("changeState",function(a){void 0!==a.disabled&&(v.forEach(function(b,c){b.disabled=a.disabled[c]}),M.disabled=a.disabled),b.update()}),S()}),b}var c,d,e,f,g,h,i,j=a.models.line(),k=a.models.line(),l=a.models.historicalBar(),m=a.models.historicalBar(),n=a.models.axis(),o=a.models.axis(),p=a.models.axis(),q=a.models.axis(),r=a.models.axis(),s=a.models.axis(),t=a.models.legend(),u=d3.svg.brush(),v=a.models.tooltip(),w={top:30,right:30,bottom:30,left:60},x={top:0,right:30,bottom:20,left:60},y=null,z=null,A=function(a){return a.x},B=function(a){return a.y},C=a.utils.defaultColor(),D=!0,E=!0,F=!1,G=!0,H=50,I=null,J=null,K=d3.dispatch("brush","stateChange","changeState"),L=0,M=a.utils.state(),N=null,O=" (left axis)",P=" (right axis)",Q=!1;j.clipEdge(!0),k.interactive(!1),k.pointActive(function(a){return!1}),n.orient("bottom").tickPadding(5),p.orient("left"),q.orient("right"),o.orient("bottom").tickPadding(5),r.orient("left"),s.orient("right"),v.headerEnabled(!0).headerFormatter(function(a,b){return n.tickFormat()(a,b)});var R=function(){return Q?{main:p,focus:r}:{main:q,focus:s}},S=function(){return Q?{main:q,focus:s}:{main:p,focus:r}},T=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},U=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},V=function(a){return a.every(function(a){return a.disabled})};return j.dispatch.on("elementMouseover.tooltip",function(a){v.duration(100).valueFormatter(function(a,b){return S().main.tickFormat()(a,b)}).data(a).hidden(!1)}),j.dispatch.on("elementMouseout.tooltip",function(a){v.hidden(!0)}),l.dispatch.on("elementMouseover.tooltip",function(a){a.value=b.x()(a.data),a.series={value:b.y()(a.data),color:a.color},v.duration(0).valueFormatter(function(a,b){return R().main.tickFormat()(a,b)}).data(a).hidden(!1)}),l.dispatch.on("elementMouseout.tooltip",function(a){v.hidden(!0)}),l.dispatch.on("elementMousemove.tooltip",function(a){v()}),b.dispatch=K,b.legend=t,b.lines=j,b.lines2=k,b.bars=l,b.bars2=m,b.xAxis=n,b.x2Axis=o,b.y1Axis=p,b.y2Axis=q,b.y3Axis=r,b.y4Axis=s,b.tooltip=v,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return y},set:function(a){y=a}},height:{get:function(){return z},set:function(a){z=a}},showLegend:{get:function(){return D},set:function(a){D=a}},brushExtent:{get:function(){return I},set:function(a){I=a}},noData:{get:function(){return J},set:function(a){J=a}},focusEnable:{get:function(){return E},set:function(a){E=a}},focusHeight:{get:function(){return H},set:function(a){H=a}},focusShowAxisX:{get:function(){return G},set:function(a){G=a}},focusShowAxisY:{get:function(){return F},set:function(a){F=a}},legendLeftAxisHint:{get:function(){return O},set:function(a){O=a}},legendRightAxisHint:{get:function(){return P},set:function(a){P=a}},margin:{get:function(){return w},set:function(a){w.top=void 0!==a.top?a.top:w.top,w.right=void 0!==a.right?a.right:w.right,w.bottom=void 0!==a.bottom?a.bottom:w.bottom,w.left=void 0!==a.left?a.left:w.left}},focusMargin:{get:function(){return x},set:function(a){x.top=void 0!==a.top?a.top:x.top,x.right=void 0!==a.right?a.right:x.right,x.bottom=void 0!==a.bottom?a.bottom:x.bottom,x.left=void 0!==a.left?a.left:x.left}},duration:{get:function(){return L},set:function(a){L=a}},color:{get:function(){return C},set:function(b){C=a.utils.getColor(b),t.color(C)}},x:{get:function(){return A},set:function(a){A=a,j.x(a),k.x(a),l.x(a),m.x(a)}},y:{get:function(){return B},set:function(a){B=a,j.y(a),k.y(a),l.y(a),m.y(a)}},switchYAxisOrder:{get:function(){return Q},set:function(a){if(Q!==a){var b=p.tickFormat();p.tickFormat(q.tickFormat()),q.tickFormat(b)}Q=a}}}),a.utils.inheritOptions(b,j),a.utils.initOptions(b),b},a.models.multiBar=function(){"use strict";function b(H){return F.reset(),H.each(function(b){var H=k-j.left-j.right,I=l-j.top-j.bottom;p=d3.select(this),a.utils.initSVG(p);var J=0;if(x&&b.length&&(x=[{values:b[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]),u){var K=d3.layout.stack().offset(v).values(function(a){return a.values}).y(r)(!b.length&&x?x:b);K.forEach(function(a,c){a.nonStackable?(b[c].nonStackableSeries=J++,K[c]=b[c]):c>0&&K[c-1].nonStackable&&K[c].values.map(function(a,b){a.y0-=K[c-1].values[b].y,a.y1=a.y0+a.y})}),b=K}b.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),u&&b[0].values.map(function(a,c){var d=0,e=0;b.map(function(a,f){if(!b[f].nonStackable){var g=a.values[c];g.size=Math.abs(g.y),g.y<0?(g.y1=e,e-=g.size):(g.y1=g.size+d,d+=g.size)}})});for(var L=b.map(function(a,b){return a.values.map(function(a,c){return{x:q(a,c),y:r(a,c),y0:a.y0,y1:a.y1,idx:b}})}),M=(L&&L.length>0?L[0].map(function(a){return a.x}):[]).sort(),N=0,O=1;O<M.length;O++)N=1===O?M[O]-M[O-1]:Math.min(N,M[O]-M[O-1]);m.domain(d||M),m.rangeBands?m.rangeBands(f||[0,H],A):m.range(f||[0,H]);var P=m.rangeBand?m.rangeBand():(1-(A>0&&A<1?A:0))*Math.min(m(m.domain()[0]+N)-m(m.domain()[0]),B*L.length);n.domain(e||d3.extent(d3.merge(L).map(function(a){var c=a.y;return u&&!b[a.idx].nonStackable&&(c=a.y>0?a.y1:a.y1+a.y),c}).concat(s))).range(g||[I,0]),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]+.01*n.domain()[0],n.domain()[1]-.01*n.domain()[1]]):n.domain([-1,1])),h=h||m,i=i||n;var Q=p.selectAll("g.nv-wrap.nv-multibar").data([b]),R=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),S=R.append("defs"),T=R.append("g"),U=Q.select("g");T.append("g").attr("class","nv-groups"),Q.attr("transform","translate("+j.left+","+j.top+")"),S.append("clipPath").attr("id","nv-edge-clip-"+o).append("rect"),Q.select("#nv-edge-clip-"+o+" rect").attr("width",H+P).attr("height",I>0?I+50:0).attr("y",I>0?-50:0),U.attr("clip-path",t?"url(#nv-edge-clip-"+o+")":"");var V=Q.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});V.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var W=F.transition(V.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,z)).attr("y",function(a,c,d){var e=i(0)||0;return u&&b[a.series]&&!b[a.series].nonStackable&&(e=i(a.y0)),e}).attr("height",0).remove();W.delay&&W.delay(function(a,b){return b*(z/(G+1))-b}),V.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return w(a,b)}).style("stroke",function(a,b){return w(a,b)}),V.style("stroke-opacity",1).style("fill-opacity",.75);var X=V.selectAll("rect.nv-bar").data(function(a){return x&&!b.length?x.values:a.values});X.exit().remove();var Y=M.length>0?M[1]-M[0]:0;X.enter().append("rect").attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(a,c,d){return u&&!b[d].nonStackable?0:d*H/b.length}).attr("y",function(a,c,d){return i(u&&!b[d].nonStackable?a.y0:0)||0}).attr("height",0).attr("width",function(a,c,d){return P/(u&&!b[d].nonStackable?1:b.length)}).attr("transform",function(a,b){return"translate("+m(q(a,b))+",0)"});X.style("fill",function(a,b,c){return w(a,c,b)}).style("stroke",function(a,b,c){return w(a,c,b)}).on("mouseover",function(a,b){E&&(d3.select(this).classed("hover",!0),D.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mouseout",function(a,b){E&&(d3.select(this).classed("hover",!1),D.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mousemove",function(a,b){E&&D.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,c){if(E){var d=this;D.elementClick({data:a,index:c,color:d3.select(this).style("fill"),event:d3.event,element:d,step:Y,series:b[a.series]}),d3.event.stopPropagation()}}).on("dblclick",function(a,c){E&&(D.elementDblClick({data:a,index:c,color:d3.select(this).style("fill"),step:Y,series:b[a.series]}),d3.event.stopPropagation())}),X.attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+m(q(a,b))+",0)"}).classed("nv-bar-ref",C),y&&(c||(c=b.map(function(){return!0})),X.style("fill",function(a,b,c){return d3.rgb(y(a,b)).toString()}).style("stroke",function(a,b,c){return d3.rgb(y(a,b)).toString()}));var Z=X.watchTransition(F,"multibar",Math.min(250,z));u?Z.attr("y",function(a,c,d){return b[d].nonStackable?r(a,c)<0?n(0):n(0)-n(r(a,c))<-1?n(0)-1:n(r(a,c))||0:n(a.y1)}).attr("height",function(a,c,d){return b[d].nonStackable?Math.max(Math.abs(n(r(a,c))-n(0)),0)||0:Math.max(Math.abs(n(a.y+a.y0)-n(a.y0)),0)}).attr("x",function(a,c,d){var e=0;return b[d].nonStackable&&(e=a.series*B/b.length,b.length!==J&&(e=b[d].nonStackableSeries*B/(2*J))),e}).attr("width",function(a,c,d){if(b[d].nonStackable){var e=B/J;return b.length!==J&&(e=B/(2*J)),e}return B}):Z.attr("x",function(a,c){return a.series*P/b.length}).attr("width",C?6:P/b.length).attr("y",function(a,b){return r(a,b)<0?n(0):n(0)-n(r(a,b))<1?n(0)-1:n(r(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(n(r(a,b))-n(0)),1)||0}),h=m.copy(),i=n.copy(),b[0]&&b[0].values&&(G=b[0].values.length)}),F.renderEnd("multibar immediate"),b}var c,d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,m=d3.scale.ordinal(),n=d3.scale.linear(),o=Math.floor(1e4*Math.random()),p=null,q=function(a){return a.x},r=function(a){return a.y},s=[0],t=!0,u=!1,v="zero",w=a.utils.defaultColor(),x=!1,y=null,z=0,A=.2,B=30,C=!1,D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=!0,F=a.utils.renderWatch(D,z),G=0;return b.highlightPoint=function(a,b){p.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)},b.clearHighlights=function(){p.select(".nv-bars .nv-bar.hover").classed("hover",!1)},b.dispatch=D,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return q},set:function(a){q=a}},y:{get:function(){return r},set:function(a){r=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceY:{get:function(){return s},set:function(a){s=a}},stacked:{get:function(){return u},set:function(a){u=a}},stackOffset:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},disabled:{get:function(){return c},set:function(a){c=a}},id:{get:function(){return o},set:function(a){o=a}},hideable:{get:function(){return x},set:function(a){x=a}},groupSpacing:{get:function(){return A},set:function(a){A=a}},barWidth:{get:function(){return B},set:function(a){B=a}},refBars:{get:function(){return C},set:function(a){C=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,
j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return z},set:function(a){z=a,F.reset(z)}},color:{get:function(){return w},set:function(b){w=a.utils.getColor(b)}},barColor:{get:function(){return y},set:function(b){y=b?a.utils.getColor(b):null}},interactive:{get:function(){return E},set:function(a){E=a}}}),a.utils.initOptions(b),b},a.models.multiBarChart=function(){"use strict";function b(B){return G.reset(),G.models(e),s&&G.models(f),t&&G.models(g),B.each(function(B){var G=d3.select(this),K=this;a.utils.initSVG(G);var L=a.utils.availableWidth(m,G,l),M=a.utils.availableHeight(n,G,l);if(b.update=function(){0===E?G.call(b):G.transition().duration(E).call(b)},b.container=this,z.setter(J(B),b.update).getter(I(B)).update(),z.disabled=B.map(function(a){return!!a.disabled}),!A){var N;A={};for(N in z)z[N]instanceof Array?A[N]=z[N].slice(0):A[N]=z[N]}if(!(B&&B.length&&B.filter(function(a){return a.values.length}).length))return a.utils.noData(b,G),b;G.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale();var O=G.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([B]),P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),Q=O.select("g");if(P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-controlsWrap"),P.append("g").attr("class","nv-interactive"),r&&(i.width(L-D()),Q.select(".nv-legendWrap").datum(B).call(i),l.top!=i.height()&&(l.top=i.height(),M=a.utils.availableHeight(n,G,l)),Q.select(".nv-legendWrap").attr("transform","translate("+D()+","+-l.top+")")),p){var R=[{key:q.grouped||"Grouped",disabled:e.stacked()},{key:q.stacked||"Stacked",disabled:!e.stacked()}];j.width(D()).color(["#444","#444","#444"]),Q.select(".nv-controlsWrap").datum(R).attr("transform","translate(0,"+-l.top+")").call(j)}if(O.attr("transform","translate("+l.left+","+l.top+")"),u&&Q.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),e.disabled(B.map(function(a){return a.disabled})).width(L).height(M).color(B.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!B[b].disabled})),Q.select(".nv-barsWrap").datum(B.filter(function(a){return!a.disabled})).call(e),s){f.scale(c)._ticks(a.utils.calcTicksX(L/100,B)).tickSize(-M,0),Q.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),Q.select(".nv-x.nv-axis").call(f);var S=Q.select(".nv-x.nv-axis > g").selectAll("g");if(S.selectAll("line, text").style("opacity",1),w){var T=function(a,b){return"translate("+a+","+b+")"},U=5,V=17;S.selectAll("text").attr("transform",function(a,b,c){return T(0,c%2==0?U:V)});var W=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;Q.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return T(0,0===b||W%2!=0?V:U)})}x&&Q.selectAll(".tick text").call(a.utils.wrapTicks,b.xAxis.rangeBand()),v&&S.filter(function(a,b){return b%Math.ceil(B[0].values.length/(L/100))!=0}).selectAll("text, line").style("opacity",0),y&&S.selectAll(".tick text").attr("transform","rotate("+y+" 0,0)").style("text-anchor",y>0?"start":"end"),Q.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}t&&(g.scale(d)._ticks(a.utils.calcTicksY(M/36,B)).tickSize(-L,0),Q.select(".nv-y.nv-axis").call(g)),F&&(h.width(L).height(M).margin({left:l.left,top:l.top}).svgContainer(G).xScale(c),O.select(".nv-interactive").call(h)),i.dispatch.on("stateChange",function(a){for(var c in a)z[c]=a[c];C.stateChange(z),b.update()}),j.dispatch.on("legendClick",function(a,c){if(a.disabled){switch(R=R.map(function(a){return a.disabled=!0,a}),a.disabled=!1,a.key){case"Grouped":case q.grouped:e.stacked(!1);break;case"Stacked":case q.stacked:e.stacked(!0)}z.stacked=e.stacked(),C.stateChange(z),b.update()}}),C.on("changeState",function(a){void 0!==a.disabled&&(B.forEach(function(b,c){b.disabled=a.disabled[c]}),z.disabled=a.disabled),void 0!==a.stacked&&(e.stacked(a.stacked),z.stacked=a.stacked,H=a.stacked),b.update()}),F?(h.dispatch.on("elementMousemove",function(a){if(void 0!=a.pointXValue){var d,e,f,g,i=[];B.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(h,j){e=c.domain().indexOf(a.pointXValue);var k=h.values[e];void 0!==k&&(g=k.x,void 0===d&&(d=k),void 0===f&&(f=a.mouseX),i.push({key:h.key,value:b.y()(k,e),color:o(h,h.seriesIndex),data:h.values[e]}))}),h.tooltip.chartContainer(K.parentNode).data({value:g,index:e,series:i})(),h.renderGuideLine(f)}}),h.dispatch.on("elementMouseout",function(a){h.tooltip.hidden(!0)})):(e.dispatch.on("elementMouseover.tooltip",function(a){a.value=b.x()(a.data),a.series={key:a.data.key,value:b.y()(a.data),color:a.color},k.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){k()}))}),G.renderEnd("multibarchart immediate"),b}var c,d,e=a.models.multiBar(),f=a.models.axis(),g=a.models.axis(),h=a.interactiveGuideline(),i=a.models.legend(),j=a.models.legend(),k=a.models.tooltip(),l={top:30,right:20,bottom:50,left:60},m=null,n=null,o=a.utils.defaultColor(),p=!0,q={},r=!0,s=!0,t=!0,u=!1,v=!0,w=!1,x=!1,y=0,z=a.utils.state(),A=null,B=null,C=d3.dispatch("stateChange","changeState","renderEnd"),D=function(){return p?180:0},E=250,F=!1;z.stacked=!1,e.stacked(!1),f.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(a){return a}),g.orient(u?"right":"left").tickFormat(d3.format(",.1f")),k.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),j.updateState(!1);var G=a.utils.renderWatch(C),H=!1,I=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:H}}},J=function(a){return function(b){void 0!==b.stacked&&(H=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return b.dispatch=C,b.multibar=e,b.legend=i,b.controls=j,b.xAxis=f,b.yAxis=g,b.state=z,b.tooltip=k,b.interactiveLayer=h,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return p},set:function(a){p=a}},controlLabels:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return A},set:function(a){A=a}},noData:{get:function(){return B},set:function(a){B=a}},reduceXTicks:{get:function(){return v},set:function(a){v=a}},rotateLabels:{get:function(){return y},set:function(a){y=a}},staggerLabels:{get:function(){return w},set:function(a){w=a}},wrapLabels:{get:function(){return x},set:function(a){x=!!a}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top,l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return E},set:function(a){E=a,e.duration(E),f.duration(E),g.duration(E),G.reset(E)}},color:{get:function(){return o},set:function(b){o=a.utils.getColor(b),i.color(o)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a,g.orient(u?"right":"left")}},useInteractiveGuideline:{get:function(){return F},set:function(a){F=a}},barColor:{get:function(){return e.barColor},set:function(a){e.barColor(a),i.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.multiBarHorizontal=function(){"use strict";function b(o){return N.reset(),o.each(function(b){var o=m-l.left-l.right,p=n-l.top-l.bottom;q=d3.select(this),a.utils.initSVG(q),B&&(b=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(u)(b)),b.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),B&&b[0].values.map(function(a,c){var d=0,e=0;b.map(function(a){var b=a.values[c];b.size=Math.abs(b.y),b.y<0?(b.y1=e-b.size,e-=b.size):(b.y1=d,d+=b.size)})});var L=f&&g?[]:b.map(function(a){return a.values.map(function(a,b){return{x:t(a,b),y:Math.max(u(a,b),a.previous?u(a.previous,b):0),y0:a.y0,y1:a.y1}})});r.domain(f||d3.merge(L).map(function(a){return a.x})).rangeBands(h||[0,p],H,0),s.domain(g||d3.extent(d3.merge(L).map(function(a){return B?a.y>0?a.y1+a.y:a.y1:a.y}).concat(w))),C&&!B?s.range(i||[s.domain()[0]<0?G:0,o-(s.domain()[1]>0?G:0)]):s.range(i||[0,o]),j=j||r,k=k||d3.scale.linear().domain(s.domain()).range([s(0),s(0)]);var O=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([b]),P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),Q=(P.append("defs"),P.append("g"));O.select("g");Q.append("g").attr("class","nv-groups"),O.attr("transform","translate("+l.left+","+l.top+")");var R=O.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});R.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),R.exit().watchTransition(N,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),R.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return x(a,b)}).style("stroke",function(a,b){return x(a,b)}),R.watchTransition(N,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var S=R.selectAll("g.nv-bar-ref").data(function(a){return a.values});S.exit().remove();var T=S.enter().append("g").classed("nv-bar-ref",!0).attr("transform",function(a,b,c){return"translate("+k(B?a.y0:0)+","+(B?0:c*z)+")"});T.filter(function(a){return a.previous}).append("rect").attr("width",0).attr("y",z-6).attr("height",6),T.filter(function(a){return a.previous}).append("svg:title").text(function(a,b){return u(a.previous,b)}),A&&(e||(e=b.map(function(){return!0})),S.style("fill",function(a,b,c){return"#c4ced4"}).style("stroke",function(a,b,c){return"#c4ced4"})),C&&(T.filter(function(a){return a.previous}).append("text").classed("nv-bar-ref-value",!0),S.select("text.nv-bar-ref-value").attr("text-anchor",function(a,b){return u(a,b)<0?"end":"start"}).attr("y",z&&z/2||15).attr("dy","0.32em").classed("positive",function(a,b){var c=u(a,b),d=u(a.previous,b);return D?c<d:c>d}).classed("negative",function(a,b){var c=u(a,b),d=u(a.previous,b);return D?c>d:c<d}).text(function(a,b){var c=u(a,b),d=u(a.previous,b),e=J(d>0?(c-d)/d:null),f=v(a,b);return void 0===f?e:f.length?e+"+"+I(Math.abs(f[1]))+"-"+I(Math.abs(f[0])):e+"±"+I(Math.abs(f))}),S.watchTransition(N,"multibarhorizontal: bars").select("text.nv-bar-ref-value").attr("x",function(a,b){return Math.max(50,s(u(a,b)))+4})),S.watchTransition(N,"multibarhorizontal: bars").filter(function(a){return a.previous}).attr("transform",function(a,b){return"translate("+s(u(a.previous,b)<0?u(a.previous,b):0)+","+(a.series*z+r(t(a,b)))+")"}).select("rect").attr("width",function(a,b){return Math.max(Math.abs(s(u(a.previous,b))-s(0)),1)||0});var U=R.selectAll("g.nv-bar").data(function(a){return a.values});U.exit().remove();var V=U.enter().append("g").attr("transform",function(a,b,c){return"translate("+k(B?a.y0:0)+","+(B?0:3.33*c*z)+")"});if(V.append("rect").attr("width",0).attr("height",z||r.rangeBand()/(B?1:b.length)),V.append("svg:title").text(function(a,b){return t(a,b)}),F&&V.filter(function(a,b,c){return 0===c}).append("path").attr("class","nv-check").attr("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"),U.on("mouseover",function(a,b){d3.select(this).classed("hover",!0),M.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),M.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){M.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){M.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){a.selected=!a.selected,d3.select(this).classed("selected",a.selected),M.elementClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(a,b){M.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),v(b[0],0)&&(V.append("polyline"),U.select("polyline").attr("fill","none").attr("points",function(a,c){var d=v(a,c),e=.8*r.rangeBand()/(2*(B?1:b.length));return d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return s(a)-s(0)}),[[d[0],-e],[d[0],e],[d[0],0],[d[1],0],[d[1],-e],[d[1],e]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(a,c){var d=r.rangeBand()/(2*(B?1:b.length));return"translate("+(u(a,c)<0?0:s(u(a,c))-s(0))+", "+d+")"})),C?(V.append("text").classed("nv-bar-value",!0),U.select("text.nv-bar-value").attr("text-anchor",function(a,b){return u(a,b)<0?"end":"start"}).attr("y",z&&z/2||r.rangeBand()/(2*b.length)).attr("dy",".32em").text(function(a,b){var c=I(u(a,b)),d=v(a,b);return void 0===d?c:d.length?c+"+"+I(Math.abs(d[1]))+"-"+I(Math.abs(d[0])):c+"±"+I(Math.abs(d))}),U.watchTransition(N,"multibarhorizontal: bars").select("text.nv-bar-value").attr("x",function(a,b){return u(a,b)<0?s(0)-s(u(a,b))-4:4})):(U.selectAll("text.nv-bar-value").remove(),U.selectAll("text.nv-bar-ref-value").remove()),E){if(y&&"function"==typeof y){var W=V.filter(function(a,b,c){return 0===c}).append("a").attr("class","nv-href").attr("xlink:href",function(a){return y(a)});W.append("text").classed("nv-bar-label",!0),W.on("mouseover",function(a,b){d3.event.stopPropagation(),d3.event.preventDefault(),M.elementMouseout({data:a})})}else V.filter(function(a,b,c){return 0===c}).append("text").classed("nv-bar-label",!0);U.select("text.nv-bar-label").attr("text-anchor",function(a,b){return u(a,b)>0?"start":"end"}).attr("y",(b.length+.33)*z).attr("dy",".32em").text(function(a,b){return K(t(a,b))}),U.watchTransition(N,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return B&&u(a,b)<0?Math.abs(s(u(a,b)+a.y0)-s(a.y0))||0:0}),B&&U.filter(function(a){return a.series>0}).select("text.nv-bar-label").remove()}else U.selectAll("text.nv-bar-label").remove();if(U.attr("class",function(a,b){return(D?u(a,b)>0:u(a,b)<0)?"nv-bar negative":"nv-bar positive"}),U.classed("selected",function(a,b){return a.selected}),A&&(e||(e=b.map(function(){return!0})),U.style("fill",function(a,b,c){return d3.rgb(A(a,b)).darker(e.map(function(a,b){return b}).filter(function(a,b){return!e[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(A(a,b)).darker(e.map(function(a,b){return b}).filter(function(a,b){return!e[b]})[c]).toString()})),B){var X=U.watchTransition(N,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+s(a.y1)+","+r(t(a,b))+")"});X.select("rect").attr("width",d).attr("height",z||r.rangeBand()),X.select("rect.nv-ref").attr("width",d).attr("height",z||r.rangeBand()),F&&X.select("path.nv-check").attr("transform",function(a,b){return"translate("+(Math.abs(s(u(a,b)+a.y0)-s(a.y0))-27)+","+((z||r.rangeBand())-24)/2+" )"})}else{var X=U.watchTransition(N,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+s(u(a,b)<0?u(a,b):0)+","+(a.series*z+r(t(a,b)))+")"});X.select("rect").attr("height",z).attr("width",c),F&&X.select("path.nv-check").attr("transform",function(a,d){return"translate("+(c(a,d)-20)+","+((z||r.rangeBand()/b.length)-20)/2+" )"})}j=r.copy(),k=s.copy()}),N.renderEnd("multibarHorizontal immediate"),b}function c(a,b){return Math.max(Math.abs(s(u(a,b))-s(0)),o)||0}function d(a,b){return Math.max(Math.abs(s(u(a,b)+a.y0)-s(a.y0)),o)||0}var e,f,g,h,i,j,k,l={top:0,right:0,bottom:0,left:0},m=960,n=500,o=50,p=Math.floor(1e4*Math.random()),q=null,r=d3.scale.ordinal(),s=d3.scale.linear(),t=function(a){return a.x},u=function(a){return a.y},v=function(a){return a.yErr},w=[0],x=a.utils.defaultColor(),y=null,z=null,A=null,B=!1,C=!1,D=!1,E=!0,F=!1,G=60,H=.1,I=d3.format(",.2f"),J=function(a){return a?d3.format(".1f")(100*a)+"%":""},K=function(a){return a},L=250,M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),N=a.utils.renderWatch(M,L);return b.dispatch=M,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return n},set:function(a){n=a}},x:{get:function(){return t},set:function(a){t=a}},y:{get:function(){return u},set:function(a){u=a}},yErr:{get:function(){return v},set:function(a){v=a}},xScale:{get:function(){return r},set:function(a){r=a}},yScale:{get:function(){return s},set:function(a){s=a}},xDomain:{get:function(){return f},set:function(a){f=a}},yDomain:{get:function(){return g},set:function(a){g=a}},xRange:{get:function(){return h},set:function(a){h=a}},yRange:{get:function(){return i},set:function(a){i=a}},forceY:{get:function(){return w},set:function(a){w=a}},stacked:{get:function(){return B},set:function(a){B=a}},showValues:{get:function(){return C},set:function(a){C=a}},negateTrend:{get:function(){return D},set:function(a){D=a}},showBarLabels:{get:function(){return E},set:function(a){E=a}},showChecks:{get:function(){return F},set:function(a){F=a}},disabled:{get:function(){return e},set:function(a){e=a}},id:{get:function(){return p},set:function(a){p=a}},valueFormat:{get:function(){return I},set:function(a){I=a}},keyFormat:{get:function(){return K},set:function(a){K=a}},valuePadding:{get:function(){return G},set:function(a){G=a}},groupSpacing:{get:function(){return H},set:function(a){H=a}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top,l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return L},set:function(a){L=a,N.reset(L)}},color:{get:function(){return x},set:function(b){x=a.utils.getColor(b)}},href:{get:function(){return y},set:function(a){y=d3.functor(a)}},barColor:{get:function(){return A},set:function(b){A=b?a.utils.getColor(b):null}},barWidth:{get:function(){return z},set:function(a){z=a}}}),a.utils.initOptions(b),b},a.models.multiBarHorizontalChart=function(){"use strict";function b(j){return C.reset(),C.models(e),r&&C.models(f),s&&C.models(g),j.each(function(j){var w=d3.select(this);a.utils.initSVG(w);var C=a.utils.availableWidth(l,w,k),D=a.utils.availableHeight(m,w,k);if(b.update=function(){w.transition().duration(z).call(b)},b.container=this,t=e.stacked(),u.setter(B(j),b.update).getter(A(j)).update(),u.disabled=j.map(function(a){return!!a.disabled}),!v){var E;v={};for(E in u)u[E]instanceof Array?v[E]=u[E].slice(0):v[E]=u[E]}if(!(j&&j.length&&j.filter(function(a){return a.values&&a.values.length}).length))return a.utils.noData(b,w),b;w.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale();var F=w.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([j]),G=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),H=F.select("g");if(G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),G.append("g").attr("class","nv-barsWrap"),G.append("g").attr("class","nv-legendWrap"),G.append("g").attr("class","nv-controlsWrap"),q&&(h.width(C-y()),H.select(".nv-legendWrap").datum(j).call(h),k.top!=h.height()&&(k.top=h.height(),D=a.utils.availableHeight(m,w,k)),H.select(".nv-legendWrap").attr("transform","translate("+y()+","+-k.top+")")),o){var I=[{key:p.grouped||"Grouped",disabled:e.stacked()},{key:p.stacked||"Stacked",disabled:!e.stacked()}];i.width(y()).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(I).attr("transform","translate(0,"+-k.top+")").call(i)}(F.attr("transform","translate("+k.left+","+k.top+")"),e.disabled(j.map(function(a){return a.disabled})).width(C).height(D).color(j.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!j[b].disabled})),H.select(".nv-barsWrap").datum(j.filter(function(a){return!a.disabled})).transition().call(e),r)&&(f.scale(c)._ticks(a.utils.calcTicksY(D/24,j)).tickSize(-C,0),H.select(".nv-x.nv-axis").call(f),H.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));s&&(g.scale(d)._ticks(a.utils.calcTicksX(C/100,j)).tickSize(-D,0),H.select(".nv-y.nv-axis").attr("transform","translate(0,"+D+")"),H.select(".nv-y.nv-axis").call(g)),H.select(".nv-zeroLine line").attr("x1",d(0)).attr("x2",d(0)).attr("y1",0).attr("y2",-D),h.dispatch.on("stateChange",function(a){for(var c in a)u[c]=a[c];x.stateChange(u),b.update()}),i.dispatch.on("legendClick",function(a,c){if(a.disabled){switch(I=I.map(function(a){return a.disabled=!0,a}),a.disabled=!1,a.key){case"Grouped":case p.grouped:e.stacked(!1);break;case"Stacked":case p.stacked:e.stacked(!0)}u.stacked=e.stacked(),x.stateChange(u),t=e.stacked(),b.update()}}),x.on("changeState",function(a){void 0!==a.disabled&&(j.forEach(function(b,c){b.disabled=a.disabled[c]}),u.disabled=a.disabled),void 0!==a.stacked&&(e.stacked(a.stacked),u.stacked=a.stacked,t=a.stacked),b.update()})}),C.renderEnd("multibar horizontal chart immediate"),b}var c,d,e=a.models.multiBarHorizontal(),f=a.models.axis(),g=a.models.axis(),h=a.models.legend().height(30),i=a.models.legend().height(30),j=a.models.tooltip(),k={top:30,right:20,bottom:50,left:60},l=null,m=null,n=a.utils.defaultColor(),o=!1,p={},q=!0,r=!1,s=!1,t=!1,u=a.utils.state(),v=null,w=null,x=d3.dispatch("stateChange","changeState","renderEnd","selectChange"),y=function(){return o?180:0},z=250;u.stacked=!1,e.stacked(t),f.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a){return a}),g.orient("bottom").tickFormat(d3.format(",.1f")),j.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),i.updateState(!1);var A=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:t}}},B=function(a){return function(b){void 0!==b.stacked&&(t=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},C=a.utils.renderWatch(x,z);return e.dispatch.on("elementClick.select",function(a){x.selectChange(a)}),b.dispatch=x,b.multibar=e,b.legend=h,b.controls=i,b.xAxis=f,b.yAxis=g,b.state=u,b.tooltip=j,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showControls:{get:function(){return o},set:function(a){o=a}},controlLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return r},set:function(a){r=a}},showYAxis:{get:function(){return s},set:function(a){s=a}},defaultState:{get:function(){return v},set:function(a){v=a}},noData:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return z},set:function(a){z=a,C.reset(z),e.duration(z),f.duration(z),g.duration(z)}},color:{get:function(){return n},set:function(b){n=a.utils.getColor(b),h.color(n)}},barColor:{get:function(){return e.barColor},set:function(a){e.barColor(a),h.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}},keyFormat:{get:function(){return e.keyFormat},set:function(a){e.keyFormat(a)}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.multiChart=function(){"use strict";function b(j){return j.each(function(j){function n(a){var b=2===j[a.seriesIndex].yAxis?E:D;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color,key:a.series.key},G.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function H(a){var b=2===j[a.seriesIndex].yAxis?E:D;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color,key:a.series.key},G.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function J(a){var b=2===j[a.seriesIndex].yAxis?E:D;a.point.x=A.x()(a.point),a.point.y=A.y()(a.point),G.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function K(a){var b=2===j[a.data.series].yAxis?E:D;a.value=y.x()(a.data),a.series={value:y.y()(a.data),color:a.color,key:a.data.key},G.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function L(){for(var a=0,b=I.length;a<b;a++){var c=I[a];try{c.clearHighlights()}catch(d){}}}function M(a,b,c){for(var d=0,e=I.length;d<e;d++){var f=I[d];try{f.highlightPoint(a,b,c)}catch(g){}}}var N=d3.select(this);a.utils.initSVG(N),b.update=function(){N.transition().call(b)},b.container=this;var O=a.utils.availableWidth(g,N,e),P=a.utils.availableHeight(h,N,e),Q=j.filter(function(a){return"line"==a.type&&1==a.yAxis}),R=j.filter(function(a){return"line"==a.type&&2==a.yAxis}),S=j.filter(function(a){return"scatter"==a.type&&1==a.yAxis}),T=j.filter(function(a){return"scatter"==a.type&&2==a.yAxis}),U=j.filter(function(a){return"bar"==a.type&&1==a.yAxis}),V=j.filter(function(a){return"bar"==a.type&&2==a.yAxis}),W=j.filter(function(a){return"area"==a.type&&1==a.yAxis}),X=j.filter(function(a){return"area"==a.type&&2==a.yAxis});if(!(j&&j.length&&j.filter(function(a){return a.values.length}).length))return a.utils.noData(b,N),b;N.selectAll(".nv-noData").remove();var Y=j.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:k(a),y:l(a)}})}),Z=j.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:k(a),y:l(a)}})});r.domain(d3.extent(d3.merge(Y.concat(Z)),function(a){return k(a)})).range([0,O]);var $=N.selectAll("g.wrap.multiChart").data([j]),_=$.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");_.append("g").attr("class","nv-x nv-axis"),_.append("g").attr("class","nv-y1 nv-axis"),_.append("g").attr("class","nv-y2 nv-axis"),_.append("g").attr("class","stack1Wrap"),_.append("g").attr("class","stack2Wrap"),_.append("g").attr("class","bars1Wrap"),_.append("g").attr("class","bars2Wrap"),_.append("g").attr("class","scatters1Wrap"),_.append("g").attr("class","scatters2Wrap"),_.append("g").attr("class","lines1Wrap"),_.append("g").attr("class","lines2Wrap"),_.append("g").attr("class","legendWrap"),_.append("g").attr("class","nv-interactive");var aa=$.select("g"),ba=j.map(function(a,b){return j[b].color||f(a,b)});if(i){var ca=F.align()?O/2:O,da=F.align()?ca:0;F.width(ca),F.color(ba),aa.select(".legendWrap").datum(j.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=a.originalKey+(1==a.yAxis?"":q),a})).call(F),e.top!=F.height()&&(e.top=F.height(),P=a.utils.availableHeight(h,N,e)),aa.select(".legendWrap").attr("transform","translate("+da+","+-e.top+")")}u.width(O).height(P).interpolate(m).color(ba.filter(function(a,b){return!j[b].disabled&&1==j[b].yAxis&&"line"==j[b].type})),v.width(O).height(P).interpolate(m).color(ba.filter(function(a,b){return!j[b].disabled&&2==j[b].yAxis&&"line"==j[b].type})),w.width(O).height(P).color(ba.filter(function(a,b){return!j[b].disabled&&1==j[b].yAxis&&"scatter"==j[b].type})),x.width(O).height(P).color(ba.filter(function(a,b){return!j[b].disabled&&2==j[b].yAxis&&"scatter"==j[b].type})),y.width(O).height(P).color(ba.filter(function(a,b){return!j[b].disabled&&1==j[b].yAxis&&"bar"==j[b].type})),z.width(O).height(P).color(ba.filter(function(a,b){return!j[b].disabled&&2==j[b].yAxis&&"bar"==j[b].type})),A.width(O).height(P).color(ba.filter(function(a,b){return!j[b].disabled&&1==j[b].yAxis&&"area"==j[b].type})),B.width(O).height(P).color(ba.filter(function(a,b){return!j[b].disabled&&2==j[b].yAxis&&"area"==j[b].type})),aa.attr("transform","translate("+e.left+","+e.top+")");var ea=aa.select(".lines1Wrap").datum(Q.filter(function(a){return!a.disabled})),fa=aa.select(".scatters1Wrap").datum(S.filter(function(a){return!a.disabled})),ga=aa.select(".bars1Wrap").datum(U.filter(function(a){return!a.disabled})),ha=aa.select(".stack1Wrap").datum(W.filter(function(a){return!a.disabled})),ia=aa.select(".lines2Wrap").datum(R.filter(function(a){return!a.disabled})),ja=aa.select(".scatters2Wrap").datum(T.filter(function(a){return!a.disabled})),ka=aa.select(".bars2Wrap").datum(V.filter(function(a){return!a.disabled})),la=aa.select(".stack2Wrap").datum(X.filter(function(a){return!a.disabled})),ma=W.length?W.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],na=X.length?X.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];s.domain(c||d3.extent(d3.merge(Y).concat(ma),function(a){return a.y})).range([0,P]),t.domain(d||d3.extent(d3.merge(Z).concat(na),function(a){return a.y})).range([0,P]),u.yDomain(s.domain()),w.yDomain(s.domain()),y.yDomain(s.domain()),A.yDomain(s.domain()),v.yDomain(t.domain()),x.yDomain(t.domain()),z.yDomain(t.domain()),B.yDomain(t.domain()),W.length&&d3.transition(ha).call(A),X.length&&d3.transition(la).call(B),U.length&&d3.transition(ga).call(y),V.length&&d3.transition(ka).call(z),Q.length&&d3.transition(ea).call(u),R.length&&d3.transition(ia).call(v),S.length&&d3.transition(fa).call(w),T.length&&d3.transition(ja).call(x),C._ticks(a.utils.calcTicksX(O/100,j)).tickSize(-P,0),aa.select(".nv-x.nv-axis").attr("transform","translate(0,"+P+")"),d3.transition(aa.select(".nv-x.nv-axis")).call(C),D._ticks(a.utils.calcTicksY(P/36,j)).tickSize(-O,0),d3.transition(aa.select(".nv-y1.nv-axis")).call(D),E._ticks(a.utils.calcTicksY(P/36,j)).tickSize(-O,0),d3.transition(aa.select(".nv-y2.nv-axis")).call(E),aa.select(".nv-y1.nv-axis").classed("nv-disabled",!Y.length).attr("transform","translate("+r.range()[0]+",0)"),aa.select(".nv-y2.nv-axis").classed("nv-disabled",!Z.length).attr("transform","translate("+r.range()[1]+",0)"),F.dispatch.on("stateChange",function(a){b.update()}),p&&(o.width(O).height(P).margin({left:e.left,top:e.top}).svgContainer(N).xScale(r),$.select(".nv-interactive").call(o)),p?(o.dispatch.on("elementMousemove",function(c){L();var d,e,g,h=[];j.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(i,j){var k=r.domain(),l=i.values.filter(function(a,c){return b.x()(a,c)>=k[0]&&b.x()(a,c)<=k[1]});e=a.interactiveBisect(l,c.pointXValue,b.x());var m=l[e],n=b.y()(m,e);null!==n&&M(j,e,!0),void 0!==m&&(void 0===d&&(d=m),void 0===g&&(g=r(b.x()(m,e))),h.push({key:i.key,value:n,color:f(i,i.seriesIndex),data:m,yAxis:2==i.yAxis?E:D}))}),o.tooltip.chartContainer(b.container.parentNode).valueFormatter(function(a,b){var c=h[b].yAxis;return null===a?"N/A":c.tickFormat()(a)}).data({value:b.x()(d,e),index:e,series:h})(),o.renderGuideLine(g)}),o.dispatch.on("elementMouseout",function(a){L()})):(u.dispatch.on("elementMouseover.tooltip",n),v.dispatch.on("elementMouseover.tooltip",n),u.dispatch.on("elementMouseout.tooltip",function(a){G.hidden(!0)}),v.dispatch.on("elementMouseout.tooltip",function(a){G.hidden(!0)}),w.dispatch.on("elementMouseover.tooltip",H),x.dispatch.on("elementMouseover.tooltip",H),w.dispatch.on("elementMouseout.tooltip",function(a){G.hidden(!0)}),x.dispatch.on("elementMouseout.tooltip",function(a){G.hidden(!0)}),A.dispatch.on("elementMouseover.tooltip",J),B.dispatch.on("elementMouseover.tooltip",J),A.dispatch.on("elementMouseout.tooltip",function(a){G.hidden(!0)}),B.dispatch.on("elementMouseout.tooltip",function(a){G.hidden(!0)}),y.dispatch.on("elementMouseover.tooltip",K),z.dispatch.on("elementMouseover.tooltip",K),
y.dispatch.on("elementMouseout.tooltip",function(a){G.hidden(!0)}),z.dispatch.on("elementMouseout.tooltip",function(a){G.hidden(!0)}),y.dispatch.on("elementMousemove.tooltip",function(a){G()}),z.dispatch.on("elementMousemove.tooltip",function(a){G()}))}),b}var c,d,e={top:30,right:20,bottom:50,left:60},f=a.utils.defaultColor(),g=null,h=null,i=!0,j=null,k=function(a){return a.x},l=function(a){return a.y},m="monotone",n=!0,o=a.interactiveGuideline(),p=!1,q=" (right axis)",r=d3.scale.linear(),s=d3.scale.linear(),t=d3.scale.linear(),u=a.models.line().yScale(s),v=a.models.line().yScale(t),w=a.models.scatter().yScale(s),x=a.models.scatter().yScale(t),y=a.models.multiBar().stacked(!1).yScale(s),z=a.models.multiBar().stacked(!1).yScale(t),A=a.models.stackedArea().yScale(s),B=a.models.stackedArea().yScale(t),C=a.models.axis().scale(r).orient("bottom").tickPadding(5),D=a.models.axis().scale(s).orient("left"),E=a.models.axis().scale(t).orient("right"),F=a.models.legend().height(30),G=a.models.tooltip(),H=d3.dispatch(),I=[u,v,w,x,y,z,A,B];return b.dispatch=H,b.legend=F,b.lines1=u,b.lines2=v,b.scatters1=w,b.scatters2=x,b.bars1=y,b.bars2=z,b.stack1=A,b.stack2=B,b.xAxis=C,b.yAxis1=D,b.yAxis2=E,b.tooltip=G,b.interactiveLayer=o,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},showLegend:{get:function(){return i},set:function(a){i=a}},yDomain1:{get:function(){return c},set:function(a){c=a}},yDomain2:{get:function(){return d},set:function(a){d=a}},noData:{get:function(){return j},set:function(a){j=a}},interpolate:{get:function(){return m},set:function(a){m=a}},legendRightAxisHint:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},color:{get:function(){return f},set:function(b){f=a.utils.getColor(b)}},x:{get:function(){return k},set:function(a){k=a,u.x(a),v.x(a),w.x(a),x.x(a),y.x(a),z.x(a),A.x(a),B.x(a)}},y:{get:function(){return l},set:function(a){l=a,u.y(a),v.y(a),w.y(a),x.y(a),A.y(a),B.y(a),y.y(a),z.y(a)}},useVoronoi:{get:function(){return n},set:function(a){n=a,u.useVoronoi(a),v.useVoronoi(a),A.useVoronoi(a),B.useVoronoi(a)}},useInteractiveGuideline:{get:function(){return p},set:function(a){(p=a)&&(u.interactive(!1),u.useVoronoi(!1),v.interactive(!1),v.useVoronoi(!1),A.interactive(!1),A.useVoronoi(!1),B.interactive(!1),B.useVoronoi(!1),w.interactive(!1),x.interactive(!1))}}}),a.utils.initOptions(b),b},a.models.ohlcBar=function(){"use strict";function b(y){return y.each(function(b){k=d3.select(this);var y=a.utils.availableWidth(h,k,g),A=a.utils.availableHeight(i,k,g);a.utils.initSVG(k);var B=y/b[0].values.length*.9;l.domain(c||d3.extent(b[0].values.map(n).concat(t))),v?l.range(e||[.5*y/b[0].values.length,y*(b[0].values.length-.5)/b[0].values.length]):l.range(e||[5+B/2,y-B/2-5]),m.domain(d||[d3.min(b[0].values.map(s).concat(u)),d3.max(b[0].values.map(r).concat(u))]).range(f||[A,0]),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1]));var C=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([b[0].values]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),E=D.append("defs"),F=D.append("g"),G=C.select("g");F.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+g.left+","+g.top+")"),k.on("click",function(a,b){z.chartClick({data:a,index:b,pos:d3.event,id:j})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+j).append("rect"),C.select("#nv-chart-clip-path-"+j+" rect").attr("width",y).attr("height",A),G.attr("clip-path",w?"url(#nv-chart-clip-path-"+j+")":"");var H=C.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});H.exit().remove(),H.enter().append("path").attr("class",function(a,b,c){return(p(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(a,b){return"m0,0l0,"+(m(p(a,b))-m(r(a,b)))+"l"+-B/2+",0l"+B/2+",0l0,"+(m(s(a,b))-m(p(a,b)))+"l0,"+(m(q(a,b))-m(s(a,b)))+"l"+B/2+",0l"+-B/2+",0z"}).attr("transform",function(a,b){return"translate("+l(n(a,b))+","+m(r(a,b))+")"}).attr("fill",function(a,b){return x[0]}).attr("stroke",function(a,b){return x[0]}).attr("x",0).attr("y",function(a,b){return m(Math.max(0,o(a,b)))}).attr("height",function(a,b){return Math.abs(m(o(a,b))-m(0))}),H.attr("class",function(a,b,c){return(p(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}),d3.transition(H).attr("transform",function(a,b){return"translate("+l(n(a,b))+","+m(r(a,b))+")"}).attr("d",function(a,c){var d=y/b[0].values.length*.9;return"m0,0l0,"+(m(p(a,c))-m(r(a,c)))+"l"+-d/2+",0l"+d/2+",0l0,"+(m(s(a,c))-m(p(a,c)))+"l0,"+(m(q(a,c))-m(s(a,c)))+"l"+d/2+",0l"+-d/2+",0z"})}),b}var c,d,e,f,g={top:0,right:0,bottom:0,left:0},h=null,i=null,j=Math.floor(1e4*Math.random()),k=null,l=d3.scale.linear(),m=d3.scale.linear(),n=function(a){return a.x},o=function(a){return a.y},p=function(a){return a.open},q=function(a){return a.close},r=function(a){return a.high},s=function(a){return a.low},t=[],u=[],v=!1,w=!0,x=a.utils.defaultColor(),y=!1,z=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return b.highlightPoint=function(a,c){b.clearHighlights(),k.select(".nv-ohlcBar .nv-tick-0-"+a).classed("hover",c)},b.clearHighlights=function(){k.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},b.dispatch=z,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},forceX:{get:function(){return t},set:function(a){t=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return j},set:function(a){j=a}},interactive:{get:function(){return y},set:function(a){y=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},open:{get:function(){return p()},set:function(a){p=a}},close:{get:function(){return q()},set:function(a){q=a}},high:{get:function(){return r},set:function(a){r=a}},low:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!=a.top?a.top:g.top,g.right=void 0!=a.right?a.right:g.right,g.bottom=void 0!=a.bottom?a.bottom:g.bottom,g.left=void 0!=a.left?a.left:g.left}},color:{get:function(){return x},set:function(b){x=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.parallelCoordinates=function(){"use strict";function b(y){return x.reset(),y.each(function(b){function x(a){return u(l.map(function(b){if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key]))||M){var c=j[b.key].domain(),d=j[b.key].range(),e=c[0]-(c[1]-c[0])/9;if(s.indexOf(b.key)<0){var f=d3.scale.linear().domain([e,c[1]]).range([I-12,d[1]]);j[b.key].brush.y(f),s.push(b.key)}if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key])))return[i(b.key),j[b.key](e)]}return void 0!==R&&(s.length>0||M?(R.style("display","inline"),S.style("display","inline")):(R.style("display","none"),S.style("display","none"))),[i(b.key),j[b.key](a.values[b.key])]}))}function y(a){p.forEach(function(b){var c=j[b.dimension].brush.y().domain();b.hasOnlyNaN&&(b.extent[1]=(j[b.dimension].domain()[1]-c[0])*(b.extent[1]-b.extent[0])/(L[b.dimension]-b.extent[0])+c[0]),b.hasNaN&&(b.extent[0]=c[0]),a&&j[b.dimension].brush.extent(b.extent)}),e.select(".nv-brushBackground").each(function(a){d3.select(this).call(j[a.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}function z(){!1===n&&y(!0)}function A(){X=m.filter(function(a){return!j[a].brush.empty()}),Y=X.map(function(a){return j[a].brush.extent()}),p=[],X.forEach(function(a,b){p[b]={dimension:a,extent:Y[b],hasNaN:!1,hasOnlyNaN:!1}}),q=[],c.style("display",function(a){var b=X.every(function(b,c){return!(!isNaN(a.values[b])&&!isNaN(parseFloat(a.values[b]))||Y[c][0]!=j[b].brush.y().domain()[0])||Y[c][0]<=a.values[b]&&a.values[b]<=Y[c][1]&&!isNaN(parseFloat(a.values[b]))});return b&&q.push(a),b?null:"none"}),w.brush({filters:p,active:q})}function B(){var a=X.length>0;p.forEach(function(a){a.extent[0]===j[a.dimension].brush.y().domain()[0]&&s.indexOf(a.dimension)>=0&&(a.hasNaN=!0),a.extent[1]<j[a.dimension].domain()[0]&&(a.hasOnlyNaN=!0)}),w.brushEnd(q,a)}function C(a){r[a.key]=this.parentNode.__origin__=i(a.key),d.attr("visibility","hidden")}function D(a){r[a.key]=Math.min(H,Math.max(0,this.parentNode.__origin__+=d3.event.x)),c.attr("d",x),l.sort(function(a,b){return F(a.key)-F(b.key)}),l.forEach(function(a,b){return a.currentPosition=b}),i.domain(l.map(function(a){return a.key})),e.attr("transform",function(a){return"translate("+F(a.key)+")"})}function E(a,b){delete this.parentNode.__origin__,delete r[a.key],d3.select(this.parentNode).attr("transform","translate("+i(a.key)+")"),c.attr("d",x),d.attr("d",x).attr("visibility",null),w.dimensionsOrder(l)}function F(a){var b=r[a];return null==b?i(a):b}var G=d3.select(this),H=a.utils.availableWidth(g,G,f),I=a.utils.availableHeight(h,G,f);if(a.utils.initSVG(G),void 0===b[0].values){var J=[];b.forEach(function(a){var b={};Object.keys(a).forEach(function(c){"name"!==c&&(b[c]=a[c])}),J.push({key:a.name,values:b})}),b=J}var K=b.map(function(a){return a.values});0===q.length&&(q=b),m=k.sort(function(a,b){return a.currentPosition-b.currentPosition}).map(function(a){return a.key}),l=k.filter(function(a){return!a.disabled}),i.rangePoints([0,H],1).domain(l.map(function(a){return a.key}));var L={},M=!1;m.forEach(function(a){var b=d3.extent(K,function(b){return+b[a]}),c=b[0],d=b[1],e=!1;(isNaN(c)||isNaN(d))&&(e=!0,c=0,d=0),c===d&&(c-=1,d+=1);var f=p.filter(function(b){return b.dimension==a});0!==f.length&&(e?(c=j[a].domain()[0],d=j[a].domain()[1]):!f[0].hasOnlyNaN&&n?(c=c>f[0].extent[0]?f[0].extent[0]:c,d=d<f[0].extent[1]?f[0].extent[1]:d):f[0].hasNaN&&(d=d<f[0].extent[1]?f[0].extent[1]:d,L[a]=j[a].domain()[1],M=!0)),j[a]=d3.scale.linear().domain([c,d]).range([.9*(I-12),0]),s=[],j[a].brush=d3.svg.brush().y(j[a]).on("brushstart",z).on("brush",A).on("brushend",B)});var N=G.selectAll("g.nv-wrap.nv-parallelCoordinates").data([b]),O=N.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),P=O.append("g"),Q=N.select("g");P.append("g").attr("class","nv-parallelCoordinates background"),P.append("g").attr("class","nv-parallelCoordinates foreground"),P.append("g").attr("class","nv-parallelCoordinates missingValuesline"),N.attr("transform","translate("+f.left+","+f.top+")"),u.interpolate("cardinal").tension(t),v.orient("left");var R,S,T=d3.behavior.drag().on("dragstart",C).on("drag",D).on("dragend",E),U=i.range()[1]-i.range()[0];if(!isNaN(U)){var V=[0+U/2,I-12,H-U/2,I-12];R=N.select(".missingValuesline").selectAll("line").data([V]),R.enter().append("line"),R.exit().remove(),R.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]}),S=N.select(".missingValuesline").selectAll("text").data(["undefined values"]),S.append("text").data(["undefined values"]),S.enter().append("text"),S.exit().remove(),S.attr("y",I).attr("x",H-92-U/2).text(function(a){return a})}d=N.select(".background").selectAll("path").data(b),d.enter().append("path"),d.exit().remove(),d.attr("d",x),c=N.select(".foreground").selectAll("path").data(b),c.enter().append("path"),c.exit().remove(),c.attr("d",x).style("stroke-width",function(a,b){return isNaN(a.strokeWidth)&&(a.strokeWidth=1),a.strokeWidth}).attr("stroke",function(a,b){return a.color||o(a,b)}),c.on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("stroke-width",a.strokeWidth+2+"px").style("stroke-opacity",1),w.elementMouseover({label:a.name,color:a.color||o(a,b)})}),c.on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("stroke-width",a.strokeWidth+"px").style("stroke-opacity",.7),w.elementMouseout({label:a.name,index:b})}),c.on("mousemove",function(a,b){w.elementMousemove()}),c.on("click",function(a){w.elementClick({id:a.id})}),e=Q.selectAll(".dimension").data(l);var W=e.enter().append("g").attr("class","nv-parallelCoordinates dimension");e.attr("transform",function(a){return"translate("+i(a.key)+",0)"}),W.append("g").attr("class","nv-axis"),W.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(a,b){w.elementMouseover({label:a.tooltip||a.key})}).on("mouseout",function(a,b){w.elementMouseout({label:a.tooltip})}).on("mousemove",function(a,b){w.elementMousemove()}).call(T),W.append("g").attr("class","nv-brushBackground"),e.exit().remove(),e.select(".nv-label").text(function(a){return a.key}),e.select(".nv-axis").each(function(a,b){d3.select(this).call(v.scale(j[a.key]).tickFormat(d3.format(a.format)))}),y(n);var X=m.filter(function(a){return!j[a].brush.empty()}),Y=X.map(function(a){return j[a].brush.extent()}),Z=q.slice(0);q=[],c.style("display",function(a){var b=X.every(function(b,c){return!(!isNaN(a.values[b])&&!isNaN(parseFloat(a.values[b]))||Y[c][0]!=j[b].brush.y().domain()[0])||Y[c][0]<=a.values[b]&&a.values[b]<=Y[c][1]&&!isNaN(parseFloat(a.values[b]))});return b&&q.push(a),b?null:"none"}),(p.length>0||!a.utils.arrayEquals(q,Z))&&w.activeChanged(q)}),b}var c,d,e,f={top:30,right:0,bottom:10,left:0},g=null,h=null,i=d3.scale.ordinal(),j={},k=[],l=[],m=[],n=!0,o=a.utils.defaultColor(),p=[],q=[],r=[],s=[],t=1,u=d3.svg.line(),v=d3.svg.axis(),w=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),x=a.utils.renderWatch(w);return b.dispatch=w,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},dimensionData:{get:function(){return k},set:function(a){k=a}},displayBrush:{get:function(){return n},set:function(a){n=a}},filters:{get:function(){return p},set:function(a){p=a}},active:{get:function(){return q},set:function(a){q=a}},lineTension:{get:function(){return t},set:function(a){t=a}},dimensions:{get:function(){return k.map(function(a){return a.key})},set:function(b){a.deprecated("dimensions","use dimensionData instead"),0===k.length?b.forEach(function(a){k.push({key:a})}):b.forEach(function(a,b){k[b].key=a})}},dimensionNames:{get:function(){return k.map(function(a){return a.key})},set:function(b){a.deprecated("dimensionNames","use dimensionData instead"),m=[],0===k.length?b.forEach(function(a){k.push({key:a})}):b.forEach(function(a,b){k[b].key=a})}},dimensionFormats:{get:function(){return k.map(function(a){return a.format})},set:function(b){a.deprecated("dimensionFormats","use dimensionData instead"),0===k.length?b.forEach(function(a){k.push({format:a})}):b.forEach(function(a,b){k[b].format=a})}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return o},set:function(b){o=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.parallelCoordinatesChart=function(){"use strict";function b(e){return r.reset(),r.models(c),e.each(function(e){var j=d3.select(this);a.utils.initSVG(j);var p=a.utils.availableWidth(g,j,f),r=a.utils.availableHeight(h,j,f);b.update=function(){j.call(b)},b.container=this,k.setter(t(l),b.update).getter(s(l)).update(),k.disabled=l.map(function(a){return!!a.disabled}),l=l.map(function(a){return a.disabled=!!a.disabled,a}),l.forEach(function(a,b){a.originalPosition=isNaN(a.originalPosition)?b:a.originalPosition,a.currentPosition=isNaN(a.currentPosition)?b:a.currentPosition});var u=m.map(function(a){return a.key}),v=l.map(function(a){return a.key});if(l.forEach(function(a,b){var c=u.indexOf(a.key);if(c<0)m.splice(b,0,a);else{var d=m[c].currentPosition-m[c].originalPosition;m[c].originalPosition=a.originalPosition,m[c].currentPosition=a.originalPosition+d}}),m=m.filter(function(a){return v.indexOf(a.key)>=0}),!o){var w;o={};for(w in k)k[w]instanceof Array?o[w]=k[w].slice(0):o[w]=k[w]}if(!e||!e.length)return a.utils.noData(b,j),b;j.selectAll(".nv-noData").remove();var x=j.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([e]),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),z=x.select("g");y.append("g").attr("class","nv-parallelCoordinatesWrap"),y.append("g").attr("class","nv-legendWrap"),z.select("rect").attr("width",p).attr("height",r>0?r:0),i&&(d.width(p).color(function(a){return"rgb(188,190,192)"}),z.select(".nv-legendWrap").datum(m.sort(function(a,b){return a.originalPosition-b.originalPosition})).call(d),f.top!=d.height()&&(f.top=d.height(),r=a.utils.availableHeight(h,j,f)),x.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-f.top+")")),x.attr("transform","translate("+f.left+","+f.top+")"),c.width(p).height(r).dimensionData(m).displayBrush(n),z.select(".nv-parallelCoordinatesWrap ").datum(e).transition().call(c),c.dispatch.on("brushEnd",function(a,b){b?(n=!0,q.brushEnd(a)):n=!1}),d.dispatch.on("stateChange",function(a){for(var c in a)k[c]=a[c];q.stateChange(k),b.update()}),c.dispatch.on("dimensionsOrder",function(a){m.sort(function(a,b){return a.currentPosition-b.currentPosition});var b=!1;m.forEach(function(a,c){a.currentPosition=c,a.currentPosition!==a.originalPosition&&(b=!0)}),q.dimensionsOrder(m,b)}),q.on("changeState",function(a){void 0!==a.disabled&&(m.forEach(function(b,c){b.disabled=a.disabled[c]}),k.disabled=a.disabled),b.update()})}),r.renderEnd("parraleleCoordinateChart immediate"),b}var c=a.models.parallelCoordinates(),d=a.models.legend(),e=a.models.tooltip(),f=(a.models.tooltip(),{top:0,right:0,bottom:0,left:0}),g=null,h=null,i=!0,j=a.utils.defaultColor(),k=a.utils.state(),l=[],m=[],n=!0,o=null,p=null,q=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),r=a.utils.renderWatch(q),s=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},t=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return c.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,color:a.color},e.data(a).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(){e()}),b.dispatch=q,b.parallelCoordinates=c,b.legend=d,b.tooltip=e,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},showLegend:{get:function(){return i},set:function(a){i=a}},defaultState:{get:function(){return o},set:function(a){o=a}},dimensionData:{get:function(){return l},set:function(a){l=a}},displayBrush:{get:function(){return n},set:function(a){n=a}},noData:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return j},set:function(b){j=a.utils.getColor(b),d.color(j),c.color(j)}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.pie=function(){"use strict";function b(H){return G.reset(),H.each(function(b){function H(){if(r){var a=aa.datum(),b=a.length>1?a.filter(function(a){return a.data.selected}):a,c=b.length,d=d3.sum(b,function(a){return a.value});if(aa.select(".key text").text(c>0?1===c?f(b[0].data):c+" selected":"click to select.."),aa.select(".value text").text(c>0?k(d):""),1===c&&b.length>0){var e=b[0];if(e.data.previous){var h=g(e.data.previous),i=l(h>0?(e.value-h)/h:null);aa.select(".ref text").text(i),aa.select(".ref").classed("positive",z?e.value<h:e.value>h),aa.select(".ref").classed("negative",z?e.value>h:e.value<h)}else aa.select(".ref text").text("")}else aa.select(".ref text").text("")}}function I(a,b){a.endAngle=isNaN(a.endAngle)?0:a.endAngle,a.startAngle=isNaN(a.startAngle)?0:a.startAngle,r||(a.innerRadius=0);var c=d3.interpolate(this._current,a);return this._current=c(0),function(a){return E[b](c(a))}}var J=d-c.left-c.right,K=e-c.top-c.bottom,L=Math.min(J,K)/2,M=[],N=[];if(i=d3.select(this),0===C.length)for(var O=L-L/5,P=B*L,Q=0;Q<b[0].length;Q++)M.push(O),N.push(P);else M=C.map(function(a){return(a.outer-a.outer/5)*L}),N=C.map(function(a){return(a.inner-a.inner/5)*L}),B=d3.min(C.map(function(a){return a.inner-a.inner/5}));a.utils.initSVG(i);var R=i.selectAll(".nv-wrap.nv-pie").data(b),S=R.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+h),T=S.append("g"),U=R.select("g"),V=T.append("g").attr("class","nv-pie");T.append("g").attr("class","nv-pieLabels");var W=T.append("g").attr("class","nv-pieInfo");W.append("g").classed("key",!0).append("text"),W.append("g").classed("value",!0).attr("transform","translate(0,18)").append("text"),W.append("g").classed("ref",!0).append("text"),R.attr("transform","translate("+c.left+","+c.top+")"),U.select(".nv-pie").attr("transform","translate("+J/2+","+K/2+")"),U.select(".nv-pieLabels").attr("transform","translate("+J/2+","+K/2+")"),U.select(".nv-pieInfo").attr("transform","translate("+J/2+","+K/2+")"),i.on("click",function(a,b){D.chartClick({data:a,index:b,pos:d3.event,id:h})}),E=[],F=[];for(var Q=0;Q<b[0].length;Q++){var X=d3.svg.arc().outerRadius(M[Q]),Y=d3.svg.arc().outerRadius(M[Q]+5);!1!==w&&(X.startAngle(w),Y.startAngle(w)),!1!==y&&(X.endAngle(y),Y.endAngle(y)),r&&(X.innerRadius(N[Q]),Y.innerRadius(N[Q])),X.cornerRadius&&A&&(X.cornerRadius(A),Y.cornerRadius(A)),E.push(X),F.push(Y)}var Z=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:g(a)});Z.padAngle&&x&&Z.padAngle(x),r&&s&&(V.append("text").attr("class","nv-pie-title"),R.select(".nv-pie-title").style("text-anchor","middle").text(function(a){return s}).style("font-size",Math.min(J,K)*B*2/(s.length+2)+"px").attr("dy","0.35em").attr("transform",function(a,b){return"translate(0, "+u+")"}));var $=R.select(".nv-pie").selectAll(".nv-slice").data(Z),_=R.select(".nv-pieLabels").selectAll(".nv-label").data(Z),aa=R.select(".nv-pieInfo").datum(Z);$.exit().remove(),_.exit().remove();var ba=$.enter().append("g");ba.attr("class","nv-slice"),ba.on("mouseover",function(a,b){if(d3.select(this).classed("hover",!0),t&&d3.select(this).select("path").transition().duration(70).attr("d",F[b]),r)if(aa.select(".key text").text(f(a.data)),aa.select(".value text").text(k(a.value)),a.data.previous){var c=g(a.data.previous,b),d=l(c>0?(a.value-c)/c:null);aa.select(".ref text").text(d),aa.select(".ref").classed("positive",z?a.value<c:a.value>c),aa.select(".ref").classed("negative",z?a.value>c:a.value<c)}else aa.select(".ref text").text("");D.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill"),element:this})}),ba.on("mouseout",function(a,b){d3.select(this).classed("hover",!1),t&&d3.select(this).select("path").transition().duration(50).attr("d",E[b]),H(),D.elementMouseout({data:a.data,index:b,element:this})}),ba.on("mousemove",function(a,b){D.elementMousemove({data:a.data,index:b,element:this})}),ba.on("click",function(a,b){var c=this;a.data.selected=!a.data.selected,d3.select(this).classed("selected",a.data.selected),H(),D.elementClick({data:a.data,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c})}),ba.on("dblclick",function(a,b){D.elementDblClick({data:a.data,index:b,color:d3.select(this).style("fill")})}),$.attr("fill",function(a,b){return j(a.data,b)}),$.attr("stroke",function(a,b){return j(a.data,b)});ba.append("path").attr("class","nv-slice-path").each(function(a){this._current=a});if(n&&ba.append("path").attr("class","nv-check").attr("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"),$.classed("selected",function(a){return a.value>0&&a.data.selected}),H(),$.select("path.nv-slice-path").transition().attr("d",function(a,b){return E[b](a)}).attrTween("d",I),n&&$.select("path.nv-check").attr("transform",function(a,b){return"translate("+E[b].centroid(a).map(function(a){return isNaN(a)?0:a-10})+")"}),m){for(var ca=[],Q=0;Q<b[0].length;Q++)ca.push(E[Q]),o?r&&(ca[Q]=d3.svg.arc().outerRadius(E[Q].outerRadius()),!1!==w&&ca[Q].startAngle(w),!1!==y&&ca[Q].endAngle(y)):r||ca[Q].innerRadius(0);_.enter().append("g").classed("nv-label",!0).each(function(a,b){var c=d3.select(this);c.attr("transform",function(a,b){if(v){a.outerRadius=M[b]+10,a.innerRadius=M[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+ca[b].centroid(a)+") rotate("+c+")"}return a.outerRadius=L+10,a.innerRadius=L+15,"translate("+ca[b].centroid(a)+")"}),c.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),c.append("text").style("text-anchor",v?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var da={},ea=14,fa=140,ga=function(a){return Math.floor(a[0]/fa)*fa+","+Math.floor(a[1]/ea)*ea},ha=function(a){return(a.endAngle-a.startAngle)/(2*Math.PI)};_.watchTransition(G,"pie labels").attr("transform",function(a,b){if(v){a.outerRadius=M[b]+10,a.innerRadius=M[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+ca[b].centroid(a)+") rotate("+c+")"}a.outerRadius=L+10,a.innerRadius=L+15;var d=ca[b].centroid(a),e=ha(a);if(a.value&&e>=q){var f=ga(d);da[f]&&(d[1]-=ea),da[ga(d)]=!0}return"translate("+d+")"}),_.select(".nv-label text").style("text-anchor",function(a,b){return v?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=ha(a),d="";if(!a.value||c<q)return"";if("function"==typeof p)d=p(a,b,{key:f(a.data),value:g(a.data),percent:k(c)});else switch(p){case"key":d=f(a.data);break;case"value":d=k(g(a.data));break;case"percent":d=d3.format("%")(c)}return d})}}),G.renderEnd("pie immediate"),b}var c={top:0,right:0,bottom:0,left:0},d=500,e=500,f=function(a){return a.x},g=function(a){return a.y},h=Math.floor(1e4*Math.random()),i=null,j=a.utils.defaultColor(),k=d3.format(",.2f"),l=function(a){return a?d3.format(".1f")(100*a)+"%":""},m=!0,n=!1,o=!1,p="key",q=.02,r=!1,s=!1,t=!0,u=0,v=!1,w=!1,x=!1,y=!1,z=!1,A=0,B=.5,C=[],D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=[],F=[],G=a.utils.renderWatch(D);return b.dispatch=D,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{arcsRadius:{get:function(){return C},set:function(a){C=a}},width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},showChecks:{get:function(){return n},set:function(a){n=a}},showLabels:{get:function(){return m},set:function(a){m=a}},title:{get:function(){return s},set:function(a){s=a}},titleOffset:{get:function(){return u},set:function(a){u=a}},labelThreshold:{get:function(){return q},set:function(a){q=a}},valueFormat:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return h},set:function(a){h=a}},endAngle:{get:function(){return y},set:function(a){y=a}},startAngle:{get:function(){return w},set:function(a){w=a}},padAngle:{get:function(){return x},set:function(a){x=a}},cornerRadius:{get:function(){return A},set:function(a){A=a}},negateTrend:{get:function(){return z},set:function(a){z=a}},donutRatio:{get:function(){return B},set:function(a){B=a}},labelsOutside:{get:function(){return o},set:function(a){o=a}},labelSunbeamLayout:{get:function(){return v},set:function(a){v=a}},donut:{get:function(){return r},set:function(a){r=a}},growOnHover:{get:function(){return t},set:function(a){t=a}},pieLabelsOutside:{get:function(){return o},set:function(b){o=b,a.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return o},set:function(b){o=b,a.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return k},set:function(b){k=b,a.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return c},set:function(a){c.top=void 0!==a.top?a.top:c.top,c.right=void 0!==a.right?a.right:c.right,c.bottom=void 0!==a.bottom?a.bottom:c.bottom,c.left=void 0!==a.left?a.left:c.left}},y:{get:function(){return g},set:function(a){g=d3.functor(a)}},color:{get:function(){return j},set:function(b){j=a.utils.getColor(b)}},labelType:{get:function(){return p},set:function(a){p=a||"key"}}}),a.utils.initOptions(b),b},a.models.pieChart=function(){"use strict";function b(j){return r.reset(),r.models(c),j.each(function(j){var l=d3.select(this);a.utils.initSVG(l);var o=a.utils.availableWidth(g,l,f),p=a.utils.availableHeight(h,l,f);if(b.update=function(){l.transition().call(b)},b.container=this,e.chartContainer(b.container.parentNode),m.setter(t(j),b.update).getter(s(j)).update(),m.disabled=j.map(function(a){return!!a.disabled}),!n){var r;n={};for(r in m)m[r]instanceof Array?n[r]=m[r].slice(0):n[r]=m[r]}if(!(j=j.filter(function(a){return c.y()(a)>0}))||!j.length)return a.utils.noData(b,l),b;l.selectAll(".nv-noData").remove();var u=l.selectAll("g.nv-wrap.nv-pieChart").data([j]),v=u.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=u.select("g");if(v.append("g").attr("class","nv-pieWrap"),v.append("g").attr("class","nv-legendWrap"),i)if(d.updateState(!c.showChecks()).key(c.x()),"top"===k)d.width(o),u.select(".nv-legendWrap").datum(j).call(d),f.top!=d.height()&&(f.top=d.height(),p=a.utils.availableHeight(h,l,f)),u.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")");else if("right"===k){var x=a.models.legend().width();o/2<x&&(x=o/2),d.height(p).key(c.x()),d.width(x),o-=d.width(),u.select(".nv-legendWrap").datum(j).call(d).attr("transform","translate("+o+",0)")}u.attr("transform","translate("+f.left+","+f.top+")"),c.width(o).height(p);var y=w.select(".nv-pieWrap").datum([j]);d3.transition(y).call(c),d.dispatch.on("stateChange",function(a){for(var c in a)m[c]=a[c];q.stateChange(m),b.update()}).on("legendClick",function(a,b){a.selected=!a.selected,q.selectChange(a)}),q.on("changeState",function(a){void 0!==a.disabled&&(j.forEach(function(b,c){b.disabled=a.disabled[c]}),m.disabled=a.disabled),b.update()})}),r.renderEnd("pieChart immediate"),b}var c=a.models.pie(),d=a.models.legend(),e=a.models.tooltip(),f={top:30,right:20,bottom:20,left:20},g=null,h=null,i=!0,j=!1,k="top",l=a.utils.defaultColor(),m=a.utils.state(),n=null,o=null,p=250,q=d3.dispatch("stateChange","changeState","renderEnd","selectChange");e.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return c.valueFormat()(a,b)});var r=a.utils.renderWatch(q),s=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},t=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return c.dispatch.on("elementMouseover.tooltip",function(a){j&&(a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color},e.data(a).hidden(!1))}),
c.dispatch.on("elementMouseout.tooltip",function(a){j&&e.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(a){j&&e()}),c.dispatch.on("elementClick.select",function(a){q.selectChange(a)}),b.legend=d,b.dispatch=q,b.pie=c,b.tooltip=e,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{noData:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return i},set:function(a){i=a}},showChecks:{get:function(){return c.showChecks()},set:function(a){c.showChecks(a)}},legendPosition:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return n},set:function(a){n=a}},keyFormat:{get:function(){return d.keyFormat()},set:function(a){d.keyFormat(a)}},color:{get:function(){return l},set:function(a){l=a,d.color(l),c.color(l)}},duration:{get:function(){return p},set:function(a){p=a,r.reset(p)}},showTooltips:{get:function(){return j},set:function(a){j=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.sankey=function(){"use strict";function b(i){return t.reset(),i.each(function(i){g=d3.select(this);var t=a.utils.availableWidth(d,g,c),u=a.utils.availableHeight(e,g,c);l.range([0,t-s.nodeWidth()]),m.range([0,u]),l.domain([0,t]),m.domain([0,u]);var v=function(){function a(a){var c=l(a.sourceNode.x)+a.sourceNode.dx,d=l(a.targetNode.x),e=d3.interpolateNumber(c,d),f=e(b),g=e(1-b),h=a.sourceNode.y+a.sy+a.dy/2,i=a.targetNode.y+a.ty+a.dy/2;return"M"+c+","+h+"C"+f+","+h+" "+g+","+i+" "+d+","+i}var b=.5;return a.curvature=function(c){return arguments.length?(b=+c,a):b},a}();a.utils.initSVG(g);var w=g.selectAll(".nv-wrap.nv-sankey").data([i],function(){return i});w.enter().append("g").attr("class","nvd3 nv-wrap nv-sankey nv-chart-"+f).append("clipPath").attr("id","clip-"+f).append("rect").attr("x",0).attr("y",0),w.select("clipPath#clip-"+f).select("rect").attr("width",t).attr("height",u);var x=g.select(".nv-wrap.nv-sankey");if(i.nodes&&i.nodes.length){s.size([t,u]).nodes(i.nodes).links(i.links.filter(function(a){return!0!==a.disabled})).layout(32);var y=x.selectAll("g.linkWrap").data([i.links]).enter().append("g").attr("class","linkWrap").attr("clip-path","url(#clip-"+f+")");y=x.selectAll("g.linkWrap");var z=y.selectAll(".link").data(i.links.filter(function(a){return!0!==a.disabled}),function(a){return a.source+"::"+a.target});z.enter().append("path").attr("class","link").on("click",function(a,b){n.linkClick({data:a,i:b})}).append("title").text(function(a){return o(a.sourceNode)+"="+o(a.targetNode)+":"+p(a.value)}),z.style("opacity",.1).attr("d",v).sort(function(a,b){return b.dy-a.dy});var A=x.selectAll("g.nodeWrap").data([i.nodes]).enter().append("g").attr("class","nodeWrap").attr("clip-path","url(#clip-"+f+")");A=x.selectAll("g.nodeWrap");var B=i.nodes.filter(function(a){return a.value>0}),C=A.selectAll(".node").data(B,function(a){return a.name}),D=C.enter().append("g").attr("class","node").on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("opacity",.8),n.elementMouseover({data:a,i:b})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("opacity",1),n.elementMouseout({data:a,i:b})});D.append("rect").attr("width",s.nodeWidth()).on("click",function(a,b){n.nodeClick({data:a,i:b})}),r&&D.append("line").attr("class","meter").attr("x1",s.nodeWidth()-k/2).attr("x2",s.nodeWidth()-k/2).attr("y1",0).attr("y2",0),D.append("path").attr("class","check").attr("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z").attr("transform",function(a){return"translate("+(s.nodeWidth()/2-12)+",3)"}),q&&D.append("text").attr("x",-6+s.nodeWidth()).attr("y",function(a){return a.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(a){return o(a)}).filter(function(a){return a.x<d/2}).attr("x",6).attr("text-anchor","start"),C.transition().duration(j).attr("transform",function(a){return"translate("+l(a.x)+","+a.y+")"}).each("end",function(){d3.select(this).select("line.meter").style("stroke",function(a){return h(a.ratio)}).style("stroke-width",k).attr("y1",function(a){return a.dy}).attr("y2",function(a){return a.dy}).transition().attr("y2",function(a){return Math.round(a.ratio*a.dy/100)})}).selectAll("rect").attr("height",function(a){return a.dy}),z.transition().duration(j).delay(j).style("opacity",1).style("stroke-width",function(a){return Math.max(1,a.dy)}),C.each(function(a){d3.select(this).classed("selected",a.selected)}),z.each(function(a){d3.select(this).classed("selected",a.selected)}),C.exit().remove(),z.exit().remove()}b.update=function(){0===j?g.call(b):g.transition().duration(j).call(b)},b.container=this,g.on("click",function(a,b){n.chartClick({data:a,index:b,pos:d3.event,id:f})})}),t.renderEnd("sankey immediate"),b}var c={top:0,right:0,bottom:0,left:0},d=null,e=null,f=Math.floor(1e4*Math.random()),g=null,h=a.utils.defaultColor(),i="serif",j=500,k=7,l=d3.scale.linear(),m=d3.scale.linear(),n=d3.dispatch("chartClick","elementClick","nodeClick","linkClick","nodeDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),o=function(a){return a.name},p=function(a){return d3.format(",.1f")(a)},q=!1,r=!1,s=d3.sankey().nodeWidth(30).nodePadding(10),t=(s.link(),a.utils.renderWatch(n));return b.dispatch=n,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},font:{get:function(){return i},set:function(a){i=a}},id:{get:function(){return f},set:function(a){f=a}},duration:{get:function(){return j},set:function(a){j=a}},groupColorByParent:{get:function(){return groupColorByParent},set:function(a){groupColorByParent=!!a}},margin:{get:function(){return c},set:function(a){c.top=void 0!=a.top?a.top:c.top,c.right=void 0!=a.right?a.right:c.right,c.bottom=void 0!=a.bottom?a.bottom:c.bottom,c.left=void 0!=a.left?a.left:c.left}},color:{get:function(){return h},set:function(b){h=a.utils.getColor(b)}},format:{get:function(){return p},set:function(a){p=d3.functor(a)}},formatName:{get:function(){return o},set:function(a){o=d3.functor(a)}},labels:{get:function(){return q},set:function(a){q=a}},meters:{get:function(){return r},set:function(a){r=a}}}),a.utils.initOptions(b),b},a.models.sankeyChart=function(){"use strict";function b(c){return p.reset(),p.models(d),c.each(function(c){var i=d3.select(this);a.utils.initSVG(i);var j=a.utils.availableWidth(g,i,f),k=a.utils.availableHeight(h,i,f);if(b.update=function(){0===m?i.call(b):i.transition().duration(m).call(b)},b.container=this,e.chartContainer(b.container.parentNode),!(c&&c.nodes&&c.nodes.length))return a.utils.noData(b,i),b;i.selectAll(".nv-noData").remove();var l=i.selectAll("g.nv-wrap.nv-sankeyChart").data([c]);l.enter().append("g").attr("class","nvd3 nv-wrap nv-sankeyChart").append("g").attr("class","nv-sankeyWrap"),l.attr("transform","translate("+f.left+","+f.top+")"),d.width(j).height(k),l.select(".nv-sankeyWrap").datum(c).call(d)}),p.renderEnd("sankeyChart immediate"),b}function c(a){return a&&a.filter(function(a){return a.selected}).length>0}var d=a.models.sankey(),e=a.models.tooltip(),f={top:30,right:20,bottom:20,left:20},g=null,h=null,i=a.utils.defaultColor(),j="serif",k=(Math.round(1e5*Math.random()),null),l=null,m=250,n=d3.dispatch("stateChange","changeState","renderEnd","selectChange"),o=function(){};e.duration(0);var p=a.utils.renderWatch(n);return e.headerEnabled(!0).headerFormatter(function(a){return a.name}).valueFormatter(function(a,b){return a}),d.dispatch.on("elementMouseover.tooltip",function(a){a.series=[].concat(o(a.data)||[]),e.data(a).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(a){e()}),d.dispatch.on("nodeClick.node",function(a){var b=a.data;b.selected=!b.selected,d3.select(d.container).selectAll(".node").each(function(a,b){d3.select(this).classed("selected",a.selected)}),d3.select(d.container).selectAll(".link").each(function(a){a.selected=a.sourceNode.selected&&a.targetNode.selected,d3.select(this).classed("selected",a.selected)}),n.selectChange([b])}),d.dispatch.on("linkClick.link",function(a){var b=a.data;if(b.hasOwnProperty("source")&&b.hasOwnProperty("target")){if(b.selected=!b.selected,b.selected){var e=b.sourceNode.selected,f=b.targetNode.selected;e&&f||(e||(b.sourceNode.selected=!0),f||(b.targetNode.selected=!0))}else delete b.selected,b.sourceNode.selected=c(b.sourceNode.targetLinks)||c(b.sourceNode.sourceLinks),b.targetNode.selected=c(b.targetNode.targetLinks)||c(b.targetNode.sourceLinks);d3.select(d.container).selectAll(".link").each(function(a,b){d3.select(this).classed("selected",a.selected)}),d3.select(d.container).selectAll(".node").each(function(a,b){d3.select(this).classed("selected",a.selected)})}n.selectChange([b.sourceNode,b.targetNode])}),b.dispatch=n,b.sankey=d,b.tooltip=e,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{noData:{get:function(){return l},set:function(a){l=a}},defaultState:{get:function(){return k},set:function(a){k=a}},color:{get:function(){return i},set:function(a){i=a,d.color(i)}},font:{get:function(){return j},set:function(a){j=a,d.font(j)}},tipContent:{get:function(){return o},set:function(a){o=d3.functor(a)}},duration:{get:function(){return m},set:function(a){m=a,p.reset(m),d.duration(m)}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}}}),a.utils.inheritOptions(b,d),a.utils.initOptions(b),b},a.models.scatter=function(){"use strict";function b(P){return S.reset(),P.each(function(P){function U(){if(R=!1,!x)return!1;if(!0===O){var a=d3.merge(P.map(function(a,b){return a.values.map(function(a,c){var d=o(a,c),e=p(a,c);return[l(d)+1e-4*Math.random(),m(e)+1e-4*Math.random(),b,c,a]}).filter(function(a,b){return y(a[4],b)})}));if(0==a.length)return!1;a.length<3&&(a.push([l.range()[0]-20,m.range()[0]-20,null,null]),a.push([l.range()[1]+20,m.range()[1]+20,null,null]),a.push([l.range()[0]-20,m.range()[0]+20,null,null]),a.push([l.range()[1]+20,m.range()[1]-20,null,null]));var b=d3.geom.polygon([[-10,-10],[-10,h+10],[g+10,h+10],[g+10,-10]]),c=d3.geom.voronoi(a).map(function(c,d){return{data:b.clip(c),series:a[d][2],point:a[d][3]}});Z.select(".nv-point-paths").selectAll("path").remove();var d=Z.select(".nv-point-paths").selectAll("path").data(c),e=d.enter().append("svg:path").attr("d",function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join(",")+"Z":"M 0 0"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+j+"-"+b+")"});if(E&&e.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),D){Z.select(".nv-point-clips").selectAll("*").remove();var n=Z.select(".nv-point-clips").selectAll("clipPath").data(a);n.enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+j+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",F)}var q=function(a,b){if(R)return 0;var c=P[a.series];if(void 0!==c){var d=c.values[a.point];d.color=i(c,a.series),d.x=o(d),d.y=p(d);var e=k.node().getBoundingClientRect(),g=window.pageYOffset||document.documentElement.scrollTop,h=window.pageXOffset||document.documentElement.scrollLeft;b({point:d,series:c,pos:{left:l(o(d,a.point))+e.left+h+f.left+10,top:m(p(d,a.point))+e.top+g+f.top+10},relativePos:[l(o(d,a.point))+f.left,m(p(d,a.point))+f.top],seriesIndex:a.series,pointIndex:a.point})}};d.on("click",function(a){q(a,N.elementClick)}).on("dblclick",function(a){q(a,N.elementDblClick)}).on("mouseover",function(a){q(a,N.elementMouseover)}).on("mouseout",function(a,b){q(a,N.elementMouseout)})}else Z.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(a,b){if(R||!P[a.series])return 0;var c=P[a.series],d=c.values[b];N.elementClick({point:d,series:c,pos:[l(o(d,b))+f.left,m(p(d,b))+f.top],relativePos:[l(o(d,b))+f.left,m(p(d,b))+f.top],seriesIndex:a.series,pointIndex:b})}).on("dblclick",function(a,b){if(R||!P[a.series])return 0;var c=P[a.series],d=c.values[b];N.elementDblClick({point:d,series:c,pos:[l(o(d,b))+f.left,m(p(d,b))+f.top],relativePos:[l(o(d,b))+f.left,m(p(d,b))+f.top],seriesIndex:a.series,pointIndex:b})}).on("mouseover",function(a,b){if(R||!P[a.series])return 0;var c=P[a.series],d=c.values[b];N.elementMouseover({point:d,series:c,pos:[l(o(d,b))+f.left,m(p(d,b))+f.top],relativePos:[l(o(d,b))+f.left,m(p(d,b))+f.top],seriesIndex:a.series,pointIndex:b,color:i(a,b)})}).on("mouseout",function(a,b){if(R||!P[a.series])return 0;var c=P[a.series],d=c.values[b];N.elementMouseout({point:d,series:c,pos:[l(o(d,b))+f.left,m(p(d,b))+f.top],relativePos:[l(o(d,b))+f.left,m(p(d,b))+f.top],seriesIndex:a.series,pointIndex:b,color:i(a,b)})})}k=d3.select(this);var V=a.utils.availableWidth(g,k,f),W=a.utils.availableHeight(h,k,f);a.utils.initSVG(k),P.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var X=G&&H&&K?[]:d3.merge(P.map(function(a){return a.values.map(function(a,b){return{x:o(a,b),y:p(a,b),low:q(a,b),high:r(a,b),size:s(a,b)}})}));if(l.domain(G||d3.extent(X.map(function(a){return a.x}).concat(u))),A&&P[0]?l.range(I||[(V*B+V)/(2*P[0].values.length),V-V*(1+B)/(2*P[0].values.length)]):l.range(I||[0,V]),"o"===b.yScale().name){var Y=d3.min(X.map(function(a){if(0!==a.y)return a.y}));m.clamp(!0).domain(H||d3.extent(X.map(function(a){return 0!==a.y?a.y:.1*Y}).concat(v))).range(J||[W,0])}else m.domain(H||d3.extent(X.map(function(a){return Math.max(a.y,a.high)}).concat(v))).range(J||[W,0]);n.domain(K||d3.extent(X.map(function(a){return a.size}).concat(w))).range(L||T),M=l.domain()[0]===l.domain()[1]||m.domain()[0]===m.domain()[1],l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(l.domain()[0])&&l.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),c=c||l,d=d||m,e=e||n;var Z=k.selectAll("g.nv-wrap.nv-scatter").data([P]),$=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+j),_=$.append("defs"),aa=$.append("g"),ba=Z.select("g");Z.classed("nv-single-point",M),aa.append("g").attr("class","nv-groups"),aa.append("g").attr("class","nv-point-paths"),$.append("g").attr("class","nv-point-clips"),Z.attr("transform","translate("+f.left+","+f.top+")"),_.append("clipPath").attr("id","nv-edge-clip-"+j).append("rect"),Z.select("#nv-edge-clip-"+j+" rect").attr("width",V).attr("height",W>0?W+50:0).attr("y",W>0?-50:0),ba.attr("clip-path",C?"url(#nv-edge-clip-"+j+")":""),R=!0;var ca=Z.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});ca.forEach(function(a){d3.selectAll(a).selectAll(".nv-alert").remove()}),ca.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),ca.exit().remove(),ca.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}),ca.watchTransition(S,"scatter: groups").style("fill",function(a,b){return i(a,b)}).style("stroke",function(a,b){return i(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);var da=ca.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return y(a[0],b)})});da.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(b){var e=b[0].singlePoint?5:0;return"translate("+a.utils.NaNtoZero(c(o(b[0],b[1])))+","+a.utils.NaNtoZero(d(p(b[0],b[1]))+e)+")"}).attr("d",a.utils.symbol().type(function(a){return t(a[0])}).size(function(a){return n(s(a[0],a[1]))})),da.exit().remove(),ca.exit().selectAll("path.nv-point").watchTransition(S,"scatter exit").attr("transform",function(b){return"translate("+a.utils.NaNtoZero(l(o(b[0],b[1])))+","+a.utils.NaNtoZero(m(p(b[0],b[1])))+")"}).remove(),da.each(function(a){d3.select(this).classed("nv-point",!0).classed("nv-single-point",a[0].singlePoint).classed("nv-point-"+a[1],!0).classed("nv-noninteractive",!x).classed("hover",!1)}),da.watchTransition(S,"scatter points").attr("transform",function(b){var c=b[0].singlePoint?5:0;return"translate("+a.utils.NaNtoZero(l(o(b[0],b[1])))+","+a.utils.NaNtoZero(m(p(b[0],b[1])))+c+")"}).attr("d",a.utils.symbol().type(function(a){return t(a[0])}).size(function(a){return n(s(a[0],a[1]))}));var ea=ca.selectAll("circle.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return z(a[0],b)})});ea.enter().append("circle").classed("nv-alert",!0).attr("transform",function(b){var e=b[0].singlePoint?5:0;return"translate("+a.utils.NaNtoZero(c(o(b[0],b[1])))+","+a.utils.NaNtoZero(d(p(b[0],b[1]))+e)+")"}).attr("r",0),ea.exit().remove(),ca.exit().selectAll("circle.nv-alert").watchTransition(S,"scatter exit").attr("transform",function(b){return"translate("+a.utils.NaNtoZero(l(o(b[0],b[1])))+","+a.utils.NaNtoZero(m(p(b[0],b[1])))+")"}).remove(),ea.watchTransition(S,"scatter alerts").attr("transform",function(b){var c=b[0].singlePoint?5:0;return"translate("+a.utils.NaNtoZero(l(o(b[0],b[1])))+","+a.utils.NaNtoZero(m(p(b[0],b[1])))+c+")"}).attr("r",6),a.utils.debounce(U,Q),c=l.copy(),d=m.copy(),e=n.copy()}),S.renderEnd("scatter immediate"),b}var c,d,e,f={top:0,right:0,bottom:0,left:0},g=null,h=null,i=a.utils.defaultColor(),j=Math.floor(1e5*Math.random()),k=null,l=d3.scale.linear(),m=d3.scale.linear(),n=d3.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=function(b){return a.utils.NaNtoZero(b.low)},r=function(b){return a.utils.NaNtoZero(b.high)},s=function(a){return a.size||1},t=function(a){return a.shape||"circle"},u=[],v=[],w=[],x=!0,y=function(a){return!a.notActive},z=function(a){return a.alert},A=!1,B=.1,C=!1,D=!0,E=!1,F=function(){return 25},G=null,H=null,I=null,J=null,K=null,L=null,M=!1,N=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),O=!0,P=250,Q=300,R=!1,S=a.utils.renderWatch(N,P),T=[16,256];return b.dispatch=N,b.options=a.utils.optionsFunc.bind(b),b._calls=new function(){this.clearHighlights=function(){return a.dom.write(function(){k.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(b,c,d){a.dom.write(function(){k.select(".nv-groups").selectAll(".nv-series-"+b).selectAll(".nv-point-"+c).classed("hover",d)})}},N.on("elementMouseover.point",function(a){x&&b._calls.highlightPoint(a.seriesIndex,a.pointIndex,!0)}),N.on("elementMouseout.point",function(a){x&&b._calls.highlightPoint(a.seriesIndex,a.pointIndex,!1)}),b._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},pointScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return G},set:function(a){G=a}},yDomain:{get:function(){return H},set:function(a){H=a}},pointDomain:{get:function(){return K},set:function(a){K=a}},xRange:{get:function(){return I},set:function(a){I=a}},yRange:{get:function(){return J},set:function(a){J=a}},pointRange:{get:function(){return L},set:function(a){L=a}},forceX:{get:function(){return u},set:function(a){u=a}},forceY:{get:function(){return v},set:function(a){v=a}},forcePoint:{get:function(){return w},set:function(a){w=a}},interactive:{get:function(){return x},set:function(a){x=a}},pointActive:{get:function(){return y},set:function(a){y=a}},pointAlert:{get:function(){return z},set:function(a){z=a}},padDataOuter:{get:function(){return B},set:function(a){B=a}},padData:{get:function(){return A},set:function(a){A=a}},clipEdge:{get:function(){return C},set:function(a){C=a}},clipVoronoi:{get:function(){return D},set:function(a){D=a}},clipRadius:{get:function(){return F},set:function(a){F=a}},showVoronoi:{get:function(){return E},set:function(a){E=a}},id:{get:function(){return j},set:function(a){j=a}},interactiveUpdateDelay:{get:function(){return Q},set:function(a){Q=a}},x:{get:function(){return o},set:function(a){o=d3.functor(a)}},y:{get:function(){return p},set:function(a){p=d3.functor(a)}},low:{get:function(){return q},set:function(a){q=d3.functor(a)}},high:{get:function(){return r},set:function(a){r=d3.functor(a)}},pointSize:{get:function(){return s},set:function(a){s=d3.functor(a)}},pointShape:{get:function(){return t},set:function(a){t=d3.functor(a)}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},duration:{get:function(){return P},set:function(a){P=a,S.reset(P)}},color:{get:function(){return i},set:function(b){i=a.utils.getColor(b)}},useVoronoi:{get:function(){return O},set:function(a){!1===(O=a)&&(D=!1)}}}),a.utils.initOptions(b),b},a.models.scatterChart=function(){"use strict";function b(z){return D.reset(),D.models(c),t&&D.models(d),u&&D.models(e),q&&D.models(g),r&&D.models(h),z.each(function(z){m=d3.select(this),a.utils.initSVG(m);var G=a.utils.availableWidth(k,m,j),H=a.utils.availableHeight(l,m,j);if(b.update=function(){0===A?m.call(b):m.transition().duration(A).call(b)},b.container=this,w.setter(F(z),b.update).getter(E(z)).update(),w.disabled=z.map(function(a){return!!a.disabled}),!x){var I;x={};for(I in w)w[I]instanceof Array?x[I]=w[I].slice(0):x[I]=w[I]}if(!(z&&z.length&&z.filter(function(a){return a.values.length}).length))return a.utils.noData(b,m),D.renderEnd("scatter immediate"),b;m.selectAll(".nv-noData").remove(),o=c.xScale(),p=c.yScale();var J=m.selectAll("g.nv-wrap.nv-scatterChart").data([z]),K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+c.id()),L=K.append("g"),M=J.select("g");if(L.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-scatterWrap"),L.append("g").attr("class","nv-regressionLinesWrap"),L.append("g").attr("class","nv-distWrap"),L.append("g").attr("class","nv-legendWrap"),v&&M.select(".nv-y.nv-axis").attr("transform","translate("+G+",0)"),s){var N=G;f.width(N),J.select(".nv-legendWrap").datum(z).call(f),j.top!=f.height()&&(j.top=f.height(),H=a.utils.availableHeight(l,m,j)),J.select(".nv-legendWrap").attr("transform","translate(0,"+-j.top+")")}J.attr("transform","translate("+j.left+","+j.top+")"),c.width(G).height(H).color(z.map(function(a,b){return a.color=a.color||n(a,b),a.color}).filter(function(a,b){return!z[b].disabled})),J.select(".nv-scatterWrap").datum(z.filter(function(a){return!a.disabled})).call(c),J.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+c.id()+")");var O=J.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});O.enter().append("g").attr("class","nv-regLines");var P=O.selectAll(".nv-regLine").data(function(a){return[a]});P.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),P.filter(function(a){return a.intercept&&a.slope}).watchTransition(D,"scatterPlusLineChart: regline").attr("x1",o.range()[0]).attr("x2",o.range()[1]).attr("y1",function(a,b){return p(o.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return p(o.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return n(a,c)}).style("stroke-opacity",function(a,b){return a.disabled||void 0===a.slope||void 0===a.intercept?0:1}),t&&(d.scale(o)._ticks(a.utils.calcTicksX(G/100,z)).tickSize(-H,0),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")").call(d)),u&&(e.scale(p)._ticks(a.utils.calcTicksY(H/36,z)).tickSize(-G,0),M.select(".nv-y.nv-axis").call(e)),q&&(g.getData(c.x()).scale(o).width(G).color(z.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!z[b].disabled})),L.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),M.select(".nv-distributionX").attr("transform","translate(0,"+p.range()[0]+")").datum(z.filter(function(a){return!a.disabled})).call(g)),r&&(h.getData(c.y()).scale(p).width(H).color(z.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!z[b].disabled})),L.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),M.select(".nv-distributionY").attr("transform","translate("+(v?G:-h.size())+",0)").datum(z.filter(function(a){return!a.disabled})).call(h)),f.dispatch.on("stateChange",function(a){for(var c in a)w[c]=a[c];y.stateChange(w),b.update()}),y.on("changeState",function(a){void 0!==a.disabled&&(z.forEach(function(b,c){b.disabled=a.disabled[c]}),w.disabled=a.disabled),b.update()}),c.dispatch.on("elementMouseout.tooltip",function(a){i.hidden(!0),m.select(".nv-chart-"+c.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0),m.select(".nv-chart-"+c.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",h.size())}),c.dispatch.on("elementMouseover.tooltip",function(a){m.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.relativePos[1]-H),m.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.relativePos[0]+g.size()),i.data(a).hidden(!1)}),B=o.copy(),C=p.copy()}),D.renderEnd("scatter with line immediate"),b}var c=a.models.scatter(),d=a.models.axis(),e=a.models.axis(),f=a.models.legend(),g=a.models.distribution(),h=a.models.distribution(),i=a.models.tooltip(),j={top:30,right:20,bottom:50,left:75},k=null,l=null,m=null,n=a.utils.defaultColor(),o=c.xScale(),p=c.yScale(),q=!1,r=!1,s=!0,t=!0,u=!0,v=!1,w=a.utils.state(),x=null,y=d3.dispatch("stateChange","changeState","renderEnd"),z=null,A=250;c.xScale(o).yScale(p),d.orient("bottom").tickPadding(10),e.orient(v?"right":"left").tickPadding(10),g.axis("x"),h.axis("y"),i.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return e.tickFormat()(a,b)});var B,C,D=a.utils.renderWatch(y,A),E=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},F=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return b.dispatch=y,b.scatter=c,b.legend=f,b.xAxis=d,b.yAxis=e,b.distX=g,b.distY=h,b.tooltip=i,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},container:{get:function(){return m},set:function(a){m=a}},showDistX:{get:function(){return q},set:function(a){q=a}},showDistY:{get:function(){return r},set:function(a){r=a}},showLegend:{get:function(){return s},set:function(a){s=a}},showXAxis:{get:function(){return t},set:function(a){t=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},defaultState:{get:function(){return x},set:function(a){x=a}},noData:{get:function(){return z},set:function(a){z=a}},duration:{get:function(){return A},set:function(a){A=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},rightAlignYAxis:{get:function(){return v},set:function(a){v=a,e.orient(a?"right":"left")}},color:{get:function(){return n},set:function(b){n=a.utils.getColor(b),f.color(n),g.color(n),h.color(n)}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.sparkline=function(){"use strict";function b(k){return r.reset(),k.each(function(b){var k=h-g.left-g.right,q=i-g.top-g.bottom;j=d3.select(this),a.utils.initSVG(j),l.domain(c||d3.extent(b,n)).range(e||[0,k]),m.domain(d||d3.extent(b,o)).range(f||[q,0]);var r=j.selectAll("g.nv-wrap.nv-sparkline").data([b]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");s.append("g"),r.select("g");r.attr("transform","translate("+g.left+","+g.top+")");var t=r.selectAll("path").data(function(a){return[a]});t.enter().append("path"),t.exit().remove(),t.style("stroke",function(a,b){return a.color||p(a,b)}).attr("d",d3.svg.line().x(function(a,b){return l(n(a,b))}).y(function(a,b){return m(o(a,b))}));var u=r.selectAll("circle.nv-point").data(function(a){function b(b){if(-1!=b){var c=a[b];return c.pointIndex=b,c}return null}var c=a.map(function(a,b){return o(a,b)}),d=b(c.lastIndexOf(m.domain()[1]));return[b(c.indexOf(m.domain()[0])),d,b(c.length-1)].filter(function(a){return null!=a})});u.enter().append("circle"),u.exit().remove(),u.attr("cx",function(a,b){return l(n(a,a.pointIndex))}).attr("cy",function(a,b){return m(o(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return n(a,a.pointIndex)==l.domain()[1]?"nv-point nv-currentValue":o(a,a.pointIndex)==m.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),r.renderEnd("sparkline immediate"),b}var c,d,e,f,g={top:2,right:0,bottom:2,left:0},h=400,i=32,j=null,k=!0,l=d3.scale.linear(),m=d3.scale.linear(),n=function(a){return a.x},o=function(a){return a.y},p=a.utils.getColor(["#000"]),q=d3.dispatch("renderEnd"),r=a.utils.renderWatch(q);return b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},animate:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return n},set:function(a){n=d3.functor(a)}},y:{get:function(){return o},set:function(a){o=d3.functor(a)}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},color:{get:function(){return p},set:function(b){p=a.utils.getColor(b)}}}),b.dispatch=q,a.utils.initOptions(b),b},a.models.sparklinePlus=function(){"use strict";function b(p){return r.reset(),r.models(e),p.each(function(p){function q(){if(!j){var a=z.selectAll(".nv-hoverValue").data(i),b=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),a.attr("transform",function(a){return"translate("+c(e.x()(p[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),i.length&&(b.append("line").attr("x1",0).attr("y1",-f.top).attr("x2",0).attr("y2",u),b.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-f.top).attr("text-anchor","end").attr("dy",".9em"),z.select(".nv-hoverValue .nv-xValue").text(k(e.x()(p[i[0]],i[0]))),b.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-f.top).attr("text-anchor","start").attr("dy",".9em"),z.select(".nv-hoverValue .nv-yValue").text(l(e.y()(p[i[0]],i[0]))))}}function r(){function a(a,b){for(var c=Math.abs(e.x()(a[0],0)-b),d=0,f=0;f<a.length;f++)Math.abs(e.x()(a[f],f)-b)<c&&(c=Math.abs(e.x()(a[f],f)-b),d=f);return d}if(!j){var b=d3.mouse(this)[0]-f.left;i=[a(p,Math.round(c.invert(b)))],q()}}var s=d3.select(this);a.utils.initSVG(s);var t=a.utils.availableWidth(g,s,f),u=a.utils.availableHeight(h,s,f);if(b.update=function(){s.call(b)},b.container=this,!p||!p.length)return a.utils.noData(b,s),b
;s.selectAll(".nv-noData").remove();var v=e.y()(p[p.length-1],p.length-1);c=e.xScale(),d=e.yScale();var w=s.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),y=x.append("g"),z=w.select("g");y.append("g").attr("class","nv-sparklineWrap"),y.append("g").attr("class","nv-valueWrap"),y.append("g").attr("class","nv-hoverArea"),w.attr("transform","translate("+f.left+","+f.top+")");var A=z.select(".nv-sparklineWrap");if(e.width(t).height(u),A.call(e),m){var B=z.select(".nv-valueWrap"),C=B.selectAll(".nv-currentValue").data([v]);C.enter().append("text").attr("class","nv-currentValue").attr("dx",o?-8:8).attr("dy",".9em").style("text-anchor",o?"end":"start"),C.attr("x",t+(o?f.right:0)).attr("y",n?function(a){return d(a)}:0).style("fill",e.color()(p[p.length-1],p.length-1)).text(l(v))}y.select(".nv-hoverArea").append("rect").on("mousemove",r).on("click",function(){j=!j}).on("mouseout",function(){i=[],q()}),z.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-f.left+","+-f.top+")"}).attr("width",t+f.left+f.right).attr("height",u+f.top)}),r.renderEnd("sparklinePlus immediate"),b}var c,d,e=a.models.sparkline(),f={top:15,right:100,bottom:10,left:50},g=null,h=null,i=[],j=!1,k=d3.format(",r"),l=d3.format(",.2f"),m=!0,n=!0,o=!1,p=null,q=d3.dispatch("renderEnd"),r=a.utils.renderWatch(q);return b.dispatch=q,b.sparkline=e,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},xTickFormat:{get:function(){return k},set:function(a){k=a}},yTickFormat:{get:function(){return l},set:function(a){l=a}},showLastValue:{get:function(){return m},set:function(a){m=a}},alignValue:{get:function(){return n},set:function(a){n=a}},rightAlignValue:{get:function(){return o},set:function(a){o=a}},noData:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.stackedArea=function(){"use strict";function b(n){return v.reset(),v.models(s),n.each(function(n){var t=f-e.left-e.right,w=g-e.top-e.bottom;j=d3.select(this),a.utils.initSVG(j),c=s.xScale(),d=s.yScale();var x=n;n.forEach(function(a,b){a.seriesIndex=b,a.values=a.values.map(function(a,c){return a.index=c,a.seriesIndex=b,a})});var y=n.filter(function(a){return!a.disabled});n=d3.layout.stack().order(p).offset(o).values(function(a){return a.values}).x(k).y(l).out(function(a,b,c){a.display={y:c,y0:b}})(y);var z=j.selectAll("g.nv-wrap.nv-stackedarea").data([n]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),B=A.append("defs"),C=A.append("g"),D=z.select("g");C.append("g").attr("class","nv-areaWrap"),C.append("g").attr("class","nv-scatterWrap"),z.attr("transform","translate("+e.left+","+e.top+")"),0==s.forceY().length&&s.forceY().push(0),s.width(t).height(w).x(k).y(function(a){if(void 0!==a.display)return a.display.y+a.display.y0}).forceY([0]).color(n.map(function(a,b){return a.color=a.color||h(a,a.seriesIndex),a.color})),D.select(".nv-scatterWrap").datum(n).call(s),B.append("clipPath").attr("id","nv-edge-clip-"+i).append("rect"),z.select("#nv-edge-clip-"+i+" rect").attr("width",t).attr("height",w>0?w+50:0).attr("y",w>0?-50:0),D.attr("clip-path",r?"url(#nv-edge-clip-"+i+")":"");var E=d3.svg.area().defined(m).x(function(a,b){return c(k(a,b))}).y0(function(a){return d(a.display.y0)}).y1(function(a){return d(a.display.y+a.display.y0)}).interpolate(q),F=d3.svg.area().defined(m).x(function(a,b){return c(k(a,b))}).y0(function(a){return d(a.display.y0)}).y1(function(a){return d(a.display.y0)}),G=D.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});G.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return F(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),u.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),u.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1),u.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}),G.exit().remove(),G.style("fill",function(a,b){return a.color||h(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||h(a,a.seriesIndex)}),G.watchTransition(v,"stackedArea path").attr("d",function(a,b){return E(a.values,b)}),s.dispatch.on("elementMouseover.area",function(a){D.select(".nv-chart-"+i+" .nv-area-"+a.seriesIndex).classed("hover",!0)}),s.dispatch.on("elementMouseout.area",function(a){D.select(".nv-chart-"+i+" .nv-area-"+a.seriesIndex).classed("hover",!1)}),b.d3_stackedOffset_stackPercent=function(a){var b,c,d,e=a.length,f=a[0].length,g=[];for(c=0;c<f;++c){for(b=0,d=0;b<x.length;b++)d+=l(x[b].values[c]);if(d)for(b=0;b<e;b++)a[b][c][1]/=d;else for(b=0;b<e;b++)a[b][c][1]=0}for(c=0;c<f;++c)g[c]=0;return g}}),v.renderEnd("stackedArea immediate"),b}var c,d,e={top:0,right:0,bottom:0,left:0},f=960,g=500,h=a.utils.defaultColor(),i=Math.floor(1e5*Math.random()),j=null,k=function(a){return a.x},l=function(a){return a.y},m=function(a,b){return!isNaN(l(a,b))&&null!==l(a,b)},n="stack",o="zero",p="default",q="linear",r=!1,s=a.models.scatter(),t=250,u=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");s.pointSize(2.2).pointDomain([2.2,2.2]);var v=a.utils.renderWatch(u,t);return b.dispatch=u,b.scatter=s,s.dispatch.on("elementClick",function(){u.elementClick.apply(this,arguments)}),s.dispatch.on("elementMouseover",function(){u.elementMouseover.apply(this,arguments)}),s.dispatch.on("elementMouseout",function(){u.elementMouseout.apply(this,arguments)}),b.interpolate=function(a){return arguments.length?(q=a,b):q},b.duration=function(a){return arguments.length?(t=a,v.reset(t),s.duration(t),b):t},b.dispatch=u,b.scatter=s,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},defined:{get:function(){return m},set:function(a){m=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},offset:{get:function(){return o},set:function(a){o=a}},order:{get:function(){return p},set:function(a){p=a}},interpolate:{get:function(){return q},set:function(a){q=a}},x:{get:function(){return k},set:function(a){k=d3.functor(a)}},y:{get:function(){return l},set:function(a){l=d3.functor(a)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},color:{get:function(){return h},set:function(b){h=a.utils.getColor(b)}},style:{get:function(){return n},set:function(a){switch(n=a){case"stack":b.offset("zero"),b.order("default");break;case"stream":b.offset("wiggle"),b.order("inside-out");break;case"stream-center":b.offset("silhouette"),b.order("inside-out");break;case"expand":b.offset("expand"),b.order("default");break;case"stack_percent":b.offset(b.d3_stackedOffset_stackPercent),b.order("default")}}},duration:{get:function(){return t},set:function(a){t=a,v.reset(t),s.duration(t)}}}),a.utils.inheritOptions(b,s),a.utils.initOptions(b),b},a.models.stackedAreaChart=function(){"use strict";function b(k){return L.reset(),L.models(e),t&&L.models(f),u&&L.models(g),k.each(function(k){function s(){l.empty()?D.brush({extent:null,brush:l}):D.brush({extent:l.extent(),brush:l})}function C(){}var I=d3.select(this),L=this;a.utils.initSVG(I);var Q=a.utils.availableWidth(n,I,m),R=a.utils.availableHeight(o,I,m);if(b.update=function(){I.transition().duration(H).call(b)},b.container=this,A.setter(O(k),b.update).getter(N(k)).update(),A.disabled=k.map(function(a){return!!a.disabled}),!B){var S;B={};for(S in A)A[S]instanceof Array?B[S]=A[S].slice(0):B[S]=A[S]}if(!(k&&k.length&&k.filter(function(a){return a.values&&a.values.length}).length))return a.utils.noData(b,I),b;I.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale();var T=I.selectAll("g.nv-wrap.nv-stackedAreaChart").data([k]),U=T.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),V=T.select("g");U.append("rect").style("opacity",0),U.append("g").attr("class","nv-x nv-axis"),U.append("g").attr("class","nv-y nv-axis"),U.append("g").attr("class","nv-stackedWrap"),U.append("g").attr("class","nv-legendWrap"),U.append("g").attr("class","nv-controlsWrap"),U.append("g").attr("class","nv-interactive"),V.select("rect").attr("width",Q).attr("height",R);U.append("g").attr("class","nv-context");if(r){var W=q?Q-E:Q;h.width(W).updateState(!r),V.select(".nv-legendWrap").datum(k).call(h),m.top!=h.height()&&(m.top=h.height(),R=a.utils.availableHeight(o,I,m)),V.select(".nv-legendWrap").attr("transform","translate("+(Q-W)+","+-m.top+")")}if(q){var X=[{key:G.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=e.style(),style:"stack"},{key:G.stream||"Stream",metaKey:"Stream",disabled:"stream"!=e.style(),style:"stream"},{key:G.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=e.style(),style:"expand"},{key:G.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=e.style(),style:"stack_percent"}];E=F.length/3*260,X=X.filter(function(a){return-1!==F.indexOf(a.metaKey)}),i.width(E).color(["#444","#444","#444"]),V.select(".nv-controlsWrap").datum(X).call(i),m.top!=Math.max(i.height(),h.height())&&(m.top=Math.max(i.height(),h.height()),R=a.utils.availableHeight(o,I,m)),V.select(".nv-controlsWrap").attr("transform","translate(0,"+-m.top+")")}if(T.attr("transform","translate("+m.left+","+m.top+")"),w&&V.select(".nv-y.nv-axis").attr("transform","translate("+Q+",0)"),x&&(j.width(Q).height(R).margin({left:m.left,top:m.top}).svgContainer(I).xScale(c),T.select(".nv-interactive").call(j)),e.width(Q).height(R),V.select(".nv-stackedWrap").datum(k).transition().call(e),t&&(f.scale(c)._ticks(a.utils.calcTicksX(Q/100,k)).tickSize(-R,0),V.select(".nv-x.nv-axis").attr("transform","translate(0,"+R+")"),V.select(".nv-x.nv-axis").transition().duration(0).call(f)),u){var Y;if(Y="wiggle"===e.offset()?0:a.utils.calcTicksY(R/36,k),g.scale(d)._ticks(Y).tickSize(-Q,0),"expand"===e.style()||"stack_percent"===e.style()){var Z=g.tickFormat();J&&Z===P||(J=Z),g.tickFormat(P)}else J&&(g.tickFormat(J),J=null);V.select(".nv-y.nv-axis").transition().duration(0).call(g)}if(v){l.x(c).clear().on("brushend",function(){s()});V.select(".nv-context").call(l).selectAll("rect").attr("height",R);C()}e.dispatch.on("areaClick.toggle",function(a){1===k.filter(function(a){return!a.disabled}).length?k.forEach(function(a){a.disabled=!1}):k.forEach(function(b,c){b.disabled=c!=a.seriesIndex}),A.disabled=k.map(function(a){return!!a.disabled}),D.stateChange(A),b.update()}),h.dispatch.on("stateChange",function(a){for(var c in a)A[c]=a[c];D.stateChange(A),b.update()}).on("legendClick",function(a,b){a.selected=!a.selected,D.selectChange(a)}),i.dispatch.on("legendClick",function(a,c){a.disabled&&(X=X.map(function(a){return a.disabled=!0,a}),a.disabled=!1,e.style(a.style),A.style=e.style(),D.stateChange(A),b.update())}),j.dispatch.on("elementMousemove",function(c){e.clearHighlights();var d,f,g,h=[],i=0;if(k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(j,k){f=a.interactiveBisect(j.values,c.pointXValue,b.x());var l=j.values[f];if(null!=b.y()(l,f)&&e.highlightPoint(k,f,!0),void 0!==l){void 0===d&&(d=l),void 0===g&&(g=b.xScale()(b.x()(l,f)));var m="expand"==e.style()?l.display.y:b.y()(l,f);h.push({key:j.key,value:m,color:function(a,b){return a.color||p(a,b)}(j,j.seriesIndex),stackedValue:l.display}),y&&"expand"!=e.style()&&(i+=m)}}),h.reverse(),h.length>2){var l=b.yScale().invert(c.mouseY),m=null;h.forEach(function(a,b){l=Math.abs(l);var c=Math.abs(a.stackedValue.y0),d=Math.abs(a.stackedValue.y);if(l>=c&&l<=d+c)return void(m=b)}),null!=m&&(h[m].highlight=!0)}y&&"expand"!=e.style()&&h.length>=2&&h.push({key:z,value:i,total:!0});var n=b.x()(d,f),o=j.tooltip.valueFormatter();"expand"===e.style()||"stack_percent"===e.style()?(K||(K=o),o=d3.format(".1%")):K&&(o=K,K=null),j.tooltip.chartContainer(L.parentNode).valueFormatter(o).data({value:n,series:h})(),j.renderGuideLine(g)}),j.dispatch.on("elementMouseout",function(a){e.clearHighlights()}),D.on("changeState",function(a){void 0!==a.disabled&&k.length===a.disabled.length&&(k.forEach(function(b,c){b.disabled=a.disabled[c]}),A.disabled=a.disabled),void 0!==a.style&&(e.style(a.style),M=a.style),b.update()})}),L.renderEnd("stacked Area chart immediate"),b}var c,d,e=a.models.stackedArea(),f=a.models.axis(),g=a.models.axis(),h=a.models.legend(),i=a.models.legend(),j=a.interactiveGuideline(),k=a.models.tooltip(),l=d3.svg.brush(),m={top:30,right:25,bottom:50,left:60},n=null,o=null,p=a.utils.defaultColor(),q=!0,r=!0,s=!1,t=!0,u=!0,v=!1,w=!1,x=!1,y=!0,z="TOTAL",A=a.utils.state(),B=null,C=null,D=d3.dispatch("stateChange","changeState","renderEnd","brush","selectChange"),E=250,F=["Stacked","Stream","Expanded"],G={},H=250,I=function(a){return d3.time.format("%b %d %H:%M")(new Date(a))};A.style=e.style(),f.orient("bottom").tickPadding(7),g.orient(w?"right":"left"),k.headerFormatter(function(a,b){return I(a,b)}).valueFormatter(function(a,b){return g.tickFormat()(a,b)}),j.tooltip.headerFormatter(function(a,b){return I(a,b)}).valueFormatter(function(a,b){return g.tickFormat()(a,b)});var J=null,K=null;i.updateState(!1);var L=a.utils.renderWatch(D),M=e.style(),N=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:e.style()}}},O=function(a){return function(b){void 0!==b.style&&(M=b.style),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},P=d3.format("%");return e.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=e.x()(a.point),a.point.y=e.y()(a.point),k.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),b.dispatch=D,b.stacked=e,b.legend=h,b.controls=i,b.xAxis=f,b.yAxis=g,b.interactiveLayer=j,b.tooltip=k,b.dispatch=D,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return o},set:function(a){o=a}},showChecks:{get:function(){return s},set:function(a){s=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return t},set:function(a){t=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},focusEnable:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return B},set:function(a){B=a}},noData:{get:function(){return C},set:function(a){C=a}},showControls:{get:function(){return q},set:function(a){q=a}},controlLabels:{get:function(){return G},set:function(a){G=a}},controlOptions:{get:function(){return F},set:function(a){F=a}},showTotalInTooltip:{get:function(){return y},set:function(a){y=a}},totalLabel:{get:function(){return z},set:function(a){z=a}},margin:{get:function(){return m},set:function(a){m.top=void 0!==a.top?a.top:m.top,m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},duration:{get:function(){return H},set:function(a){H=a,L.reset(H),e.duration(H),f.duration(H),g.duration(H)}},color:{get:function(){return p},set:function(b){p=a.utils.getColor(b),h.color(p),e.color(p)}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a,g.orient(w?"right":"left")}},useInteractiveGuideline:{get:function(){return x},set:function(a){x=!!a,b.interactive(!a),b.useVoronoi(!a),e.scatter.interactive(!a)}},xTickFormat:{get:function(){return f.tickFormat()},set:function(a){f.tickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a)}},headerFormat:{get:function(){return I},set:function(a){I=d3.functor(a)}},valueFormat:{get:function(){return j.tooltip.valueFormatter()},set:function(a){j.tooltip.valueFormatter(a)}},keyFormat:{get:function(){return h.keyFormat()},set:function(a){h.keyFormat(a)}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.sunburst=function(){"use strict";function b(v){return u.reset(),v.each(function(u){function v(a){a.x0=a.x,a.dx0=a.dx}function w(a){var b=d3.interpolate(q.domain(),[a.x,a.x+a.dx]),c=d3.interpolate(r.domain(),[a.y,1]),d=d3.interpolate(r.range(),[a.y?20:0,A]);return function(a,e){return e?function(b){return t(a)}:function(e){return q.domain(b(e)),r.domain(c(e)).range(d(e)),t(a)}}}l=d3.select(this);var x,y=a.utils.availableWidth(g,l,f),z=a.utils.availableHeight(h,l,f),A=Math.min(y,z)/2;a.utils.initSVG(l);var B=l.selectAll(".nv-wrap.nv-sunburst").data(u),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+k),D=C.selectAll("nv-sunburst");b.update=function(){0===o?l.call(b):l.transition().duration(o).call(b)},b.container=this,B.attr("transform","translate("+y/2+","+z/2+")"),l.on("click",function(a,b){p.chartClick({data:a,index:b,pos:d3.event,id:k})}),r.range([0,A]),c=c||u,e=u[0],s.value(j[i]||j.count),x=D.data(s.nodes).enter().append("path").attr("d",t).style("fill",function(a){return a.color?a.color:m(n?(a.children?a:a.parent).name:a.name)}).style("stroke","#FFF").on("click",function(a){d!==c&&c!==a&&(d=c),c=a,x.transition().duration(o).attrTween("d",w(a))}).each(v).on("dblclick",function(a){d.parent==a&&x.transition().duration(o).attrTween("d",w(e))}).each(v).on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("opacity",.8),p.elementMouseover({data:a,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("opacity",1),p.elementMouseout({data:a})}).on("mousemove",function(a,b){p.elementMousemove({data:a})})}),u.renderEnd("sunburst immediate"),b}var c,d,e,f={top:0,right:0,bottom:0,left:0},g=null,h=null,i="count",j={count:function(a){return 1},size:function(a){return a.size}},k=Math.floor(1e4*Math.random()),l=null,m=a.utils.defaultColor(),n=!0,o=500,p=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),q=d3.scale.linear().range([0,2*Math.PI]),r=d3.scale.sqrt(),s=d3.layout.partition().sort(null).value(function(a){return 1}),t=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,q(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,q(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,r(a.y))}).outerRadius(function(a){return Math.max(0,r(a.y+a.dy))}),u=a.utils.renderWatch(p);return b.dispatch=p,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},mode:{get:function(){return i},set:function(a){i=a}},id:{get:function(){return k},set:function(a){k=a}},duration:{get:function(){return o},set:function(a){o=a}},groupColorByParent:{get:function(){return n},set:function(a){n=!!a}},margin:{get:function(){return f},set:function(a){f.top=void 0!=a.top?a.top:f.top,f.right=void 0!=a.right?a.right:f.right,f.bottom=void 0!=a.bottom?a.bottom:f.bottom,f.left=void 0!=a.left?a.left:f.left}},color:{get:function(){return m},set:function(b){m=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.sunburstChart=function(){"use strict";function b(d){return m.reset(),m.models(c),d.each(function(d){var h=d3.select(this);a.utils.initSVG(h);var i=a.utils.availableWidth(f,h,e),j=a.utils.availableHeight(g,h,e);if(b.update=function(){0===k?h.call(b):h.transition().duration(k).call(b)},b.container=this,!d||!d.length)return a.utils.noData(b,h),b;h.selectAll(".nv-noData").remove();var l=h.selectAll("g.nv-wrap.nv-sunburstChart").data(d),m=l.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),n=l.select("g");m.append("g").attr("class","nv-sunburstWrap"),l.attr("transform","translate("+e.left+","+e.top+")"),c.width(i).height(j);var o=n.select(".nv-sunburstWrap").datum(d);d3.transition(o).call(c)}),m.renderEnd("sunburstChart immediate"),b}var c=a.models.sunburst(),d=a.models.tooltip(),e={top:30,right:20,bottom:20,left:20},f=null,g=null,h=a.utils.defaultColor(),i=(Math.round(1e5*Math.random()),null),j=null,k=250,l=d3.dispatch("stateChange","changeState","renderEnd");d.duration(0);var m=a.utils.renderWatch(l);return d.headerEnabled(!1).valueFormatter(function(a,b){return a}),c.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.size,color:a.color},d.data(a).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(a){d()}),b.dispatch=l,b.sunburst=c,b.tooltip=d,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{noData:{get:function(){return j},set:function(a){j=a}},defaultState:{get:function(){return i},set:function(a){i=a}},color:{get:function(){return h},set:function(a){h=a,c.color(h)}},duration:{get:function(){return k},set:function(a){k=a,m.reset(k),c.duration(k)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.treemap=function(){"use strict";function b(f){return q.reset(),f.each(function(f){h=d3.select(this);var q=a.utils.availableWidth(d,h,c),r=a.utils.availableHeight(e,h,c);a.utils.initSVG(h);var s=h.selectAll(".nv-wrap.nv-treemap").data([f]);s.enter().append("g").attr("class","nvd3 nv-wrap nv-treemap nv-chart-"+g);b.update=function(){0===m?h.call(b):h.transition().duration(m).call(b)},b.container=this,h.on("click",function(a,b){o.chartClick({data:a,index:b,pos:d3.event,id:g})}),p.value(function(a){return a.value}).size([q,r]).nodes({children:f});var t=s.selectAll(".node").data(f),u=t.enter().append("g").attr("class","node").on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("opacity",.8),o.elementMouseover({data:a,color:d3.select(this).select("rect").style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("opacity",1),o.elementMouseout({data:a})}).on("mousemove",function(a,b){o.elementMousemove({data:a})}).on("click",function(a,b){var c=this;a.selected=!a.selected,d3.select(this).classed("selected",a.selected),o.elementClick({data:a,index:b,color:d3.select(this).select("rect").style("fill"),event:d3.event,element:c})});if(u.append("rect"),u.append("clipPath").attr("id",function(a,b){return"clip-node-"+g+"-"+b}).append("rect"),j&&"function"==typeof j){var v=u.append("a").attr("class","nv-href").attr("xlink:href",function(a){return j(a)});v.append("text").text(function(a){return n(a.name)}).attr("clip-path",function(a,b){return"url(#clip-node-"+g+"-"+b+")"}).attr("dx",".3em").attr("dy","1em"),v.on("mouseover",function(a,b){d3.event.stopPropagation(),d3.event.preventDefault(),o.elementMouseout({data:a})})}else u.append("text").text(function(a){return n(a.name)}).attr("clip-path",function(a,b){return"url(#clip-node-"+g+"-"+b+")"}).attr("dx",".3em").attr("dy","1em");l&&u.append("path").attr("class","nv-check").attr("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"),t.attr("transform",function(a){return"translate("+a.x+", "+a.y+")"}),t.selectAll("rect").attr("width",function(a){return a.dx}).attr("height",function(a){return a.dy}).style("fill",function(a,b){return a.color?a.color:k?i(a.children?a:a.parent):i(a,a.name)}).style("stroke","#FFF"),l&&t.select("path.nv-check").attr("transform",function(a,b){var c=[a.dx/2-10,a.dy/2-10];return"translate("+c[0]+", "+c[1]+")"}),t.classed("selected",function(a){return a.value>0&&a.selected}),t.exit().remove()}),q.renderEnd("treemap immediate"),b}var c={top:0,right:0,bottom:0,left:0},d=null,e=null,f="count",g=Math.floor(1e4*Math.random()),h=null,i=a.utils.defaultColor(),j=null,k=!1,l=!1,m=500,n=function(a){return a},o=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),p=d3.layout.treemap().sort(null),q=a.utils.renderWatch(o);return b.dispatch=o,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},mode:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},duration:{get:function(){return m},set:function(a){m=a}},showChecks:{get:function(){return l},set:function(a){l=a}},groupColorByParent:{get:function(){return k},set:function(a){k=!!a}},margin:{get:function(){return c},set:function(a){c.top=void 0!=a.top?a.top:c.top,c.right=void 0!=a.right?a.right:c.right,c.bottom=void 0!=a.bottom?a.bottom:c.bottom,c.left=void 0!=a.left?a.left:c.left}},color:{get:function(){return i},set:function(b){i=a.utils.getColor(b)}},href:{get:function(){return j},set:function(a){j=d3.functor(a)}},keyFormat:{get:function(){return n},set:function(a){n=d3.functor(a)}}}),a.utils.initOptions(b),b},a.models.treemapChart=function(){"use strict";function b(h){return n.reset(),n.models(c),h.each(function(h){var i=d3.select(this);a.utils.initSVG(i);var j=a.utils.availableWidth(f,i,e),l=a.utils.availableHeight(g,i,e);if(b.update=function(){0===k?i.call(b):i.transition().duration(k).call(b)},b.container=this,d.chartContainer(b.container.parentNode),!h||!h.length)return a.utils.noData(b,i),b;i.selectAll(".nv-noData").remove();var m=i.selectAll("g.nv-wrap.nv-treemapChart").data([h]),n=m.enter().append("g").attr("class","nvd3 nv-wrap nv-treemapChart").append("g"),o=m.select("g");n.append("g").attr("class","nv-treemapWrap"),m.attr("transform","translate("+e.left+","+e.top+")"),c.width(j).height(l);var p=o.select(".nv-treemapWrap").datum(h);d3.transition(p).call(c)}),n.renderEnd("treemapChart immediate"),b}var c=a.models.treemap(),d=a.models.tooltip(),e={top:30,right:20,bottom:20,left:20},f=null,g=null,h=a.utils.defaultColor(),i=(Math.round(1e5*Math.random()),null),j=null,k=250,l=function(a){return a},m=d3.dispatch("stateChange","changeState","renderEnd","selectChange");d.duration(0);var n=a.utils.renderWatch(m);return d.headerEnabled(!1).valueFormatter(l),c.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.value,color:a.color},d.data(a).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(a){d()}),c.dispatch.on("elementClick.select",function(a){m.selectChange(a)}),b.dispatch=m,b.treemap=c,b.tooltip=d,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{noData:{get:function(){return j},set:function(a){j=a}},defaultState:{get:function(){return i},set:function(a){i=a}},color:{get:function(){return h},set:function(a){h=a,c.color(h)}},valueFormat:{get:function(){return l},set:function(a){l=a,d.valueFormatter(a)}},keyFormat:{get:function(){return c.keyFormat()},set:function(a){c.keyFormat(a)}},duration:{get:function(){return k},set:function(a){k=a,n.reset(k),c.duration(k)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.trend=function(){"use strict";function b(h){return m.reset(),h.each(function(h){function i(a,b,c,d,e,f){var g=200,h=100;a.append("clipPath").attr("id","axes-clip").append("polygon").attr("points",-d.left+","+-d.top+" "+(e-g-1)+","+-d.top+" "+(e-g-1)+","+h+" "+(e+d.right)+","+h+" "+(e+d.right)+","+(f+d.bottom)+" "+-d.left+","+(f+d.bottom));var i=a.append("g").attr("clip-path","url(#axes-clip)");i.append("g").attr("class","x axis").attr("transform","translate(0,"+f+")").call(b),i.append("g").attr("class","y axis").call(c).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Time (s)");var j=a.append("g").attr("class","legend").attr("transform","translate("+(e-g)+", 0)");j.append("rect").attr("class","legend-bg").attr("width",g).attr("height",h),j.append("rect").attr("class","outer").attr("width",75).attr("height",20).attr("x",10).attr("y",10),j.append("text").attr("x",115).attr("y",25).text("5% - 95%"),j.append("rect").attr("class","inner").attr("width",75).attr("height",20).attr("x",10).attr("y",40),j.append("text").attr("x",115).attr("y",55).text("25% - 75%"),j.append("path").attr("class","median-line").attr("d","M10,80L85,80"),j.append("text").attr("x",115).attr("y",85).text("Median")}function l(a,b,c,d){var e=d3.svg.area().interpolate("basis").x(function(a){return c(a.date)||1}).y0(function(a){return d(a.pct95)}).y1(function(a){return d(a.pct75)}),f=d3.svg.area().interpolate("basis").x(function(a){return c(a.date)||1}).y0(function(a){return d(a.pct75)}).y1(function(a){return d(a.pct50)}),g=d3.svg.line().interpolate("basis").x(function(a){return c(a.date)}).y(function(a){return d(a.pct50)}),h=d3.svg.area().interpolate("basis").x(function(a){return c(a.date)||1}).y0(function(a){return d(a.pct50)}).y1(function(a){return d(a.pct25)}),i=d3.svg.area().interpolate("basis").x(function(a){return c(a.date)||1}).y0(function(a){return d(a.pct25)}).y1(function(a){return d(a.pct05)});a.selectAll("path").remove(),a.datum(b),a.append("path").attr("class","area upper outer").attr("d",e).attr("clip-path","url(#rect-clip)"),a.append("path").attr("class","area lower outer").attr("d",i).attr("clip-path","url(#rect-clip)"),a.append("path").attr("class","area upper inner").attr("d",f).attr("clip-path","url(#rect-clip)"),a.append("path").attr("class","area lower inner").attr("d",h).attr("clip-path","url(#rect-clip)"),a.append("path").attr("class","median-line").attr("d",g).attr("clip-path","url(#rect-clip)")}function m(a,b,c,d){var e=32,f=d(a.date)-e-3,g=c-e-3,h=("Client"===a.type?80:160)+e-3,i=b.append("g").attr("class","marker "+a.type.toLowerCase()).attr("transform","translate("+f+", "+g+")").attr("opacity",0);i.transition().duration(1e3).attr("transform","translate("+f+", "+h+")").attr("opacity",1),i.append("path").attr("d","M"+e+","+(c-g)+"L"+e+","+(c-g)).transition().duration(1e3).attr("d","M"+e+","+(c-h)+"L"+e+","+2*e),i.append("circle").attr("class","marker-bg").attr("cx",e).attr("cy",e).attr("r",e),i.append("text").attr("x",e).attr("y",.9*e).text(a.type),i.append("text").attr("x",e).attr("y",1.5*e).text(a.version)}function n(a,b,c,d,e,f){d.transition().duration(1e3).attr("width",b),e.forEach(function(b){m(b,a,c,f)})}function o(a,b,d){var e=p,f=q,g=d3.time.scale().range([0,e]).domain(d3.extent(b,function(a){return a.date})),h=d3.scale.linear().range([f,0]).domain([0,d3.max(b,function(a){return a.pct95})]),j=d3.svg.axis().scale(g).orient("bottom").innerTickSize(-f).outerTickSize(0).tickPadding(10),k=d3.svg.axis().scale(h).orient("left").innerTickSize(-e).outerTickSize(0).tickPadding(10),m=a.append("clipPath").attr("id","rect-clip").append("rect").attr("width",0).attr("height",f);i(a,j,k,c,e,f),l(a,b,g,h),n(a,e,f,m,d,g)}g=d3.select(this);var p=a.utils.availableWidth(d,g,c),q=a.utils.availableHeight(e,g,c);a.utils.initSVG(g);var r=g.selectAll(".nv-wrap.nv-trend").data([h]),s=(r.enter().append("g").attr("class","nvd3 nv-wrap nv-trend nv-chart-"+f),g.selectAll(".nv-wrap.nv-trend"));s.selectAll("*").remove(),h.series&&h.series.length&&o(s,h.series,h.markers),b.update=function(){0===j?g.call(b):g.transition().duration(j).call(b)},b.container=this,g.on("click",function(a,b){k.chartClick({data:a,index:b,
pos:d3.event,id:f})})}),m.renderEnd("trend immediate"),b}var c={top:0,right:0,bottom:0,left:0},d=null,e=null,f=Math.floor(1e4*Math.random()),g=null,h=a.utils.defaultColor(),i="serif",j=500,k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),l=function(a){return d3.format(",.0f")(a)+" TWh"},m=a.utils.renderWatch(k);return b.dispatch=k,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},font:{get:function(){return i},set:function(a){i=a}},id:{get:function(){return f},set:function(a){f=a}},duration:{get:function(){return j},set:function(a){j=a}},groupColorByParent:{get:function(){return groupColorByParent},set:function(a){groupColorByParent=!!a}},margin:{get:function(){return c},set:function(a){c.top=void 0!=a.top?a.top:c.top,c.right=void 0!=a.right?a.right:c.right,c.bottom=void 0!=a.bottom?a.bottom:c.bottom,c.left=void 0!=a.left?a.left:c.left}},color:{get:function(){return h},set:function(b){h=a.utils.getColor(b)}},format:{get:function(){return l},set:function(a){l=d3.functor(a)}}}),a.utils.initOptions(b),b},a.models.trendChart=function(){"use strict";function b(d){return n.reset(),n.models(c),d.each(function(d){var h=d3.select(this);a.utils.initSVG(h);var i=a.utils.availableWidth(f,h,e),j=a.utils.availableHeight(g,h,e);if(b.update=function(){0===l?h.call(b):h.transition().duration(l).call(b)},b.container=this,!(d&&d.series&&d.series.length))return a.utils.noData(b,h),b;h.selectAll(".nv-noData").remove();var k=h.selectAll("g.nv-wrap.nv-trendChart").data([d]);k.enter().append("g").attr("class","nvd3 nv-wrap nv-trendChart").append("g").attr("class","nv-trendWrap"),k.attr("transform","translate("+e.left+","+e.top+")"),c.width(i).height(j),k.select(".nv-trendWrap").datum(d).call(c)}),n.renderEnd("trendChart immediate"),b}var c=a.models.trend(),d=a.models.tooltip(),e={top:30,right:20,bottom:20,left:20},f=null,g=null,h=a.utils.defaultColor(),i="serif",j=(Math.round(1e5*Math.random()),null),k=null,l=250,m=d3.dispatch("stateChange","changeState","renderEnd");d.duration(0);var n=a.utils.renderWatch(m);return d.headerEnabled(!1).valueFormatter(function(a,b){return a}),c.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.size,color:a.color},d.data(a).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(a){d()}),b.dispatch=m,b.trend=c,b.tooltip=d,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{noData:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return j},set:function(a){j=a}},color:{get:function(){return h},set:function(a){h=a,c.color(h)}},font:{get:function(){return i},set:function(a){i=a,c.font(i)}},duration:{get:function(){return l},set:function(a){l=a,n.reset(l),c.duration(l)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.wordcloud=function(){"use strict";function b(o){return n.reset(),o.each(function(n){function o(a,b){var c=b?Math.min(p/Math.abs(b[1].x-p/2),p/Math.abs(b[0].x-p/2),q/Math.abs(b[1].y-q/2),q/Math.abs(b[0].y-q/2))/2:1,d=s.selectAll("text").data(a,function(a){return a.text.toLowerCase()});d.style("font-size",function(a){return a.size+"px"}).transition().duration(1e3).attr("transform",function(a){return"translate("+[a.x,a.y]+")rotate("+a.rotate+")"}),d.enter().append("text").attr("text-anchor","middle").style("opacity",1e-6).style("font-size",function(a){return a.size+"px"}).transition().duration(500).attr("transform",function(a){return"translate("+[a.x,a.y]+")rotate("+a.rotate+")"}).style("opacity",1),d.style("font-family",function(a){return a.font}).style("fill",function(a){return h(a.text.toLowerCase())}).text(function(a){return a.text}),s.transition().attr("transform","translate("+[p>>1,q>>1]+")scale("+c+")")}g=d3.select(this);var p=a.utils.availableWidth(d,g,c),q=a.utils.availableHeight(e,g,c);a.utils.initSVG(g);var r=g.selectAll(".nv-wrap.nv-wordcloud").data([n]),s=(r.enter().append("g").attr("class","nvd3 nv-wrap nv-wordcloud nv-chart-"+f),g.selectAll(".nv-wrap.nv-wordcloud"));n.length&&(l.domain([+n.slice(-1)[0].value||1,+n[0].value]),m.stop().size([p,q]).font(i).words(n).on("end",o).start()),b.update=function(){0===j?g.call(b):g.transition().duration(j).call(b)},b.container=this,s.attr("transform","translate("+p/2+","+q/2+")"),g.on("click",function(a,b){k.chartClick({data:a,index:b,pos:d3.event,id:f})})}),m.on("end",b.draw),n.renderEnd("wordcloud immediate"),b}var c={top:0,right:0,bottom:0,left:0},d=null,e=null,f=Math.floor(1e4*Math.random()),g=null,h=a.utils.defaultColor(),i="serif",j=500,k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),l=d3.scale.sqrt().range([10,100]),m=d3.layout.cloud().timeInterval(1/0).font(i).spiral("archimedean").fontSize(function(a){return l(+a.value)}).text(function(a){return a.key}),n=a.utils.renderWatch(k);return b.dispatch=k,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},font:{get:function(){return i},set:function(a){i=a}},id:{get:function(){return f},set:function(a){f=a}},duration:{get:function(){return j},set:function(a){j=a}},groupColorByParent:{get:function(){return groupColorByParent},set:function(a){groupColorByParent=!!a}},margin:{get:function(){return c},set:function(a){c.top=void 0!=a.top?a.top:c.top,c.right=void 0!=a.right?a.right:c.right,c.bottom=void 0!=a.bottom?a.bottom:c.bottom,c.left=void 0!=a.left?a.left:c.left}},color:{get:function(){return h},set:function(b){h=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.wordcloudChart=function(){"use strict";function b(d){return n.reset(),n.models(c),d.each(function(d){var h=d3.select(this);a.utils.initSVG(h);var i=a.utils.availableWidth(f,h,e),j=a.utils.availableHeight(g,h,e);if(b.update=function(){0===l?h.call(b):h.transition().duration(l).call(b)},b.container=this,!d||!d.length)return a.utils.noData(b,h),b;h.selectAll(".nv-noData").remove();var k=h.selectAll("g.nv-wrap.nv-wordcloudChart").data([d]);k.enter().append("g").attr("class","nvd3 nv-wrap nv-wordcloudChart").append("g").attr("class","nv-wordcloudWrap"),k.attr("transform","translate("+e.left+","+e.top+")"),c.width(i).height(j),k.select(".nv-wordcloudWrap").datum(d).call(c)}),n.renderEnd("wordcloudChart immediate"),b}var c=a.models.wordcloud(),d=a.models.tooltip(),e={top:30,right:20,bottom:20,left:20},f=null,g=null,h=a.utils.defaultColor(),i="serif",j=(Math.round(1e5*Math.random()),null),k=null,l=250,m=d3.dispatch("stateChange","changeState","renderEnd");d.duration(0);var n=a.utils.renderWatch(m);return d.headerEnabled(!1).valueFormatter(function(a,b){return a}),c.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.size,color:a.color},d.data(a).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(a){d()}),b.dispatch=m,b.wordcloud=c,b.tooltip=d,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{noData:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return j},set:function(a){j=a}},color:{get:function(){return h},set:function(a){h=a,c.color(h)}},font:{get:function(){return i},set:function(a){i=a,c.font(i)}},duration:{get:function(){return l},set:function(a){l=a,n.reset(l),c.duration(l)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.version="1.9.26"}();
//# sourceMappingURL=nv.d3.min.js.map